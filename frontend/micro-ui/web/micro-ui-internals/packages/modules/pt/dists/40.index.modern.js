"use strict";(self.webpackChunk_egovernments_digit_ui_module_pt=self.webpackChunk_egovernments_digit_ui_module_pt||[]).push([[40],{4964:function(e,t,n){var r=n(2539),a=n(2735),o=n(9708);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p={searchId:{propertyIds:{type:"text",label:"PT_PROPERTY_UNIQUE_ID",placeHolder:"PT_PROPERTY_UNIQUE_ID_PLACEHOLDER",validation:{pattern:{value:/[A-Za-z]{2}\-[A-Za-z]{2}\-[0-9]{4}\-[0-9]{2}\-[0-9]{2}\-[0-9]{6}/,message:"ERR_INVALID_PROPERTY_ID"}}},oldPropertyId:{type:"text",label:"PT_EXISTING_PROPERTY_ID",placeholder:"PT_EXISTING_PROPERTY_ID_PLACEHOLDER",validation:{pattern:{value:/[A-Za-z]{2}\-[A-Za-z]{2}\-[0-9]{4}\-[0-9]{2}\-[0-9]{2}\-[0-9]{6}/,message:"ERR_INVALID_PROPERTY_ID"}}},mobileNumber:{type:"number",label:"PT_HOME_SEARCH_RESULTS_OWN_MOB_LABEL",placeHolder:"PT_HOME_SEARCH_RESULTS_OWN_MOB_PLACEHOLDER",validation:{minLength:{value:10,message:"CORE_COMMON_MOBILE_ERROR"},maxLength:{value:10,message:"CORE_COMMON_MOBILE_ERROR"},pattern:{value:/[789][0-9]{9}/,message:"CORE_COMMON_MOBILE_ERROR"}}}},searchDetail:{locality:{type:"custom",label:"PT_SEARCH_LOCALITY",placeHolder:"PT_SEARCH_LOCALITY_PLACEHOLDER",validation:{required:"PTLOCALITYMANDATORY"},customComponent:r.B1i,customCompProps:{boundaryType:"revenue",keepNull:!1,optionCardStyles:{height:"600px",overflow:"auto",zIndex:"10"},disableLoader:!0}},doorNo:{type:"text",label:"PT_SEARCHPROPERTY_TABEL_DOOR_NO",placeHolder:"PT_SEARCH_DOOR_NO_PLACEHOLDER",validation:{pattern:{value:"[A-Za-z0-9#,/ -()]{1,63}",message:"ERR_INVALID_DOOR_NO"}}},name:{type:"text",label:"PT_SEARCHPROPERTY_TABEL_OWNERNAME",placeHolder:"PT_SEARCH_OWNER_NAME_PLACEHOLDER",validation:{minLength:{value:3,message:"PT_MIN_3CHAR"},pattern:{value:"[A-Za-z .`'-]{3,63}",message:"PAYMENT_INVALID_NAME"}}}}},d={propertyIds:"",mobileNumber:"",oldPropertyId:"",locality:"",name:"",doorNo:""};t.Z=function(){var e=(0,o.$)().t,t=Digit.ULBService.getCurrentTenantId(),n=s((0,a.useState)({}),2),l=n[0],m=n[1],f=s((0,a.useState)(d),2),E=f[0],y=f[1],b=s((0,a.useState)("searchId"),2),v=b[0],g=b[1],h=s((0,a.useState)(null),2),P=h[0],S=h[1],O=(0,a.memo)(Digit.ComponentRegistryService.getComponent("PropertySearchForm")),_=(0,a.memo)(Digit.ComponentRegistryService.getComponent("PropertySearchResults")),T=Digit.Hooks.pt.useMDMS(Digit.ULBService.getStateId(),"DIGIT-UI","HelpText",{select:function(e){var t,n,r;return null==e||null===(t=e["DIGIT-UI"])||void 0===t||null===(n=t.HelpText)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.PT}}),A=T.data,C=(T.isLoading,(0,a.useCallback)((function(){y(d),m({}),S(null)})));(0,a.useEffect)((function(){1==sessionStorage.getItem("searchDetailValue")&&"searchId"===v&&g("searchDetail")}),[v]);var R=(0,a.useCallback)((function(e){y(e),Object.keys(e).filter((function(t){return e[t]&&"object"!==u(e[t])})).length>0?(m(Object.keys(e).filter((function(t){return e[t]})).reduce((function(t,n){return i(i({},t),{},c({},n,"object"===u(e[n])?e[n].code:e[n]))}),{})),S(null)):S({warning:!0,label:"ERR_PT_FILL_VALID_FIELDS"})}));return a.createElement(a.Fragment,null,a.createElement(r.h4i,null,e("SEARCH_PROPERTY")),a.createElement(O,{t:e,payload:E,searchBy:v,setSearchBy:g,PTSearchFields:p,tenantId:t,onSubmit:R,onReset:C}),Object.keys(l).length>0&&a.createElement(_,{t:e,showToast:P,setShowToast:S,tenantId:t,payload:l,ptSearchConfig:i({},A)}),P&&a.createElement(r.FNi,{error:P.error,warning:P.warning,label:e(P.label),onClose:function(){S(null)}}))}},6040:function(e,t,n){n.r(t),n.d(t,{default:function(){return Mt}});var r=n(2539),a=n(2735),o=n(9708),l=n(648),i=n(9769),c=n(4309),u=n(9158),s=n(90),m=n(3680),p=n(1635),d=n(6860),f=n(6140),E=n(1453),y=n(9095),b=n(5206),v=n(6565),g=n(3797),h=n(9395),P=n(4482),S=n(4196),O=n(5809),_=n(853),T=n(2472),A=n(9791),C=n(6942),R=n(2633),I=n(9382),N=n(7415),w=n(9641),L=n(3881),D=n(3930),M=n(294),x=n(6339),j=n(5633),k=n(6885),Z=n(5319),H=n(7092),B=n(5724),F=n(7475),U=n(5825),Y=n(1043),W=n(1690),K=n(875),z=n(6502),V=n(2673),$=n(5536),X=n(3526),G=n(3501),Q=n(8486),q=n(6889),J=n(555),ee=n(4636),te=n(2753),ne=n(1416),re=n(6920),ae=n(5157),oe=n(1236),le=n(3633),ie=n(8052),ce=n(9574),ue=n(6326),se=n(1242),me=n(9426),pe=n(3886),de=n(5405),fe=n(9942),Ee=(n(9797),n(1132)),ye=n(820),be=n(1431),ve=n(3557),ge=n(2152),he=n(5186),Pe=n(6749),Se=n(6501),Oe=n(6545),_e=n(2575);function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}B.Z,E.Z,_.Z,P.Z,O.Z,p.Z,I.Z,R.Z,w.Z,C.Z,A.Z,N.Z,L.Z,S.Z,h.Z,J.Z,ee.Z,m.Z,v.Z,T.Z,g.Z,u.Z,j.Z,i.Z,s.Z,y.Z,b.Z,c.Z,f.Z,d.Z,q.Z,te.Z,ne.Z,ne.Z,D.Z,M.Z,x.Z,k.Z,Z.Z,H.Z,re.Z,ae.Z,oe.Z,le.Z,ce.Z,ue.Z,se.Z,ie.Z,me.Z,pe.Z,de.Z,F.Z,U.Z,Y.$,W.Z,be.Z,ve.Z,ge.Z,he.Z,Pe.Z,Se.Z,Oe.Z,_e.Z,K.Z,z.n,V.N,$.Z,X.Z,H.Z,G.Z,Q.Z;var Ae=function(e){var t,n,l=e.matchPath,i=(e.userType,(0,o.$)().t),c=(t=Digit.Hooks.useSessionStorage("PT_CREATE_PROPERTY",{}),n=3,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Te(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=(c[0],c[1],c[2]);(0,a.useEffect)((function(){u()}),[]);var s=[{link:"".concat(l,"/property/citizen-search"),i18nKey:i("PT_SEARCH_AND_PAY")},{link:"/digit-ui/citizen/payment/my-bills/PT",i18nKey:i("CS_TITLE_MY_BILLS")},{link:"".concat(l,"/property/my-payments"),i18nKey:i("PT_MY_PAYMENTS_HEADER")},{link:"".concat(l,"/property/new-application"),i18nKey:i("PT_CREATE_PROPERTY")},{link:"".concat(l,"/property/my-properties"),i18nKey:i("PT_MY_PROPERTIES")},{link:"".concat(l,"/property/my-applications"),i18nKey:i("PT_MY_APPLICATION")},{link:"".concat(l,"/property/property-mutation"),i18nKey:i("PT_PROPERTY_MUTATION")}];return a.createElement(r.B8T,{header:i("ACTION_TEST_PROPERTY_TAX"),links:s,Icon:function(){return a.createElement(r.LO4,{className:"fill-path-primary-main"})}})},Ce=(fe.Z,Ee.Z,ye.X,function(e){var t=e.t,n=e.currentPage,o=e.columns,l=e.data,i=e.getCellProps,c=e.disableSort,u=e.onSort,s=e.onNextPage,m=e.onPrevPage,p=e.onPageSizeChange,d=e.pageSizeLimit,f=e.sortParams,E=e.totalRecords;return a.createElement(r.iA_,{t:t,data:l,currentPage:n,columns:o,getCellProps:i,onNextPage:s,onPrevPage:m,pageSizeLimit:d,disableSort:c,onPageSizeChange:p,onSort:u,sortParams:f,totalRecords:E})}),Re=n(4911);function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ne=function(e){e.parentRoute;var t,n,l=e.businessService,i=(0,o.$)().t,c=[{text:"ES_TITLE_NEW_REGISTRATION",link:"/digit-ui/employee/pt/new-application",businessService:"PT",roles:["PT_CEMP"]},{text:"PT_SEARCH_PROPERTY",link:"/digit-ui/employee/pt/search",businessService:"PT",roles:[]},{text:"ES_COMMON_APPLICATION_SEARCH",link:"/digit-ui/employee/pt/application-search",businessService:"PT",roles:[]}],u=(t=(0,a.useState)([]),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ie(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=u[0],m=u[1],p=Digit.UserService.getUser().info.roles;return(0,a.useEffect)((function(){var e=c.filter((function(e){return e.businessService===l})).filter((function(e){var t=e.roles;return t.some((function(e){return p.map((function(e){return e.code})).includes(e)}))||!(null!=t&&t.length)}));m(e)}),[]),a.createElement(r.Zbd,{className:"employeeCard filter inboxLinks"},a.createElement("div",{className:"complaint-links-container"},a.createElement("div",{className:"header"},a.createElement("span",{className:"logo"},a.createElement(r.G5V,null))," ",a.createElement("span",{className:"text"},i("ES_TITLE_PROPERTY_TAX"))),a.createElement("div",{className:"body"},s.map((function(e,t){var n=e.link,r=e.text,o=e.hyperlink,l=void 0!==o&&o;return e.roles,a.createElement("span",{className:"link",key:t},l?a.createElement("a",{href:n},r):a.createElement(Re.rU,{to:n},i(r)))})))))},we=n(2486),Le=["pattern","name","maxLength","minLength","errorMessages"];function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var je={date:r.Mtg,mobileNumber:r.N_d,Locality:function(e){return a.createElement(r.B1i,{tenantId:Digit.ULBService.getCurrentTenantId(),selectLocality:e.onChange,keepNull:!1,boundaryType:"revenue",selected:e.value,disableLoader:!0,sortFn:function(e,t){return e.i18nkey<t.i18nkey?-1:1}})}},ke=function(e){var t,n=e.onSearch,l=e.type,i=e.onClose,c=e.searchFields,u=e.searchParams,s=e.isInboxPage,m=(e.defaultSearchParams,e.clearSearch),p=(0,o.$)().t,d=(0,we.cI)({defaultValues:s?u:Me({locality:null,city:null},u)}),f=d.handleSubmit,E=d.reset,y=d.watch,b=d.control,v=d.setError,g=d.clearErrors,h=d.formState,P=d.setValue,S=y(),O=innerWidth<=640;function _(){var e=c.reduce((function(e,t){return Me(Me({},e),{},xe({},null==t?void 0:t.name,""))}),{});if(E(e),s){var t=Me({},u);t.delete=[],c.forEach((function(e){t.delete.push(null==e?void 0:e.name)})),n(Me({},t))}else m()}(0,a.useEffect)((function(){c.forEach((function(e){var t=e.pattern,n=e.name,r=e.maxLength,a=e.minLength,o=e.errorMessages,l=(function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}}(e,Le),S[n]),i=h.errors[n];t&&(new RegExp(t).test(l)||i?new RegExp(t).test(l)&&"pattern"===(null==i?void 0:i.type)&&g([n]):v(n,{type:"pattern",message:p(null==o?void 0:o.pattern)||p("PATTERN_".concat(n.toUpperCase(),"_FAILED"))})),a&&((null==l?void 0:l.length)<a&&!i?v(n,{type:"minLength",message:p((null==o?void 0:o.minLength)||"MINLENGTH_".concat(n.toUpperCase(),"_FAILED"))}):(null==l?void 0:l.length)>=a&&"minLength"===(null==i?void 0:i.type)&&g([n])),r&&((null==l?void 0:l.length)>r&&!i?v(n,{type:"maxLength",message:p((null==o?void 0:o.maxLength)||"MAXLENGTH_".concat(n.toUpperCase(),"_FAILED"))}):(null==l?void 0:l.length)<=r&&"maxLength"===(null==i?void 0:i.type)&&g([n]))}))}),[S,h,v,g]);var T,A,C=function(e){var t=e?{margin:0}:{};return a.createElement(r.Hx8,{style:Me({display:"inline"},t),onClick:_},p("ES_COMMON_CLEAR_SEARCH"))};return a.createElement("form",{onSubmit:f((function(e){e.mobileNumber||delete e.mobileNumber,e.delete=[],c.forEach((function(t){e[t.name]||e.delete.push(t.name)})),n(e),"mobile"===l&&i()}))},a.createElement(a.Fragment,null,a.createElement("div",{className:"search-container",style:{width:"auto",marginLeft:s?"24px":"revert"}},a.createElement("div",{className:"search-complaint-container"},("mobile"===l||O)&&a.createElement("div",{className:"complaint-header"},a.createElement("h2",null,p("ES_COMMON_SEARCH_BY")),a.createElement("span",{onClick:i},a.createElement(r.sZC,null))),a.createElement("div",{className:"complaint-input-container for-pt "+(s?"":"for-search"),style:{width:"100%"}},null==c||null===(t=c.filter((function(e){return!0})))||void 0===t?void 0:t.map((function(e,t){var n,o,l;return a.createElement("div",{key:e.name,className:"input-fields"},a.createElement("span",{className:"mobile-input"},a.createElement(r.__J,null,p(e.label)+" ".concat(e.isMendatory?"*":"")),e.type?a.createElement(we.Qr,{render:function(t){var n=null==je?void 0:je[e.type];return a.createElement(n,{formValue:S,setValue:P,onChange:t.onChange,value:t.value})},name:e.name,control:b,defaultValue:""}):a.createElement(we.Qr,{render:function(e){return a.createElement(r.oil,{onChange:e.onChange,value:e.value})},name:e.name,control:b,defaultValue:""})),null!=h&&null!==(n=h.dirtyFields)&&void 0!==n&&n[e.name]?a.createElement("span",{style:{fontWeight:"700",color:"rgba(212, 53, 28)",paddingLeft:"8px",marginTop:"-20px",fontSize:"12px"},className:"inbox-search-form-error"},null==h||null===(o=h.errors)||void 0===o||null===(l=o[e.name])||void 0===l?void 0:l.message):null)})),s&&a.createElement("div",{style:{gridColumn:"2/3",textAlign:"right",paddingTop:"10px"},className:"input-fields"},a.createElement("div",null,C())),"desktop"===l&&!O&&a.createElement("div",{style:{maxWidth:"unset",marginLeft:"unset"},className:"search-submit-wrapper"},a.createElement(r.Jel,{className:"submit-bar-search",label:p("ES_COMMON_SEARCH"),disabled:!!Object.keys(h.errors).length||(A=!0,Object.keys(S).forEach((function(e){!["locality","city"].includes(e)&&S[e]&&(A=!1)})),null==c||!c.find((function(e){return"locality"===e.name}))||null!=S&&null!==(T=S.locality)&&void 0!==T&&T.code||(A=!0),A),submit:!0}),!s&&a.createElement("div",null,C()))))),("mobile"===l||O)&&a.createElement(r.olz,{className:"clear-search-container"},a.createElement("button",{className:"clear-search",style:{flex:1}},C(O)),a.createElement(r.Jel,{disabled:!!Object.keys(h.errors).length,label:p("ES_COMMON_SEARCH"),style:{flex:1},submit:!0}))))},Ze=["tableConfig","filterComponent"];function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ue=function(e){var t,n=e.tableConfig,l=e.filterComponent,i=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,Ze),c=i.data,u=i.useNewInboxAPI,s=(0,o.$)().t,m=Be((0,a.useState)((function(){var e;return null===(e=Digit.ComponentRegistryService)||void 0===e?void 0:e.getComponent(l)})),2),p=m[0],d=(m[1],Be((0,a.useState)((function(){var e;return null===(e=Digit.ComponentRegistryService)||void 0===e?void 0:e.getComponent(i.EmptyResultInboxComp)})),2)),f=d[0],E=(d[1],Be((0,a.useState)(!1),2)),y=E[0],b=E[1],v=a.useMemo((function(){return i.isSearch?n.searchColumns(i):n.inboxColumns(i)||[]}),[]);if(i.isLoading)t=a.createElement(r.aNw,null);else if(y)t=null;else if(!c||0===(null==c?void 0:c.length)||u&&null!=c&&c[0].dataEmpty)t=f&&a.createElement(f,{data:c})||(0===(null==c?void 0:c.length)||u&&null!=c&&c[0].dataEmpty?a.createElement(r.Zbd,{style:{marginTop:20}},s("CS_MYAPPLICATIONS_NO_APPLICATION").split("\\n").map((function(e,t){return a.createElement("p",{key:t,style:{textAlign:"center"}},e)}))):a.createElement(r.aNw,null));else if((null==c?void 0:c.length)>0){var g;t=a.createElement(Ce,(He(g={t:s,data:c,columns:v,getCellProps:function(e){return{style:{minWidth:e.column.Header===s("ES_INBOX_APPLICATION_NO")?"240px":"",padding:"20px 18px",fontSize:"16px"}}},onPageSizeChange:i.onPageSizeChange,currentPage:i.currentPage,onNextPage:i.onNextPage,onPrevPage:i.onPrevPage,pageSizeLimit:i.pageSizeLimit,onSort:i.onSort,disableSort:i.disableSort},"onPageSizeChange",i.onPageSizeChange),He(g,"sortParams",i.sortParams),He(g,"totalRecords",i.totalRecords),g))}return a.createElement("div",{className:"inbox-container"},!i.isSearch&&a.createElement("div",{className:"filters-container"},a.createElement(Ne,{parentRoute:i.parentRoute,businessService:i.moduleCode}),a.createElement("div",null,a.createElement(p,{defaultSearchParams:i.defaultSearchParams,onFilterChange:i.onFilterChange,searchParams:i.searchParams,type:"desktop",useNewInboxAPI:u,statusMap:u?null==c?void 0:c[0].statusMap:null,moduleCode:i.moduleCode}))),a.createElement("div",{style:{flex:1}},a.createElement(ke,{defaultSearchParams:i.defaultSearchParams,onSearch:function(e){i.onSearch(e),b(!1)},type:"desktop",searchFields:i.searchFields,isInboxPage:!(null!=i&&i.isSearch),searchParams:i.searchParams,clearSearch:function(){return b(!0)}}),a.createElement("div",{className:"result",style:{marginLeft:null!=i&&i.isSearch?"":"24px",flex:1}},t)))};function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var We=function(e){var t,n,l=(0,o.$)().t,i=(t=(0,a.useState)((function(){var t,n;return null!==(t=e.sortParams)&&void 0!==t&&null!==(n=t[0])&&void 0!==n&&n.desc?{code:"DESC",name:l("ES_INBOX_DATE_LATEST_FIRST")}:{code:"ASC",name:l("ES_INBOX_DATE_LATEST_LAST")}})),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ye(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=i[0];function u(){}return i[1],a.createElement(a.Fragment,null,a.createElement("div",{className:"filter"},a.createElement("div",{className:"filter-card"},a.createElement("div",{className:"heading"},a.createElement("div",{className:"filter-label"},l("SORT_BY"),":"),a.createElement("div",{className:"clearAll",onClick:u},l("ES_COMMON_CLEAR_ALL")),"desktop"===e.type&&a.createElement("span",{className:"clear-search",onClick:u},l("ES_COMMON_CLEAR_ALL")),"mobile"===e.type&&a.createElement("span",{onClick:e.onClose},a.createElement(r.sZC,null))),a.createElement("div",null,a.createElement(r.GSj,{onSelect:function(t){e.onSort([{id:"createdTime",desc:"DESC"===t.code}]),e.onClose()},selectedOption:c,optionsKey:"name",options:[{code:"DESC",name:l("ES_INBOX_DATE_LATEST_FIRST")},{code:"ASC",name:l("ES_INBOX_DATE_LATEST_LAST")}]})))))};function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ve(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $e=function(e){var t,n=e.t,o=e.data,l=e.onFilterChange,i=e.onSearch,c=e.onSort,u=e.serviceRequestIdKey,s=e.isFstpOperator,m=e.isLoading,p=e.isSearch,d=e.searchParams,f=e.searchFields,E=e.sortParams,y=e.linkPrefix,b=(e.removeParam,e.filterComponent),v=ze((0,a.useState)(p?"SEARCH":""),2),g=v[0],h=v[1],P=ze((0,a.useState)(!!p),2),S=P[0],O=P[1],_=ze((0,a.useState)(E),2),T=(_[0],_[1]),A=ze((0,a.useState)((function(){var e;return null===(e=Digit.ComponentRegistryService)||void 0===e?void 0:e.getComponent(b)})),1)[0];(0,a.useEffect)((function(){g&&O(!0)}),[g]);var C,R=function(){O(!1),h(""),T(E)};return m?a.createElement(r.aNw,null):(o&&0!==(null==o?void 0:o.length)?o&&(null==o?void 0:o.length)>0&&(C=a.createElement(r.DVn,{data:o,serviceRequestIdKey:u,linkPrefix:y||"/digit-ui/employee/pt/"})):C=a.createElement(r.Zbd,{style:{marginTop:20}},n("CS_MYAPPLICATIONS_NO_APPLICATION").split("\\n").map((function(e,t){return a.createElement("p",{key:t,style:{textAlign:"center"}},e)}))),a.createElement(a.Fragment,null,a.createElement("div",{className:"searchBox"},i&&a.createElement(r.DGQ,{text:"SEARCH",handleActionClick:function(){h("SEARCH"),O(!0)}}),!p&&l&&a.createElement(r.GzZ,{text:"FILTER",handleActionClick:function(){h("FILTER"),O(!0)}}),a.createElement(r.GzZ,{text:"SORT",handleActionClick:function(){h("SORT"),O(!0)}})),C,S&&a.createElement(r.N4A,null,"FILTER"===g&&a.createElement("div",{className:"popup-module"},a.createElement(A,{onFilterChange:function(e){l(e),O(!1)},Close:R,type:"mobile",searchParams:d})),"SORT"===g&&a.createElement("div",{className:"popup-module"},a.createElement(We,(Ke(t={type:"mobile",sortParams:E,onClose:R},"type","mobile"),Ke(t,"onSort",c),t))),"SEARCH"===g&&a.createElement("div",{className:"popup-module"},a.createElement(ke,{type:"mobile",onClose:R,onSearch:i,isFstpOperator:s,searchParams:d,searchFields:f})))))};function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ge=function(e){var t,n,l=e.linkPrefix,i=e.classNameForMobileView,c=void 0===i?"":i,u=(0,o.$)().t,s=[{text:u("ES_TITLE_NEW_REGISTRATION"),link:"/digit-ui/employee/pt/new-application"},{text:u("ES_TITILE_SEARCH_APPLICATION"),link:"".concat(l,"/search")}],m=(t=(0,a.useState)([]),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xe(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=m[0],d=m[1],f=Digit.UserService.getUser().info.roles;return(0,a.useEffect)((function(){var e=[];s.forEach((function(t){var n;t.accessTo?(n=t.accessTo,f.filter((function(e){return n.includes(e.code)})).length&&e.push(t)):e.push(t)})),d(e)}),[]),a.createElement(r.Zbd,{className:"employeeCard filter"},a.createElement("div",{className:"complaint-links-container ".concat(c)},a.createElement("div",{className:"header"},a.createElement("span",{className:"logo"},a.createElement(r.dZC,null))," ",a.createElement("span",{className:"text"},u("ES_TITLE_PROPERTY_TAX"))),a.createElement("div",{className:"body"},p.map((function(e,t){var n=e.link,r=e.text;return a.createElement("span",{className:"link",key:t},a.createElement(Re.rU,{to:n},r))})))))},Qe=function(e){var t=e.data,n=e.isLoading,r=e.isSearch,l=e.searchFields,i=e.onFilterChange,c=e.onSearch,u=e.onSort,s=e.parentRoute,m=e.searchParams,p=e.sortParams,d=e.linkPrefix,f=e.tableConfig,E=e.filterComponent,y=(0,o.$)().t;return a.createElement("div",{style:{padding:0}},a.createElement("div",{className:"inbox-container"},a.createElement("div",{className:"filters-container"},!r&&a.createElement(Ge,{classNameForMobileView:"linksWrapperForMobileInbox",linkPrefix:s,isMobile:!0}),a.createElement($e,{t:y,data:null==t?void 0:t.map((function(e){var t={};return(r?f.searchColumns():f.inboxColumns()).forEach((function(n){n.mobileCell&&(t[n.Header]=n.mobileCell(e))})),t})),onFilterChange:i,isLoading:n,isSearch:r,onSearch:c,onSort:u,searchParams:m,searchFields:l,linkPrefix:d,sortParams:p,serviceRequestIdKey:null==f?void 0:f.serviceRequestIdKey,filterComponent:E}))))},qe=["isFetching","isLoading","searchResponseKey","data","searchFields"];function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var at=function(e){var t,n,l,i,c,u=e.useNewInboxAPI,s=e.parentRoute,m=e.moduleCode,p=void 0===m?"PT":m,d=e.initialStates,f=void 0===d?{}:d,E=e.filterComponent,y=e.isInbox,b=e.rawWfHandler,v=e.rawSearchHandler,g=e.combineResponse,h=e.wfConfig,P=e.searchConfig,S=e.middlewaresWf,O=e.middlewareSearch,_=e.EmptyResultInboxComp,T=Digit.ULBService.getCurrentTenantId(),A=(0,o.$)().t,C=nt((0,a.useState)((function(){return y?{}:{enabled:!1}})),2),R=C[0],I=C[1],N=nt((0,a.useState)((function(){var e;return null===(e=Digit.ComponentRegistryService)||void 0===e?void 0:e.getComponent("PTInboxTableConfig")})),2),w=N[0],L=(N[1],nt((0,a.useState)(f.pageOffset||0),2)),D=L[0],M=L[1],x=nt((0,a.useState)(f.pageSize||10),2),j=x[0],k=x[1],Z=nt((0,a.useState)(f.sortParams||[{id:"createdTime",desc:!1}]),2),H=Z[0],B=Z[1],F=nt((0,a.useState)(f.searchParams||{}),2),U=F[0],Y=F[1],W=window.Digit.Utils.browser.isMobile(),K=W?{limit:100,offset:0,sortBy:null==H||null===(t=H[0])||void 0===t?void 0:t.id,sortOrder:null!=H&&null!==(n=H[0])&&void 0!==n&&n.desc?"DESC":"ASC"}:{limit:j,offset:D,sortBy:null==H||null===(l=H[0])||void 0===l?void 0:l.id,sortOrder:null!=H&&null!==(i=H[0])&&void 0!==i&&i.desc?"DESC":"ASC"},z=u?Digit.Hooks.useNewInboxGeneral({tenantId:T,ModuleCode:p,filters:et(et(et({},U),K),{},{sortParams:H})}):Digit.Hooks.useInboxGeneral({tenantId:T,businessService:p,isInbox:y,filters:et(et(et({},U),K),{},{sortParams:H}),rawWfHandler:b,rawSearchHandler:v,combineResponse:g,wfConfig:h,searchConfig:et(et({},R),P),middlewaresWf:S,middlewareSearch:O}),V=(z.isFetching,z.isLoading),$=(z.searchResponseKey,z.data),X=z.searchFields,G=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(z,qe);(0,a.useEffect)((function(){M(0)}),[U]);var Q,q,J=function(e){var t=e.delete,n=et(et({},U),e);t&&t.forEach((function(e){return delete n[e]})),delete e.delete,Y(et({},n)),I({enabled:!0})},ee=(0,a.useCallback)((function(e){0!==e.length&&B(e)}),[]);if(null!==(null==G||null===(c=G.data)||void 0===c?void 0:c.length))return W?a.createElement(Qe,{data:$,isLoading:V,isSearch:!y,searchFields:X,onFilterChange:J,onSearch:J,onSort:ee,parentRoute:s,searchParams:U,sortParams:H,linkPrefix:"".concat(s,"/application-details/"),tableConfig:null!=G&&G.tableConfig?null===(Q=res)||void 0===Q?void 0:Q.tableConfig:w(A).PT,filterComponent:E,EmptyResultInboxComp:_,useNewInboxAPI:u}):a.createElement("div",null,y&&a.createElement(r.h4i,null,A("ES_COMMON_INBOX")),!y&&a.createElement(r.h4i,null,A("SEARCH_PROPERTY")),a.createElement(Ue,{moduleCode:p,data:$,tableConfig:w(A).PT,isLoading:V,defaultSearchParams:f.searchParams,isSearch:!y,onFilterChange:J,searchFields:X,onSearch:J,onSort:ee,onNextPage:function(){M((function(e){return e+j}))},onPrevPage:function(){M((function(e){return e-j}))},currentPage:Math.floor(D/j),pageSizeLimit:j,disableSort:!1,onPageSizeChange:function(e){k(Number(e.target.value))},parentRoute:s,searchParams:U,sortParams:H,totalRecords:Number(null==$||null===(q=$[0])||void 0===q?void 0:q.totalCount),filterComponent:E,EmptyResultInboxComp:_,useNewInboxAPI:u}))};function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lt(e,t,n,r,a,o,l){try{var i=e[o](l),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}var it=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Digit.Utils.downloadReceipt(null,t,"consolidatedreceipt",void 0,n);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){lt(o,r,a,l,i,"next",e)}function i(e){lt(o,r,a,l,i,"throw",e)}l(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),ct=function(e){var t=new Date(e).toString().split(" ");return t.length>0?t[2]+"-"+t[1]+"-"+t[3]:"dd-mmm-yyyy"},ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.sort((function(e,t){return t.fromPeriod-e.fromPeriod})),n=ct(t[t.length-1].fromPeriod)+" to "+ct(t[0].toPeriod);return n},st=function(){var e,t,n=(0,o.$)().t,i=Digit.ULBService.getCurrentTenantId(),c=(0,l.UO)().id,u=(e=(0,a.useState)([]),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ot(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=u[0],m=u[1],p=window.Digit.Utils.browser.isMobile(),d=Digit.Hooks.receipts.useReceiptsSearch({businessServices:"PT",consumerCodes:c},i,[],!1),f=d.isLoading,E=(d.isError,d.error,d.data);return(0,a.useEffect)((function(){var e;E&&m(null==E||null===(e=E.Payments)||void 0===e?void 0:e.map((function(e){return{receiptNumber:e.paymentDetails[0].receiptNumber,billPeriod:ut(e.paymentDetails[0].bill.billDetails),transactionDate:ct(e.transactionDate),billNo:e.paymentDetails[0].bill.billNumber,paymentStatus:e.paymentStatus?"CS_".concat(e.paymentStatus):"PT_NA",amountPaid:0===e.totalAmountPaid?"0":e.totalAmountPaid}})))}),[E]),f?a.createElement(r.aNw,null):a.createElement(a.Fragment,null,a.createElement(r.h4i,null,n("PT_PAYMENT_HISTORY")),a.createElement("div",{style:{display:"flex",paddingBottom:"8px",marginBottom:"8px"}},a.createElement("h2",{style:p?{marginLeft:"15px",fontSize:"16px",lineHeight:"24px",width:"30%",fontWeight:"700"}:{fontSize:"16px",lineHeight:"24px",width:"30%",fontWeight:"700"}},n("PT_PROPERTY_PTUID")),a.createElement("div",{style:{whiteSpace:"pre",width:"50%",fontSize:"16px",lineHeight:"24px"}},c)),s.length>0?null==s?void 0:s.map((function(e){return a.createElement("div",{style:p?{}:{marginLeft:"-16px"}},a.createElement(r.Zbd,{style:p?{marginBottom:"10px"}:{}},a.createElement(r.Jyp,null,a.createElement(r.X2j,{label:n("PT_HISTORY_BILL_PERIOD"),text:null==e?void 0:e.billPeriod,textStyle:{whiteSpace:"pre"}}),a.createElement(r.X2j,{label:n("PT_HISTORY_BILL_NO"),text:null==e?void 0:e.billNo,textStyle:{whiteSpace:"pre"}}),a.createElement(r.X2j,{label:n("PT_HISTORY_RECEIPT_NO"),text:null==e?void 0:e.receiptNumber,textStyle:{whiteSpace:"pre"}}),a.createElement(r.X2j,{label:n("PT_HISTORY_PAYMENT_DATE"),text:null==e?void 0:e.transactionDate,textStyle:{whiteSpace:"pre"}}),a.createElement(r.X2j,{label:n("PT_HISTORY_AMOUNT_PAID"),text:null==e?void 0:e.amountPaid}),a.createElement(r.X2j,{label:n("PT_HISTORY_PAYMENT_STATUS"),text:n(null==e?void 0:e.paymentStatus),textStyle:{whiteSpace:"pre"}}),a.createElement(r.Hx8,{style:p?{marginLeft:"0px"}:{},onClick:function(){return it("PT",null==e?void 0:e.receiptNumber)}},n("PT_DOWNLOAD_RECEIPT")))))})):a.createElement("div",null,a.createElement(r.SKT,null,n("PT_NO_PAYMENTS_HISTORY"))))},mt=n(4964),pt=function(e){var t,n,o=e.register,l=e.control,i=e.reset,c=(e.tenantId,e.t),u=e.formState,s=e.setShowToast,m=e.previousPage,p=[{code:"CREATE",i18nKey:"CREATE"},{code:"UPDATE",i18nKey:"UPDATE"},{code:"MUTATION",i18nKey:"MUTATION"}],d=[{code:"ACTIVE",i18nKey:"WF_PT_ACTIVE"},{code:"INACTIVE",i18nKey:"WF_PT_INACTIVE"},{code:"INWORKFLOW",i18nKey:"WF_PT_INWORKFLOW"}];return a.createElement(a.Fragment,null,a.createElement(r.UmZ,null,a.createElement("label",null,c("PT_APPLICATION_NO_LABEL")),a.createElement(r.oil,{name:"acknowledgementIds",inputRef:o({})})),a.createElement(r.UmZ,null,a.createElement("label",null,c("PT_SEARCHPROPERTY_TABEL_PID")),a.createElement(r.oil,{name:"propertyIds",inputRef:o({})})),a.createElement(r.UmZ,null,a.createElement("label",null,c("PT_OWNER_MOBILE_NO")),a.createElement(r.N_d,{name:"mobileNumber",inputRef:o({minLength:{value:10,message:c("CORE_COMMON_MOBILE_ERROR")},maxLength:{value:10,message:c("CORE_COMMON_MOBILE_ERROR")},pattern:{value:/[789][0-9]{9}/,message:c("CORE_COMMON_MOBILE_ERROR")}}),type:"number",componentInFront:a.createElement("div",{className:"employee-card-input employee-card-input--front"},"+91")}),a.createElement(r.heA,null,null==u||null===(t=u.errors)||void 0===t||null===(n=t.mobileNumber)||void 0===n?void 0:n.message)),a.createElement(r.UmZ,null,a.createElement("label",null,c("PT_SEARCHPROPERTY_TABEL_APPLICATIONTYPE")),a.createElement(we.Qr,{control:l,name:"creationReason",render:function(e){return a.createElement(r.Ltx,{selected:e.value,select:e.onChange,onBlur:e.onBlur,option:p,optionKey:"i18nKey",t:c,disable:!1})}})),a.createElement(r.UmZ,null,a.createElement("label",null,c("ES_SEARCH_PROPERTY_STATUS")),a.createElement(we.Qr,{control:l,name:"status",render:function(e){return a.createElement(r.Ltx,{selected:e.value,select:e.onChange,onBlur:e.onBlur,option:d,optionKey:"i18nKey",t:c,disable:!1})}})),a.createElement(r.UmZ,null,a.createElement("label",null,c("PT_FROM_DATE")),a.createElement(we.Qr,{render:function(e){return a.createElement(r.Mtg,{date:e.value,disabled:!1,onChange:e.onChange})},name:"fromDate",control:l})),a.createElement(r.UmZ,null,a.createElement("label",null,c("PT_TO_DATE")),a.createElement(we.Qr,{render:function(e){return a.createElement(r.Mtg,{date:e.value,disabled:!1,onChange:e.onChange})},name:"toDate",control:l})),a.createElement(r.UmZ,{className:"submit"},a.createElement(r.Jel,{label:c("ES_COMMON_SEARCH"),submit:!0}),a.createElement("p",{style:{marginTop:"10px"},onClick:function(){i({acknowledgementIds:"",fromDate:"",toDate:"",propertyIds:"",mobileNumber:"",status:"",creationReason:"",offset:0,limit:10,sortBy:"commencementDate",sortOrder:"DESC"}),s(null),m()}},c("ES_COMMON_CLEAR_ALL"))))},dt=["currentlyActiveMobileModal","searchFormFieldsComponentProps","tenantId"],ft=["currentlyActiveMobileModal","searchFormFieldsComponentProps","tenantId"];function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bt(){return bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bt.apply(this,arguments)}function vt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ht=function(e){var t,n,o=e.Controller,l=e.register,i=e.control,c=e.t,u=e.reset,s=e.previousPage,m=e.handleSubmit,p=e.tenantId,d=e.data,f=e.onSubmit,E=e.formState,y=e.setShowToast,b=(t=(0,a.useReducer)((function(e,t){switch(t.type){case"set":return t.payload;case"remove":return!1}}),!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gt(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v=b[0],g=b[1],h=function(){g({type:"remove"})},P=function(){return a.createElement("div",{className:"InboxMobilePopupCloseButtonWrapper",onClick:h},a.createElement(r.sZC,null))},S={Controller:o,register:l,control:i,t:c,reset:u,previousPage:s,formState:E,setShowToast:y},O=(0,a.useCallback)((function(e){return function(e){var t=e.currentlyActiveMobileModal,n=e.searchFormFieldsComponentProps,o=e.tenantId,l=vt(e,dt),i=l.closeMobilePopupModal;return"SearchFormComponent"===t?a.createElement(r.UIq,l,a.createElement(P,null),a.createElement("div",{className:"MobilePopupHeadingWrapper"},a.createElement("h2",null,c("ES_COMMON_SEARCH"),":")),a.createElement(pt,bt({},n,{closeMobilePopupModal:i,tenantId:o,t:c}))):a.createElement("span",null)}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){yt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({currentlyActiveMobileModal:e.currentlyActiveMobileModal,searchFormFieldsComponentProps:e.searchFormFieldsComponentProps,tenantId:e.tenantId},vt(e,ft)))}),[v]),_=(0,a.useMemo)((function(){return null!=d&&d.display||""===d?[]:null==d?void 0:d.map((function(e){var t,n,r,a,o,l,i,u,s,m,p;return yt(p={},c("PT_SEARCHPROPERTY_TABEL_PID"),null==e?void 0:e.propertyId),yt(p,c("PT_APPLICATION_NO_LABEL"),(null==e?void 0:e.acknowldgementNumber)||"-"),yt(p,c("PT_SEARCHPROPERTY_TABEL_APPLICATIONTYPE"),(null==e?void 0:e.creationReason)||""),yt(p,c("PT_COMMON_TABLE_COL_OWNER_NAME"),(null==e||null===(t=e.owners)||void 0===t?void 0:t.map((function(e){return e.name})).join(","))||""),yt(p,c("ES_SEARCH_PROPERTY_STATUS"),c((null==e?void 0:e.status)&&"WF_PT_".concat(null==e?void 0:e.status)||"NA")||""),yt(p,c("PT_ADDRESS_LABEL"),"".concat(null!=e&&null!==(n=e.address)&&void 0!==n&&n.doorNo?"".concat(null==e||null===(r=e.address)||void 0===r?void 0:r.doorNo,", "):""," ").concat(null!=e&&null!==(a=e.address)&&void 0!==a&&a.street?"".concat(null==e||null===(o=e.address)||void 0===o?void 0:o.street,", "):"").concat(null!=e&&null!==(l=e.address)&&void 0!==l&&l.landmark?"".concat(null==e||null===(i=e.address)||void 0===i?void 0:i.landmark,", "):"").concat(c(null==e||null===(u=e.address)||void 0===u?void 0:u.locality.code),", ").concat(c(null==e||null===(s=e.address)||void 0===s?void 0:s.city.code)," ").concat(c(null==e||null===(m=e.address)||void 0===m?void 0:m.pincode)?"".concat(null==e?void 0:e.address.pincode):" ")||"NA"),p}))}),[d]);return a.createElement(a.Fragment,null,a.createElement("div",{className:"searchBox"},a.createElement(r.DGQ,{text:c("ES_COMMON_SEARCH"),handleActionClick:function(){return g({type:"set",payload:"SearchFormComponent"})},tenantId:p,t:c})),v?a.createElement(r.N4A,null,a.createElement(O,{onSubmit:function(e){g({type:"remove"}),f(e)},handleSubmit:m,id:"search-form",className:"rm-mb form-field-flex-one inboxPopupMobileWrapper",searchFormFieldsComponentProps:S,currentlyActiveMobileModal:v,closeMobilePopupModal:h,tenantId:p})):null,null!=d&&d.display?a.createElement(r.Zbd,{style:{marginTop:20}},c(null==d?void 0:d.display).split("\\n").map((function(e,t){return a.createElement("p",{key:t,style:{textAlign:"center"}},e)}))):a.createElement(r.DVn,{data:_,linkPrefix:"/digit-ui/employee/pt/applicationsearch/application-details/",serviceRequestIdKey:c("PT_SEARCHPROPERTY_TABEL_PID")}))},Pt=function(e){var t,n,o=e.tenantId,l=e.isLoading,i=e.t,c=e.onSubmit,u=e.data,s=e.count,m=e.setShowToast,p=window.Digit.Utils.browser.isMobile(),d=(0,we.cI)({defaultValues:{offset:0,limit:!p&&10,sortBy:"commencementDate",sortOrder:"DESC"}}),f=d.register,E=d.control,y=d.handleSubmit,b=d.setValue,v=d.getValues,g=d.reset,h=d.formState;(0,a.useEffect)((function(){f("offset",0),f("limit",10),f("sortBy","commencementDate"),f("sortOrder","DESC")}),[f]);var P=[{code:"CREATE",i18nKey:"CREATE"},{code:"UPDATE",i18nKey:"UPDATE"},{code:"MUTATION",i18nKey:"MUTATION"}],S=[{code:"ACTIVE",i18nKey:"WF_PT_ACTIVE"},{code:"INACTIVE",i18nKey:"WF_PT_INACTIVE"},{code:"INWORKFLOW",i18nKey:"WF_PT_INWORKFLOW"}],O=function(e){return a.createElement("span",{className:"cell-text"},e)},_=(0,a.useMemo)((function(){return[{Header:i("PT_SEARCHPROPERTY_TABEL_PID"),disableSortBy:!0,accessor:function(e){return O(e.propertyId||"")}},{Header:i("PT_APPLICATION_NO_LABEL"),accessor:"acknowldgementNumber",disableSortBy:!0,Cell:function(e){var t=e.row;return a.createElement("div",null,a.createElement("span",{className:"link"},a.createElement(Re.rU,{to:"/digit-ui/employee/pt/applicationsearch/application-details/".concat(t.original.propertyId)},t.original.acknowldgementNumber)))}},{Header:i("PT_SEARCHPROPERTY_TABEL_APPLICATIONTYPE"),disableSortBy:!0,accessor:function(e){return O(e.creationReason||"")}},{Header:i("PT_COMMON_TABLE_COL_OWNER_NAME"),accessor:function(e){return O(e.owners.map((function(e){return e.name})).join(",")||"")},disableSortBy:!0},{Header:i("ES_SEARCH_PROPERTY_STATUS"),accessor:function(e){return O(i((null==e?void 0:e.status)&&"WF_PT_".concat(e.status)||"NA"))},disableSortBy:!0},{Header:i("PT_ADDRESS_LABEL"),disableSortBy:!0,accessor:function(e){return O((t=e.address,"".concat(null!=t&&t.doorNo?"".concat(null==t?void 0:t.doorNo,", "):""," ").concat(null!=t&&t.street?"".concat(null==t?void 0:t.street,", "):"").concat(null!=t&&t.landmark?"".concat(null==t?void 0:t.landmark,", "):"").concat(i(null==t?void 0:t.locality.code),", ").concat(i(null==t?void 0:t.city),",").concat(i(null==t?void 0:t.pincode)?"".concat(t.pincode):" ")||""));var t}}]}),[]),T=(0,a.useCallback)((function(e){0!==e.length&&(b("sortBy",e.id),b("sortOrder",e.desc?"DESC":"ASC"))}),[]);function A(){b("offset",v("offset")-v("limit")),y(c)()}return a.createElement(a.Fragment,null,p?a.createElement(ht,{Controller:we.Qr,register:f,control:E,t:i,reset:g,previousPage:A,handleSubmit:y,tenantId:o,data:u,onSubmit:c,formState:h,setShowToast:m}):a.createElement("div",null,a.createElement(r.h4i,null,i("PT_SEARCH_PROP_APP")),a.createElement(r.Zbd,{className:"card-search-heading"},a.createElement("span",{style:{color:"#505A5F"}},i("Provide at least one parameter to search for an application"))),a.createElement(r.UIq,{onSubmit:c,handleSubmit:y},a.createElement(r.UmZ,null,a.createElement("label",null,i("PT_APPLICATION_NO_LABEL")),a.createElement(r.oil,{name:"acknowledgementIds",inputRef:f({})})),a.createElement(r.UmZ,null,a.createElement("label",null,i("PT_SEARCHPROPERTY_TABEL_PID")),a.createElement(r.oil,{name:"propertyIds",inputRef:f({})})),a.createElement(r.UmZ,null,a.createElement("label",null,i("PT_OWNER_MOBILE_NO")),a.createElement(r.N_d,{name:"mobileNumber",inputRef:f({minLength:{value:10,message:i("CORE_COMMON_MOBILE_ERROR")},maxLength:{value:10,message:i("CORE_COMMON_MOBILE_ERROR")},pattern:{value:/[789][0-9]{9}/,message:i("CORE_COMMON_MOBILE_ERROR")}}),type:"number",componentInFront:a.createElement("div",{className:"employee-card-input employee-card-input--front"},"+91")}),a.createElement(r.heA,null,null==h||null===(t=h.errors)||void 0===t||null===(n=t.mobileNumber)||void 0===n?void 0:n.message)),a.createElement(r.UmZ,null,a.createElement("label",null,i("PT_SEARCHPROPERTY_TABEL_APPLICATIONTYPE")),a.createElement(we.Qr,{control:E,name:"creationReason",render:function(e){return a.createElement(r.Ltx,{selected:e.value,select:e.onChange,onBlur:e.onBlur,option:P,optionKey:"i18nKey",t:i,disable:!1})}})),a.createElement(r.UmZ,null,a.createElement("label",null,i("ES_SEARCH_PROPERTY_STATUS")),a.createElement(we.Qr,{control:E,name:"status",render:function(e){return a.createElement(r.Ltx,{selected:e.value,select:e.onChange,onBlur:e.onBlur,option:S,optionKey:"i18nKey",t:i,disable:!1})}})),a.createElement(r.UmZ,null,a.createElement("label",null,i("PT_FROM_DATE")),a.createElement(we.Qr,{render:function(e){return a.createElement(r.Mtg,{date:e.value,disabled:!1,onChange:e.onChange})},name:"fromDate",control:E})),a.createElement(r.UmZ,null,a.createElement("label",null,i("PT_TO_DATE")),a.createElement(we.Qr,{render:function(e){return a.createElement(r.Mtg,{date:e.value,disabled:!1,onChange:e.onChange})},name:"toDate",control:E})),a.createElement(r.UmZ,{className:"submit"},a.createElement(r.Jel,{label:i("ES_COMMON_SEARCH"),submit:!0}),a.createElement("p",{style:{marginTop:"10px"},onClick:function(){g({acknowledgementIds:"",fromDate:"",toDate:"",propertyIds:"",mobileNumber:"",status:"",creationReason:"",offset:0,limit:10,sortBy:"commencementDate",sortOrder:"DESC"}),m(null),A()}},i("ES_COMMON_CLEAR_ALL")))),!l&&null!=u&&u.display?a.createElement(r.Zbd,{style:{marginTop:20}},i(u.display).split("\\n").map((function(e,t){return a.createElement("p",{key:t,style:{textAlign:"center"}},e)}))):l||""===u?""!==u||l&&a.createElement(r.aNw,null):a.createElement(r.iA_,{t:i,data:u,totalRecords:s,columns:_,getCellProps:function(e){return{style:{minWidth:e.column.Header===i("ES_INBOX_APPLICATION_NO")?"240px":"",padding:"20px 18px",fontSize:"16px"}}},onPageSizeChange:function(e){b("limit",Number(e.target.value)),y(c)()},currentPage:v("offset")/v("limit"),onNextPage:function(){b("offset",v("offset")+v("limit")),y(c)()},onPrevPage:A,pageSizeLimit:v("limit"),onSort:T,disableSort:!1,sortParams:[{id:v("sortBy"),desc:"DESC"===v("sortOrder")}]})))};function St(e){return St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},St(e)}function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){Tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function At(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ct(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Rt=function(e){e.path,(0,l.UO)().variant;var t=(0,o.$)().t,n=Digit.ULBService.getCurrentTenantId(),i=At((0,a.useState)({}),2),c=i[0],u=i[1],s=At((0,a.useState)(null),2),m=s[0],p=s[1],d={enabled:!!(c&&Object.keys(c).length>0)},f=Digit.Hooks.pt.usePropertySearch({tenantId:n,filters:c},d),E=f.isLoading,y=f.isSuccess,b=(f.isError,f.error,f.data),v=(b=void 0===b?{}:b).Properties,g=b.Count;return a.createElement(a.Fragment,null,a.createElement(Pt,{t:t,isLoading:E,tenantId:n,setShowToast:p,onSubmit:function(e){var t=new Date(null==e?void 0:e.fromDate);null==t||t.setSeconds((null==t?void 0:t.getSeconds())-19800);var n=new Date(null==e?void 0:e.toDate);null==n||n.setSeconds((null==n?void 0:n.getSeconds())+86399-19800);var r=_t(_t(_t({},e),e.toDate?{toDate:null==n?void 0:n.getTime()}:{}),e.fromDate?{fromDate:null==t?void 0:t.getTime()}:{}),a=Object.keys(r).filter((function(e){return r[e]})).reduce((function(e,t){return _t(_t({},e),{},Tt({},t,"object"===St(r[t])?r[t].code:r[t]))}),{});!(Object.entries(a).length>0)||a.acknowledgementIds||a.creationReason||a.fromDate||a.mobileNumber||a.propertyIds||a.status||a.toDate?!(Object.entries(a).length>0&&(a.creationReason||a.status))||a.acknowledgementIds||a.fromDate||a.mobileNumber||a.propertyIds||a.toDate?Object.entries(a).length>0&&a.fromDate&&!a.toDate||!a.fromDate&&a.toDate?p({warning:!0,label:"ERR_PROVIDE_BOTH_FORM_TO_DATE"}):u(a):p({warning:!0,label:"ERR_PROVIDE_MORE_PARAM_WITH_TYPE_STATUS"}):p({warning:!0,label:"ERR_PT_FILL_VALID_FIELDS"})},data:y&&!E?v.length>0?v:{display:"ES_COMMON_NO_DATA"}:"",count:g}),m&&a.createElement(r.FNi,{error:m.error,warning:m.warning,label:t(m.label),isDleteBtn:!0,onClose:function(){p(null)}}))};function It(){return It=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},It.apply(this,arguments)}function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){Lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dt(e,t,n,r,a,o,l){try{var i=e[o](l),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}var Mt=function(e){var t,n,i,c,u,s,m,p,d,f,E,y,b,v,g,h,P,S=e.path,O=e.url,_=e.userType,T=(0,o.$)().t,A=(0,l.TH)();innerWidth,sessionStorage.removeItem("revalidateddone");var C=window.Digit.Utils.browser.isMobile(),R={searchParams:{uuid:{code:"ASSIGNED_TO_ALL",name:"ES_INBOX_ASSIGNED_TO_ALL"},services:["PT.CREATE","PT.MUTATION","PT.UPDATE"],applicationStatus:[],locality:[]}},I=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n,r){var a,o,l,i,c,u,s,m,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Digit.ULBService.getCurrentTenantId(),l=["PT"].join(),i=t.map((function(e){return e.propertyId})).join(),e.prev=3,e.next=6,Digit.PaymentService.fetchBill(o,{consumerCode:i,businessService:l});case 6:c=e.sent,u={},c.Bill.forEach((function(e){u[e.consumerCode]=e.totalAmount})),a=t.map((function(e){return wt(wt({},e),{},{due_tax:u[e.propertyId]||0})})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),p=null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s?void 0:s.data,["EG_BS_BILL_NO_DEMANDS_FOUND","EMPTY_DEMANDS"].includes(null==p||null===(m=p.Errors)||void 0===m?void 0:m[0].code)&&(a=t.map((function(e){return wt(wt({},e),{},{due_tax:0})})));case 16:return e.abrupt("return",r(a));case 17:case"end":return e.stop()}}),e,null,[[3,12]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){Dt(o,r,a,l,i,"next",e)}function i(e){Dt(o,r,a,l,i,"throw",e)}l(void 0)}))});return function(e,n,r){return t.apply(this,arguments)}}(),N=[{combineTaxDueInSearchData:I}],w=(Lt(t={},"/digit-ui/employee/pt/inbox","ES_TITLE_INBOX"),Lt(t,"/digit-ui/employee/pt/new-application","ES_TITLE_NEW_PROPERTY_APPLICATION"),Lt(t,"/digit-ui/employee/pt/search","PT_COMMON_SEARCH_PROPERTY_SUB_HEADER"),Lt(t,"/digit-ui/employee/pt/application-search","ES_COMMON_APPLICATION_SEARCH"),function(e){var t=e.location,n=(0,o.$)().t,l=[{path:"/digit-ui/employee",content:n("ES_COMMON_HOME"),show:!0},{path:"/digit-ui/employee/pt/inbox",content:n("ES_TITLE_INBOX"),show:!!t.pathname.includes("pt/inbox")},{path:"/digit-ui/employee/pt/search",content:n("PT_COMMON_SEARCH_PROPERTY_SUB_HEADER"),show:!(!t.pathname.includes("/pt/search")&&!t.pathname.includes("/pt/ptsearch"))},{path:"digit-ui/employee/pt/property-mutate-docs-required",content:n("PT_REQIURED_DOC_TRANSFER_OWNERSHIP"),show:!!t.pathname.includes("pt/property-mutate-docs-required")},{path:"/digit-ui/employee/pt/property-mutate/",content:n("ES_TITLE_MUTATE_PROPERTY"),show:!!t.pathname.includes("pt/property-mutate/")},{path:"/digit-ui/employee/pt/modify-application/",content:n("PT_UPDATE_PROPERTY"),show:!!t.pathname.includes("pt/modify-application")},{path:"/digit-ui/employee/pt/application-search",content:n("ES_COMMON_APPLICATION_SEARCH"),show:!(!t.pathname.includes("/pt/application-search")&&!t.pathname.includes("/pt/applicationsearch/application-details/"))},{path:"/digit-ui/employee/pt/ptsearch/property-details/".concat(sessionStorage.getItem("propertyIdinPropertyDetail")),content:n("PT_PROPERTY_INFORMATION"),show:!!(t.pathname.includes("/pt/property-details/")||t.pathname.includes("/pt/ptsearch/property-details/")||t.pathname.includes("/pt/ptsearch/payment-details/")||t.pathname.includes("/pt/ptsearch/assessment-details/"))},{path:"/digit-ui/employee/pt/applicationsearch/application-details/".concat(sessionStorage.getItem("applicationNoinAppDetails")),content:n("PT_APPLICATION_TITLE"),show:!(!t.pathname.includes("/pt/application-details/")&&!t.pathname.includes("/pt/applicationsearch/application-details/"))},{path:"/digit-ui/employee/pt/payment-details/",content:n("PT_PAYMENT_HISTORY"),show:!!t.pathname.includes("/pt/ptsearch/payment-details")},{path:"/digit-ui/employee/pt/assessment-details/",content:n("PT_ASSESS_PROPERTY"),show:!!t.pathname.includes("pt/ptsearch/assessment-details")}];return a.createElement(r.cIA,{style:C?{display:"flex"}:{},spanStyle:{maxWidth:"min-content"},crumbs:l})}),L=null===(n=Digit)||void 0===n||null===(i=n.ComponentRegistryService)||void 0===i?void 0:i.getComponent("PTNewApplication"),D=null===(c=Digit)||void 0===c||null===(u=c.ComponentRegistryService)||void 0===u?void 0:u.getComponent("ApplicationDetails"),M=null===(s=Digit)||void 0===s||null===(m=s.ComponentRegistryService)||void 0===m?void 0:m.getComponent("PTPropertyDetails"),x=null===(p=Digit)||void 0===p||null===(d=p.ComponentRegistryService)||void 0===d?void 0:d.getComponent("PTAssessmentDetails"),j=null===(f=Digit)||void 0===f||null===(E=f.ComponentRegistryService)||void 0===E?void 0:E.getComponent("PTEditApplication"),k=null===(y=Digit)||void 0===y||null===(b=y.ComponentRegistryService)||void 0===b?void 0:b.getComponent("PTResponse"),Z=null===(v=Digit)||void 0===v||null===(g=v.ComponentRegistryService)||void 0===g?void 0:g.getComponent("PTTransferOwnership"),H=null===(h=Digit)||void 0===h||null===(P=h.ComponentRegistryService)||void 0===P?void 0:P.getComponent("PTDocsRequired"),B=window.location.href.includes("pt/response"),F=(window.location.href.includes("pt")||window.location.href.includes("application"),window.location.href.includes("new-application")||window.location.href.includes("modify-application")||window.location.href.includes("pt/application-details"));return a.createElement(l.rs,null,a.createElement(a.Fragment,null,a.createElement("div",{className:"ground-container"},B?null:a.createElement("div",{style:F?{marginLeft:"12px"}:{marginLeft:"-4px"}},a.createElement(w,{location:A})),a.createElement(r.M8d,{exact:!0,path:"".concat(S,"/"),component:function(){return a.createElement(Ae,{matchPath:S,userType:_})}}),a.createElement(r.M8d,{path:"".concat(S,"/inbox"),component:function(){return a.createElement(at,{useNewInboxAPI:!0,parentRoute:S,businessService:"PT",filterComponent:"PT_INBOX_FILTER",initialStates:R,isInbox:!0})}}),a.createElement(r.M8d,{path:"".concat(S,"/new-application"),component:function(){return a.createElement(L,{parentUrl:O})}}),a.createElement(r.M8d,{path:"".concat(S,"/application-details/:id"),component:function(){return a.createElement(D,{parentRoute:S})}}),a.createElement(r.M8d,{path:"".concat(S,"/property-details/:id"),component:function(){return a.createElement(M,{parentRoute:S})}}),a.createElement(r.M8d,{path:"".concat(S,"/applicationsearch/application-details/:id"),component:function(){return a.createElement(D,{parentRoute:S})}}),a.createElement(r.M8d,{path:"".concat(S,"/ptsearch/property-details/:id"),component:function(){return a.createElement(M,{parentRoute:S})}}),a.createElement(r.M8d,{path:"".concat(S,"/payment-details/:id"),component:function(){return a.createElement(st,{parentRoute:S})}}),a.createElement(r.M8d,{path:"".concat(S,"/ptsearch/payment-details/:id"),component:function(){return a.createElement(st,{parentRoute:S})}}),a.createElement(r.M8d,{path:"".concat(S,"/assessment-details/:id"),component:function(){return a.createElement(x,{parentRoute:S})}}),a.createElement(r.M8d,{path:"".concat(S,"/ptsearch/assessment-details/:id"),component:function(){return a.createElement(x,{parentRoute:S})}}),a.createElement(r.M8d,{path:"".concat(S,"/modify-application/:id"),component:function(){return a.createElement(j,null)}}),a.createElement(r.M8d,{path:"".concat(S,"/response"),component:function(e){return a.createElement(k,It({},e,{parentRoute:S}))}}),a.createElement(r.M8d,{path:"".concat(S,"/property-mutate/:id"),component:function(){return a.createElement(Z,{parentRoute:S})}}),a.createElement(r.M8d,{path:"".concat(S,"/property-mutate-docs-required/:id"),component:function(){return a.createElement(H,{parentRoute:S})}}),a.createElement(r.M8d,{path:"".concat(S,"/search"),component:function(e){return a.createElement(mt.Z,It({},e,{t:T,parentRoute:S}))}}),a.createElement(r.M8d,{path:"".concat(S,"/searchold"),component:function(){return a.createElement(at,{parentRoute:S,businessService:"PT",middlewareSearch:N,initialStates:R,isInbox:!1,EmptyResultInboxComp:"PTEmptyResultInbox"})}}),a.createElement(r.M8d,{path:"".concat(S,"/application-search"),component:function(e){return a.createElement(Rt,It({},e,{parentRoute:S}))}}))))}}}]);