{"version":3,"file":"index.js","sources":["../src/components/Banner.js","../src/components/Modal/CancelConfig.js","../src/components/ReceiptCancelModal.js","../src/components/Modal/index.js","../src/utils/index.js","../src/components/ReceiptsFilter.js","../src/pages/ReceiptAcknowledgement.js","../src/pages/ReceiptDetails.js","../src/components/inbox/ApplicationLinks.js","../src/components/inbox/ApplicationTable.js","../src/components/inbox/search.js","../src/components/inbox/ReceiptsDesktopInbox.js","../src/components/inbox/ApplicationCard.js","../src/components/inbox/ReceiptsMobileInbox.js","../src/pages/ReceiptInbox.js","../src/receiptHomeCard.js","../src/Module.js"],"sourcesContent":["import { CardLabel, LabelFieldPair } from \"@egovernments/digit-ui-react-components\";\nimport React from \"react\";\n\nconst Banner = ({ t, config }) => {\n    return (\n        <LabelFieldPair>\n            <CardLabel className=\"card-label-smaller\" style={{ color: \"white\" }}>.</CardLabel>\n            <span className=\"form-field\" style={{ color: \"gray\" }}>{t(config?.texts?.header)}</span>\n        </LabelFieldPair>)\n}\nexport default Banner;","import { Dropdown } from \"@egovernments/digit-ui-react-components\";\nimport React from \"react\";\n\nexport const configCancelConfig = ({ t, selectedReason, Reasons, selectReason }) => {\n    return {\n        label: {\n            heading: `CR_COMMON_HEADER`,\n            submit: `CR_CANCEL_RECEIPT_BUTTON`,\n        },\n        form: [\n            {\n                body: [\n                    {\n                        label: t(\"CR_RECEIPT_CANCELLATION_REASON_LABEL\"),\n                        type: \"dropdown\",\n                        isMandatory: true,\n                        name: \"reason\",\n                        populators: (\n                            <Dropdown isMandatory selected={selectedReason} optionKey=\"name\" option={Reasons} select={selectReason} t={t} />\n                        ),\n                    },\n                    {\n                        label: t(\"CR_MORE_DETAILS_LABEL\"),\n                        type: \"text\",\n                        populators: {\n                            name: \"otherDetails\",\n                        },\n                        // isMandatory:selectedReason?.code==\"OTHER\"?true:false,\n                        disable: selectedReason?.code == \"OTHER\" ? false : true,\n                    },\n                    {\n                        label: t(\"CR_ADDITIONAL_PENALTY\"),\n                        type: \"text\",\n                        populators: {\n                            name: \"penalty\",\n                            disable: true\n                        },\n                        disable: true\n                    }\n                ],\n            },\n        ],\n    };\n};","import { FormComposer, Loader, Modal } from \"@egovernments/digit-ui-react-components\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { configCancelConfig } from \"./Modal/CancelConfig\";\n\nconst ReceiptCancelModal = ({ t, action, tenantId, closeModal, submitAction, applicationData, billData }) => {\n  const history = useHistory();\n  const [config, setConfig] = useState({});\n  const [Reasons, setReasons] = useState([]);\n  const [selectedReason, selecteReason] = useState(\"\");\n  const tenantIds = Digit.ULBService.getCurrentTenantId() || '';\n  const tenant = tenantIds.split && tenantIds.split('.')[0] || '';\n  const { isLoading, isError, errors, data, ...rest } = Digit.Hooks.receipts.useReceiptsMDMS(\n    tenant,\n    \"CancelReceiptReason\"\n  );\n\n  useEffect(() => {\n    return setConfig(\n      configCancelConfig({\n        t,\n        selectedReason,\n        Reasons,\n        selectReason,\n      })\n    );\n  }, [Reasons, selectedReason]);\n\n  const Heading = (props) => {\n    return <h1 className=\"heading-m\">{props.label}</h1>;\n  };\n\n  function selectReason(e) {\n    selecteReason(e);\n  }\n  const Close = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#FFFFFF\">\n      <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n      <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\" />\n    </svg>\n  );\n\n  const CloseBtn = (props) => {\n    return (\n      <div className=\"icon-bg-secondary\" onClick={props.onClick}>\n        <Close />\n      </div>\n    );\n  };\n\n  useEffect(() => {\n    setReasons(data?.dropdownData);\n  }, [data]);\n\n\n  function submit(data) {\n    history.replace(\"/digit-ui/employee/receipts/response\", {\n      paymentWorkflow: {\n        action: \"CANCEL\",\n        additionalDetails: data.otherDetails,\n        paymentId: applicationData?.Payments[0]?.id,\n        reason: selectedReason.code,\n        tenantId: applicationData?.Payments[0]?.tenantId,\n      }, key: \"UPDATE\", action: \"CANCELLATION\", businessService: applicationData?.Payments[0]?.paymentDetails[0]?.businessService\n    });\n\n  }\n  if (isLoading) {\n    return <Loader></Loader>\n  }\n  return config?.form ? (\n    <Modal\n      headerBarMain={<Heading label={t(config?.label?.heading)} />}\n      headerBarEnd={<CloseBtn onClick={closeModal} />}\n      actionCancelOnSubmit={closeModal}\n      actionSaveLabel={t(config?.label?.submit)}\n      actionSaveOnSubmit={() => { }}\n      formId=\"modal-action\"\n      isDisabled={!selectedReason}\n    >\n      <FormComposer config={config?.form} noBoxShadow inline disabled={true} childrenAtTheBottom onSubmit={submit} formId=\"modal-action\" />\n    </Modal>\n  ) : (\n    <Loader />\n  );\n};\nexport default ReceiptCancelModal;\n","import React from \"react\";\nimport ReceiptCancelModal from \"../ReceiptCancelModal\";\n\nconst ActionModal = (props) => {\n  return <ReceiptCancelModal {...props} />;\n};\n\nexport default ActionModal;\n","/* method to get date from epoch */\nexport const convertEpochToDate = (dateEpoch) => {\n    // Returning NA in else case because new Date(null) returns Current date from calender\n    if (dateEpoch) {\n        const dateFromApi = new Date(dateEpoch);\n        let month = dateFromApi.getMonth() + 1;\n        let day = dateFromApi.getDate();\n        let year = dateFromApi.getFullYear();\n        month = (month > 9 ? \"\" : \"0\") + month;\n        day = (day > 9 ? \"\" : \"0\") + day;\n        return `${day}/${month}/${year}`;\n    } else {\n        return 'NA';\n    }\n};\nexport const stringReplaceAll = (str = \"\", searcher = \"\", replaceWith = \"\") => {\n    if (searcher == \"\") return str;\n    while (str.includes(searcher)) {\n        str = str.replace(searcher, replaceWith);\n    }\n    return str;\n};\n\n/*   method to check not null  if not returns false*/\nexport const checkForNotNull = (value = \"\") => {\n    return value && value != null && value != undefined && value != \"\" ? true : false;\n};\n\nexport const convertDotValues = (value = \"\") => {\n    return (\n        (checkForNotNull(value) && ((value.replaceAll && value.replaceAll(\".\", \"_\")) || (value.replace && stringReplaceAll(value, \".\", \"_\")))) || \"NA\"\n    );\n};\n\nexport const convertToLocale = (value = \"\", key = \"\") => {\n    let convertedValue = convertDotValues(value);\n    if (convertedValue == \"NA\") {\n        return \"PT_NA\";\n    }\n    return `${key}_${convertedValue}`;\n};\n\nconst RECEIPTS_DEFAULT_SERVICE = \"PT\";\n\nexport const getDefaultReceiptService = () => {\n    return RECEIPTS_DEFAULT_SERVICE;\n}\n\nexport const getFinancialYears = (from, to) => {\n    const fromDate = new Date(from);\n    const toDate = new Date(to);\n    if (toDate.getYear() - fromDate.getYear() != 0) {\n      return `FY${fromDate.getYear() + 1900}-${toDate.getYear() - 100}`;\n    }\n    return `${fromDate.toLocaleDateString()}-${toDate.toLocaleDateString()}`;\n  }","import { CheckBox, CloseSvg, Dropdown, Loader, SubmitBar,ApplyFilterBar,ActionBar } from \"@egovernments/digit-ui-react-components\";\nimport React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { getDefaultReceiptService } from \"../utils\";\n\nconst ReceiptsFilter = ({ searchParams, onFilterChange, onSearch, removeParam, ...props }) => {\n\n  const tenantId = Digit.ULBService.getCurrentTenantId() || '';\n  const tenant = tenantId.split && tenantId.split('.')[0] || '';\n  const [_searchParams, setSearchParams] = useState(() => searchParams);\n  const { t } = useTranslation();\n  const defaultService = getDefaultReceiptService();\n  const [status, setStatus] = useState([]);\n  const [service, setService] = useState({ name: `BILLINGSERVICE_BUSINESSSERVICE_${defaultService}`, code: defaultService });\n\n  const { data, isLoading, ...rest } = Digit.Hooks.receipts.useReceiptsMDMS(\n    tenant,\n    \"CancelReceiptReasonAndStatus\"\n  );\n\n  const mdmsStatus = data?.dropdownDataStatus || [];\n\n  useEffect(() => {\n    if (service?.code != _searchParams.businessServices) {\n      setSearchParams({ businessServices: service?.code });\n    }\n  }, [service]);\n\n  useEffect(() => {\n    if (status) {\n      setSearchParams({ status: status.join(',') });\n    }\n  }, [status]);\n\n  const onCheckBoxClick = (value) => {\n    if (status.includes(value)) {\n      status.splice(status.findIndex((x) => x == value), 1)\n    } else {\n      status.push(value)\n    }\n    setStatus([...status])\n  }\n\n  const clearAll = () => {\n    onFilterChange({ delete: Object.keys(searchParams) }, true);\n    setStatus([]);\n    setService({ name: `BILLINGSERVICE_BUSINESSSERVICE_${defaultService}`, code: defaultService });\n    props?.onClose?.();\n  };\n  if (isLoading) {\n    return <Loader />\n  }\n  return (\n    <React.Fragment>\n      <div className=\"filter\">\n        <div className=\"filter-card\">\n          <div className=\"heading\">\n            <div className=\"filter-label\">{t(\"COMMON_TABLE_FILTERS\")}:</div>\n            <div className=\"clearAll\" onClick={clearAll}>\n              {t(\"CR_COMMON_CLEAR_ALL\")}\n            </div>\n            {props.type === \"desktop\" && (\n              <span className=\"clear-search\" onClick={clearAll} style={{ border: \"1px solid #e0e0e0\", padding: \"6px\" }}>\n                <svg width=\"17\" height=\"17\" viewBox=\"0 0 16 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path\n                    d=\"M8 5V8L12 4L8 0V3C3.58 3 0 6.58 0 11C0 12.57 0.46 14.03 1.24 15.26L2.7 13.8C2.25 12.97 2 12.01 2 11C2 7.69 4.69 5 8 5ZM14.76 6.74L13.3 8.2C13.74 9.04 14 9.99 14 11C14 14.31 11.31 17 8 17V14L4 18L8 22V19C12.42 19 16 15.42 16 11C16 9.43 15.54 7.97 14.76 6.74Z\"\n                    fill=\"#505A5F\"\n                  />\n                </svg>\n              </span>\n            )}\n            {props.type === \"mobile\" && (\n              <span onClick={props.onClose}>\n                <CloseSvg />\n              </span>\n            )}\n          </div>\n          <div>\n            <div>\n              <div className=\"filter-label\">{t(\"CR_COMMON_TABLE_COL_STATUS\")}</div>\n              {mdmsStatus.map((sta, index) =>\n                <CheckBox\n                  key={index + \"service\"}\n                  label={t(sta?.name)}\n                  value={sta?.code}\n                  checked={status.includes(sta?.code)}\n                  onChange={(event) =>\n                    onCheckBoxClick(event.target.value)}\n                />\n              )}\n              <div>\n                <div className=\"filter-label\">{t(\"CR_SERVICE_CATEGORY_LABEL\")}</div>\n                <Dropdown t={t} option={data?.dropdownData || null} value={service} selected={service} select={setService} optionKey={\"name\"} />\n              </div>\n              {props.type !== \"mobile\" &&<div>\n                <SubmitBar\n                  // disabled={status?.length == mdmsStatus?.length&& service?.code == defaultService}\n                  onSubmit={() => {onFilterChange(_searchParams)\n                    props?.onClose?.()}}\n                  label={t(\"ACTION_TEST_APPLY\")}\n                />\n              </div>}\n              {props.type === \"mobile\" &&(  <ActionBar>\n                <ApplyFilterBar\n                  submit={false}\n                  labelLink={t(\"ES_COMMON_CLEAR_ALL\")}\n                  buttonLink={t(\"ACTION_TEST_APPLY\")}\n                  onSubmit={() => {onFilterChange(_searchParams)\n                    props?.onClose?.()}}\n                  onClear={() => {clearAll()\n                    props?.onClose?.()}}\n                  style={{ flex: 1 }}\n                />\n              </ActionBar>)}\n            </div>\n          </div>\n        </div>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default ReceiptsFilter;\n","\nimport { ActionBar, Banner, Card, CardText, LinkButton, Loader, SubmitBar } from \"@egovernments/digit-ui-react-components\";\nimport React, { useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Link } from \"react-router-dom\";\n\nexport const printReciept = async (businessService, consumerCode) => {\n  await Digit.Utils.downloadReceipt(consumerCode, businessService, 'consolidatedreceipt');\n};\n\nconst GetMessage = (type, action, isSuccess, isEmployee, t) => {\n  return t(`CR_APPLY_${isSuccess ? \"SUCCESS\" : \"FAILURE\"}_MESSAGE_MAIN`);\n};\n\nconst GetActionMessage = (action, isSuccess, isEmployee, t) => {\n  return GetMessage(\"ACTION\", action, isSuccess, isEmployee, t);\n};\n\nconst GetLabel = (action, isSuccess, isEmployee, t) => {\n  if (isSuccess && action == \"CREATE\") {\n    return GetMessage(\"LABEL\", action, isSuccess, isEmployee, t);\n  }\n};\n\nconst BannerPicker = (props) => {\n  return (\n    <Banner\n      message={(GetActionMessage(props.action, props.isSuccess, props.isEmployee, props.t))}\n      applicationNumber={props?.data?.Payments?.[0]?.paymentDetails[0].receiptNumber}\n      info={props.isSuccess ? props.t(\"CR_RECEIPT_NUMBER\") : \"\"}\n      successful={props.isSuccess}\n    />\n  );\n};\n\nconst ReceiptAcknowledgement = (props) => {\n  const { t } = useTranslation();\n  const tenantId = Digit.ULBService.getCurrentTenantId();\n  const { state } = props.location;\n  const mutation = Digit.Hooks.receipts.useReceiptsUpdate(tenantId, state?.businessService);\n  const [mutationHappened, setMutationHappened, clear] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_HAPPENED\", false);\n  const [errorInfo, setErrorInfo, clearError] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_ERROR_DATA\", false);\n  const [successData, setsuccessData, clearSuccessData] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_SUCCESS_DATA\", false);\n\n  useEffect(() => {\n    if (mutation.data) setsuccessData(mutation.data);\n  }, [mutation.data]);\n\n  const onError = (error, variables) => {\n    setErrorInfo(error?.response?.data?.Errors[0]?.code || 'ERROR');\n    setMutationHappened(true);\n  };\n\n  useEffect(() => {\n    const onSuccess = () => {\n      setMutationHappened(true);\n    };\n    if (state.key === \"UPDATE\" && !mutationHappened && !errorInfo) {\n      mutation.mutate(\n        {\n          paymentWorkflows: [state.paymentWorkflow]\n        },\n        {\n          onError,\n          onSuccess,\n        }\n      );\n    }\n  }, []);\n\n  const DisplayText = (action, isSuccess, isEmployee, t) => {\n    if (!isSuccess) {\n      return mutation?.error?.response?.data?.Errors[0].code || errorInfo\n    } else {\n      Digit.SessionStorage.set(\"isupdate\", Math.floor(100000 + Math.random() * 900000));\n      return t('CR_APPLY_FORWARD_SUCCESS');\n    }\n  };\n\n  if (mutation.isLoading || (mutation.isIdle && !mutationHappened)) {\n    return <Loader />;\n  }\n  const Payment = mutation?.data?.Payments[0] || successData?.Payments?.[0];\n  const isSuccess = !successData ? mutation?.isSuccess : true;\n  return (\n    <Card>\n      <BannerPicker\n        t={t}\n        data={mutation?.data || successData}\n        action={state.action}\n        isSuccess={isSuccess}\n        isLoading={(mutation.isIdle && !mutationHappened) || mutation?.isLoading}\n        isEmployee={props.parentRoute.includes(\"employee\")}\n      />\n      <CardText>{t(DisplayText(state.action, isSuccess, props.parentRoute.includes(\"employee\"), t), t)}</CardText>\n      {isSuccess && (\n        <CardText>\n          <LinkButton\n            label={\n              <div className=\"response-download-button\">\n                <span>\n                  <svg width=\"20\" height=\"18\" viewBox=\"0 0 20 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M17 5H3C1.34 5 0 6.34 0 8V14H4V18H16V14H20V8C20 6.34 18.66 5 17 5ZM14 16H6V11H14V16ZM17 9C16.45 9 16 8.55 16 8C16 7.45 16.45 7 17 7C17.55 7 18 7.45 18 8C18 8.55 17.55 9 17 9ZM16 0H4V4H16V0Z\" fill=\"#F47738\" />\n                  </svg>\n                </span>\n                <span className=\"download-button\">{t(\"COMMON_TABLE_PRINT\")}</span>\n              </div>\n            }\n            style={{ width: \"100px\" }}\n            onClick={() => { printReciept(Payment?.paymentDetails[0]?.businessService, Payment?.paymentDetails[0]?.bill?.consumerCode) }}\n          />\n        </CardText>)}\n      <ActionBar>\n        <Link to={`${props.parentRoute.includes(\"employee\") ? \"/digit-ui/employee\" : \"/digit-ui/citizen\"}`}>\n          <SubmitBar label={t(\"CORE_COMMON_GO_TO_HOME\")} />\n        </Link>\n      </ActionBar>\n    </Card>\n  );\n};\n\nexport default ReceiptAcknowledgement;\n","import { ActionBar, Card, Header, Loader, Row, StatusTable, SubmitBar } from \"@egovernments/digit-ui-react-components\";\nimport React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useParams } from \"react-router-dom\";\nimport ActionModal from \"../components/Modal\";\nimport { convertEpochToDate, convertToLocale, getFinancialYears } from \"../utils\";\n\nconst canCancelReceipt=(Receipt={})=>{\n  return Receipt?.paymentStatus !== \"CANCELLED\" && Receipt?.paymentStatus !== \"DEPOSITED\" && (Receipt?.instrumentStatus == \"APPROVED\" || Receipt?.instrumentStatus == \"REMITTED\");\n}\n\nconst ReceiptDetails = () => {\n\n  const [showModal, setShowModal] = useState(false);\n  const { t } = useTranslation();\n  const { id: receiptId, service: businessService } = useParams();\n  const tenantId = Digit.ULBService.getCurrentTenantId();\n  const isupdate = Digit.SessionStorage.get(\"isupdate\")\n  const { isLoading, isError, error, data, ...rest } = Digit.Hooks.receipts.useReceiptsSearch({ receiptNumbers: decodeURIComponent(receiptId), businessServices: businessService }, tenantId, {}, isupdate);\n\n  const cancelReceipt = () => {\n    setShowModal(true);\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n  };\n\n  const submitAction = (data) => { };\n  useEffect(() => {\n    return () => {\n      rest?.revalidate();\n    }\n  }, [])\n\n  const [mutationHappened, setMutationHappened, clear] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_HAPPENED\", false);\n  const [successData, setsuccessData, clearSuccessData] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_SUCCESS_DATA\", false);\n  const [errorInfo, setErrorInfo, clearError] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_ERROR_DATA\", false);\n  useEffect(() => {\n    setMutationHappened(false);\n    clearSuccessData();\n    clearError();\n  }, []);\n\n  if (isLoading) {\n    return <Loader />;\n  }\n  const PaymentReceipt = !isLoading && data?.Payments?.length > 0 ? data.Payments[0] : {};\n\n  return (\n    <React.Fragment>\n      <div style={{ width: \"30%\", fontFamily: \"calibri\", color: \"#FF0000\" }}>\n        <Header>{t(\"CR_RECEIPT_SUMMARY\")}</Header>\n      </div>\n      {!isLoading && data?.Payments?.length > 0 ? (\n        <div >\n          <Card>\n            <StatusTable>\n              <Row label={t(\"CR_RECEIPT_NUMBER\")} text={PaymentReceipt?.paymentDetails[0]?.receiptNumber || \"NA\"} textStyle={{ whiteSpace: \"pre\" }} />\n              <Row label={t(\"CR_RECEIPT_CONSUMER_NUMBER\")} text={PaymentReceipt?.paymentDetails[0]?.bill?.consumerCode || \"NA\"} textStyle={{ whiteSpace: \"pre\" }} />\n              <Row label={t(\"CR_RECEIPT_PAYMENT_DATE\")} text={convertEpochToDate(PaymentReceipt?.paymentDetails[0]?.receiptDate) || \"NA\"} />\n              <Row label={t(\"CR_RECEIPT_PAYER_NAME\")} text={PaymentReceipt?.payerName || \"NA\"} />\n              <Row label={t(\"CR_RECEIPT_PAYER_NUMBER\")} text={PaymentReceipt?.mobileNumber || \"NA\"} />\n              <Row label={t(\"CR_RECEIPT_SERVICE_TYPE\")} text={t(convertToLocale(PaymentReceipt?.paymentDetails[0]?.businessService, 'BILLINGSERVICE_BUSINESSSERVICE')) || \"NA\"} />\n              <Row label={t(\"CR_RECEIPT_BILL_PERIOD\")} text={getFinancialYears(PaymentReceipt?.paymentDetails[0]?.bill?.billDetails[0]?.fromPeriod,PaymentReceipt?.paymentDetails[0]?.bill?.billDetails[0]?.toPeriod) || \"NA\"} />\n              <Row label={t(\"CR_RECEIPT_AMOUNT\")} text={'₹' + PaymentReceipt?.totalAmountPaid || \"NA\"} />\n              <Row label={t(\"CR_RECEIPT_PENDING_AMOUNT\")} text={'₹' + PaymentReceipt?.totalDue || \"₹0\"} />\n              <Row label={t(\"CR_RECEIPT_PAYMENT_MODE\")} text={PaymentReceipt?.paymentMode ? t(`COMMON_MASTERS_PAYMENTMODE_${PaymentReceipt?.paymentMode}`) || \"NA\" : \"NA\"} />\n              <Row label={t(\"CR_RECEIPT_TXN_ID\")} text={PaymentReceipt?.transactionNumber || \"NA\"} />\n              <Row label={t(\"CR_RECEIPT_G8_RECEIPT_NO\")} text={PaymentReceipt?.paymentDetails[0]?.manualReceiptNumber || \"NA\"} />\n              <Row label={t(\"CR_RECEIPT_G8_RECEIPT_DATE\")} text={convertEpochToDate(PaymentReceipt?.paymentDetails[0]?.manualReceiptDate) || \"NA\"} />\n            </StatusTable>\n          </Card>\n        </div>\n      ) : null}\n      {showModal ? (\n        <ActionModal t={t} tenantId={tenantId} applicationData={data} closeModal={closeModal} submitAction={submitAction} />\n      ) : null}\n      <ActionBar>\n        {canCancelReceipt(PaymentReceipt) && <SubmitBar label={t(\"CR_CANCEL_RECEIPT_BUTTON\")} onSubmit={() => cancelReceipt()} />}\n      </ActionBar>\n    </React.Fragment>\n  );\n};\n\nexport default ReceiptDetails;\n","import { AnnouncementIcon, Card } from \"@egovernments/digit-ui-react-components\";\nimport React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Link } from \"react-router-dom\";\n\nconst InboxLinks = ({ parentRoute, businessService, allLinks, headerText }) => {\n  const { t } = useTranslation();\n  const [links, setLinks] = useState([]);\n  const { roles: userRoles } = Digit.UserService.getUser().info;\n  useEffect(() => {\n    let linksToShow = allLinks\n      .filter((e) => e.businessService === businessService)\n      .filter(({ roles }) => roles.some((e) => userRoles.map(({ code }) => code).includes(e)) || !roles.length);\n    setLinks(linksToShow);\n  }, []);\n\n  const GetLogo = () => (\n    <div className=\"header\">\n      <span className=\"logo\">\n        <AnnouncementIcon />\n      </span>{\" \"}\n      <span className=\"text\">{t(headerText)}</span>\n    </div>\n  );\n  return (\n    <Card className=\"employeeCard filter inboxLinks\">\n      <div className=\"complaint-links-container\">\n        {GetLogo()}\n        <div className=\"body\">\n          {links.map(({ link, text, hyperlink = false, accessTo = [] }, index) => {\n            return (\n              <span className=\"link\" key={index}>\n                {hyperlink ? <a href={link}>{t(text)}</a> : <Link to={link}>{t(text)}</Link>}\n              </span>\n            );\n          })}\n        </div>\n      </div>\n    </Card>\n  );\n};\n\nexport default InboxLinks;","import { Table } from \"@egovernments/digit-ui-react-components\";\nimport React from \"react\";\n\nconst ApplicationTable = ({ t, columns, data, getCellProps, onNextPage, onPrevPage, currentPage, totalRecords, pageSizeLimit, onPageSizeChange, onLastPage, onFirstPage }) => (\n  <Table\n    t={t}\n    data={data}\n    manualPagination={true}\n    columns={columns}\n    getCellProps={getCellProps}\n    onNextPage={onNextPage}\n    onPrevPage={onPrevPage}\n    currentPage={currentPage}\n    totalRecords={totalRecords}\n    onLastPage={onLastPage}\n    onFirstPage={onFirstPage}\n    onPageSizeChange={onPageSizeChange}\n    pageSizeLimit={pageSizeLimit}\n  />\n);\n\nexport default ApplicationTable;\n","import { ActionBar, CloseSvg, DatePicker, Label, LinkLabel, MobileNumber, SubmitBar, TextInput } from \"@egovernments/digit-ui-react-components\";\nimport React, { useEffect } from \"react\";\nimport { Controller, useForm } from \"react-hook-form\";\nimport { useTranslation } from \"react-i18next\";\n\nconst fieldComponents = {\n  date: DatePicker,\n  mobileNumber: MobileNumber,\n};\n\nconst SearchApplication = ({ onSearch, type, onClose, searchFields, searchParams, isInboxPage, defaultSearchParams, clearSearch: _clearSearch }) => {\n  const { t } = useTranslation();\n  const { register, handleSubmit, reset, watch, control, setError, clearErrors, formState } = useForm({\n    defaultValues: searchParams,\n  });\n\n  const form = watch();\n  const mobileView = innerWidth <= 640;\n\n\n  useEffect(() => {\n    searchFields.forEach(({ pattern, name, maxLength, minLength, errorMessages, ...el }) => {\n      const value = form[name];\n      const error = formState.errors[name];\n      if (pattern) {\n        if (!new RegExp(pattern).test(value) && !error)\n          setError(name, { type: \"pattern\", message: t(errorMessages?.pattern) || t(`PATTERN_${name.toUpperCase()}_FAILED`) });\n        else if (new RegExp(pattern).test(value) && error?.type === \"pattern\") clearErrors([name]);\n      }\n      if (minLength) {\n        if (value?.length < minLength && !error)\n          setError(name, { type: \"minLength\", message: t(errorMessages?.minLength || `MINLENGTH_${name.toUpperCase()}_FAILED`) });\n        else if (value?.length >= minLength && error?.type === \"minLength\") clearErrors([name]);\n      }\n      if (maxLength) {\n        if (value?.length > maxLength && !error)\n          setError(name, { type: \"maxLength\", message: t(errorMessages?.maxLength || `MAXLENGTH_${name.toUpperCase()}_FAILED`) });\n        else if (value?.length <= maxLength && error?.type === \"maxLength\") clearErrors([name]);\n      }\n    });\n  }, [form, formState, setError, clearErrors]);\n\n  const onSubmitInput = (data) => {\n    if (true) {\n      if (!data.mobileNumber) {\n        delete data.mobileNumber;\n      }\n      data.delete = [];\n      searchFields.forEach((field) => {\n        if (!data[field.name]) data.delete.push(field.name);\n      });\n      onSearch(data);\n      if (type === \"mobile\") {\n        onClose();\n      }\n    }\n  };\n\n  function clearSearch() {\n    const resetValues = searchFields.reduce((acc, field) => ({ ...acc, [field?.name]: \"\" }), {});\n    reset(resetValues);\n    const _newParams = { ...searchParams };\n    _newParams.delete = [];\n    searchFields.forEach((e) => {\n      _newParams.delete.push(e?.name);\n    });\n    onSearch({ ..._newParams }, true);\n    if (type === \"mobile\") {\n      onClose();\n    }\n  }\n\n  const clearAll = (mobileView) => {\n    const mobileViewStyles = mobileView ? { margin: 0 } : {};\n    return (\n      <LinkLabel style={{ display: \"inline\", ...mobileViewStyles }} onClick={clearSearch}>\n        {t(\"CR_RESET_BUTTON\")}\n      </LinkLabel>\n    );\n  };\n\n  return (\n    <form onSubmit={handleSubmit(onSubmitInput)}>\n      <React.Fragment>\n        <div className=\"search-container\" style={{ width: \"auto\", marginLeft: isInboxPage ? \"24px\" : \"revert\" }}>\n          <div className=\"search-complaint-container\">\n            {(type === \"mobile\" || mobileView) && (\n              <div className=\"complaint-header\" style={{ display: 'flex', justifyContent: \"space-between\" }}>\n                <h2>{t(\"ES_COMMON_SEARCH_BY\")}</h2>\n                <span onClick={onClose}>\n                  <CloseSvg />\n                </span>\n              </div>\n            )}\n            <div className=\"complaint-input-container\" style={{ width: \"100%\" }}>\n              {searchFields\n                ?.filter((e) => true)\n                ?.map((input, index) => (\n                  <div key={input.name} className=\"input-fields\">\n                    <span className={\"mobile-input\"}>\n                      <Label>{t(input.label)}</Label>\n                      {!input.type ? (\n                        <Controller\n                          render={(props) => {\n                            return <div className=\"field-container\">\n                              {input?.componentInFront ? (\n                                <span className=\"employee-card-input employee-card-input--front\" style={{ flex: \"none\" }}>\n                                  {input?.componentInFront}\n                                </span>\n                              ) : null}\n                              <TextInput {...input} inputRef={register} watch={watch} shouldUpdate={true} />\n                            </div>\n                          }}\n                          name={input.name}\n                          control={control}\n                          defaultValue={\"\"}\n                        />\n                      ) : (\n                        <Controller\n                          render={(props) => {\n                            const Comp = fieldComponents?.[input.type];\n                            return <Comp onChange={props.onChange} value={props.value} />;\n                          }}\n                          name={input.name}\n                          control={control}\n                          defaultValue={\"\"}\n                        />\n                      )}\n                    </span>\n                    {formState?.dirtyFields?.[input.name] ? (\n                      <span\n                        style={{ fontWeight: \"700\", color: \"rgba(212, 53, 28)\", paddingLeft: \"8px\", marginTop: \"-20px\", fontSize: \"12px\" }}\n                        className=\"inbox-search-form-error\"\n                      >\n                        {formState?.errors?.[input.name]?.message}\n                      </span>\n                    ) : null}\n                  </div>\n                ))}\n              {type === \"desktop\" && !mobileView && !isInboxPage && (\n                <div className=\"search-action-wrapper\">\n                  <SubmitBar\n                    className=\"submit-bar-search\"\n                    label={t(\"CR_SEARCH_BUTTON\")}\n                    // disabled={!!Object.keys(formState.errors).length || Object.keys(form).every((key) => !form?.[key])}\n                    submit\n                  />\n                  <div style={{ width: \"100%\", textAlign: \"right\", width: \"240px\", textAlign: \"right\", marginLeft: \"96px\", marginTop: \"8px\" }}>\n                    {clearAll()}\n                  </div>\n                </div>\n              )}\n            </div>\n            {isInboxPage && (\n              <div className=\"inbox-action-container\">\n                {type === \"desktop\" && !mobileView && (\n                  <span style={{ paddingTop: \"9px\" }} className=\"clear-search\">\n                    {clearAll()}\n                  </span>\n                )}\n                {type === \"desktop\" && !mobileView && (\n                  <SubmitBar\n                    style={{ marginTop: \"unset\" }}\n                    className=\"submit-bar-search\"\n                    label={t(\"CR_SEARCH_BUTTON\")}\n                    submit\n                  />\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n        {(type === \"mobile\" || mobileView) && (\n          <ActionBar className=\"clear-search-container\">\n            <button className=\"clear-search\" style={{ flex: 1 }}>\n              {clearAll(mobileView)}\n            </button>\n            <SubmitBar\n              label={t(\"CR_SEARCH_BUTTON\")} style={{ flex: 1 }} submit={true} />\n          </ActionBar>\n        )}\n      </React.Fragment>\n    </form>\n  );\n};\n\nexport default SearchApplication;","import { Card, Loader } from \"@egovernments/digit-ui-react-components\";\nimport React, { useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Link } from \"react-router-dom\";\nimport InboxLinks from \"./ApplicationLinks\";\nimport ApplicationTable from \"./ApplicationTable\";\nimport SearchApplication from \"./search\";\n\nconst ReceiptsDesktopInbox = ({ tableConfig, filterComponent, ...props }) => {\n  const { t } = useTranslation();\n  const tenantIds = Digit.SessionStorage.get(\"HRMS_TENANTS\");\n  const GetCell = (value) => <span className=\"cell-text\">{t(value)}</span>;\n  const GetDateCell = (value) => {\n    const date = new Date(value);\n    return <span className=\"cell-text\">{date?.toLocaleDateString()}</span>\n  };\n  const GetSlaCell = (value, t, prefix = '') => {\n    return value == \"CANCELLED\" ? <span className=\"sla-cell-error\">{t(`${prefix}${value}`) || \"\"}</span> : <span className=\"sla-cell-success\">{t(`${prefix}${value}`) || \"\"}</span>;\n  };\n  const data = props?.data?.Payments;\n  const [FilterComponent, setComp] = useState(() => Digit.ComponentRegistryService?.getComponent(filterComponent));\n  const columns = React.useMemo(() => {\n    return [\n      {\n        Header: t(\"CR_COMMON_TABLE_COL_RECEIPT_NO\"),\n        disableSortBy: true,\n        Cell: ({ row }) => {\n          return (\n            <span className=\"link\">\n              <Link to={`/digit-ui/employee/receipts/details/${row.original?.paymentDetails[0]?.businessService}/${encodeURIComponent(row.original?.paymentDetails[0]?.receiptNumber)}`}>{row.original?.paymentDetails[0]?.receiptNumber}</Link>\n            </span>\n          );\n        },\n      },\n      {\n        Header: t(\"CR_COMMON_TABLE_COL_DATE\"),\n        disableSortBy: true,\n        Cell: ({ row }) => {\n          return GetDateCell(row.original?.transactionDate);\n        },\n      },\n      {\n        Header: t(\"CR_COMMON_TABLE_CONSUMERCODE\"),\n        disableSortBy: true,\n        Cell: ({ row }) => {\n          return GetCell(`${row.original?.paymentDetails[0]?.bill?.consumerCode}`);\n        },\n      },\n      {\n        Header: t(\"CR_COMMON_TABLE_COL_PAYEE_NAME\"),\n        disableSortBy: true,\n        Cell: ({ row }) => {\n          return GetCell(`${row.original?.payerName}`);\n        },\n      },\n      {\n        Header: t(\"CR_SERVICE_TYPE_LABEL\"),\n        disableSortBy: true,\n        Cell: ({ row }) => {\n          return GetCell(`${t(\"BILLINGSERVICE_BUSINESSSERVICE_\" + row.original?.paymentDetails[0]?.businessService)}`);\n        },\n      },\n      {\n        Header: t(\"CR_COMMON_TABLE_COL_STATUS\"),\n        disableSortBy: true,\n        Cell: ({ row }) => {\n          return GetSlaCell(`${row.original?.paymentStatus}`, t, 'RC_');\n        },\n      },\n\n    ];\n  }, []);\n\n  let result;\n  if (props.isLoading) {\n    result = <Loader />;\n  } else if (data?.length === 0) {\n    result = (\n      <Card style={{ marginTop: 20 }}>\n        {t(\"CS_MYAPPLICATIONS_NO_APPLICATION\")\n          .split(\"\\\\n\")\n          .map((text, index) => (\n            <p key={index} style={{ textAlign: \"center\" }}>\n              {text}\n            </p>\n          ))}\n      </Card>\n    );\n  } else if (data?.length > 0) {\n    result = (\n      <ApplicationTable\n        t={t}\n        data={data}\n        columns={columns}\n        getCellProps={(cellInfo) => {\n          return {\n            style: {\n              maxWidth: cellInfo.column.Header === t(\"HR_EMP_ID_LABEL\") ? \"140px\" : \"\",\n              padding: \"20px 18px\",\n              fontSize: \"16px\",\n            },\n          };\n        }}\n        onPageSizeChange={props.onPageSizeChange}\n        currentPage={props.currentPage}\n        onNextPage={props.onNextPage}\n        onPrevPage={props.onPrevPage}\n        onLastPage={props.onLastPage}\n        onFirstPage={props.onFirstPage}\n        pageSizeLimit={props.pageSizeLimit}\n        onSort={props.onSort}\n        disableSort={props.disableSort}\n        onPageSizeChange={props.onPageSizeChange}\n        sortParams={props.sortParams}\n        totalRecords={props.totalRecords}\n      />\n    );\n  }\n\n  return (\n    <div className=\"inbox-container\">\n      {!props.isSearch && (\n        <div className=\"filters-container\">\n          <InboxLinks\n            parentRoute={props.parentRoute}\n            allLinks={[\n              {\n                text: \"CR_COMMON_DASHBOARD_HEADER\",\n                link: \"/digit-ui/employee/receipts/inprogress\",\n                businessService: \"receipts\",\n                roles: [\"CR_PT\"],\n              },\n              {\n                text: \"CR_COMMON_REPORTS_HEADER\",\n                link: \"/digit-ui/employee/receipts/inprogress\",\n                businessService: \"receipts\",\n                roles: [\"CR_PT\"],\n              }\n            ]}\n            headerText={t(\"ACTION_TEST_RECEIPTS\")}\n            businessService={props.businessService}\n          />\n          <div>\n            {\n              <FilterComponent\n                defaultSearchParams={props.defaultSearchParams}\n                onFilterChange={props.onFilterChange}\n                searchParams={props.searchParams}\n                type=\"desktop\"\n                tenantIds={tenantIds}\n              />\n            }\n          </div>\n        </div>\n      )}\n      <div style={{ flex: 1 }}>\n        <SearchApplication\n          defaultSearchParams={props.defaultSearchParams}\n          onSearch={props.onSearch}\n          type=\"desktop\"\n          tenantIds={tenantIds}\n          searchFields={props.searchFields}\n          isInboxPage={!props?.isSearch}\n          searchParams={props.searchParams}\n        />\n        <div className=\"result\" style={{ marginLeft: !props?.isSearch ? \"24px\" : \"\", flex: 1 }}>\n          {result}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ReceiptsDesktopInbox;\n","import { Card, DetailsCard, FilterAction, Loader, PopUp, SearchAction } from \"@egovernments/digit-ui-react-components\";\nimport React, { useEffect, useState } from \"react\";\nimport ReceiptsFilter from \"../ReceiptsFilter\";\nimport SearchApplication from \"./search\";\nexport const ApplicationCard = ({\n  t,\n  data,\n  onFilterChange,\n  onSearch,\n  onSort,\n  serviceRequestIdKey,\n  isFstpOperator,\n  isLoading,\n  isSearch,\n  searchParams,\n  searchFields,\n  sortParams,\n  linkPrefix,\n  removeParam,\n  defaultSearchParams\n}) => {\n\n  const [type, setType] = useState(isSearch ? \"SEARCH\" : \"\");\n  const [popup, setPopup] = useState(isSearch ? true : false);\n  const [params, setParams] = useState(searchParams);\n  const [_sortparams, setSortParams] = useState(sortParams);\n  const selectParams = (param) => {\n    setParams((o) => ({ ...o, ...param }));\n  };\n  const clearParam = () => {\n    setParams({});\n  };\n  const onSearchPara = (param) => {\n    onFilterChange({ ...params, ...param });\n    setType(\"\");\n    setPopup(false);\n  };\n\n  useEffect(() => {\n    if (type) setPopup(true);\n  }, [type]);\n  const DSO = Digit.UserService.hasAccess([\"FSM_DSO\"]) || false;\n  const handlePopupClose = () => {\n    setPopup(false);\n    setType(\"\");\n    setParams(searchParams);\n    setSortParams(sortParams);\n  };\n  const onSearchSortParams = (d) => {\n    setSortParams(d);\n    setPopup(false);\n    setType(\"\");\n    onSort(d);\n  };\n  if (isLoading) {\n    return <Loader />;\n  }\n\n\n  let result;\n  if (!data || data?.length === 0) {\n    result = (\n      <Card style={{ marginTop: 20 }}>\n        {t(\"CS_MYAPPLICATIONS_NO_APPLICATION\")\n          .split(\"\\\\n\")\n          .map((text, index) => (\n            <p key={index} style={{ textAlign: \"center\" }}>\n              {text}\n            </p>\n          ))}\n      </Card>\n    );\n  } else if (data && data?.length > 0) {\n    result = (\n      <DetailsCard\n        data={data}\n        serviceRequestIdKey={serviceRequestIdKey}\n        linkPrefix={linkPrefix ? linkPrefix : DSO ? \"/digit-ui/employee/fsm/application-details/\" : \"/digit-ui/employee/fsm/\"}\n      />\n    );\n  }\n\n  return (\n    <React.Fragment>\n      <div className=\"searchBox\">\n        {onSearch && (\n          <SearchAction\n            text=\"SEARCH\"\n            handleActionClick={() => {\n              setType(\"SEARCH\");\n              setPopup(true);\n            }}\n          />\n        )}\n        {!isSearch && onFilterChange && (\n          <FilterAction\n            text=\"FILTER\"\n            handleActionClick={() => {\n              setType(\"FILTER\");\n              setPopup(true);\n            }}\n          />\n        )}\n        {/* <FilterAction\n          text=\"SORT\"\n          handleActionClick={() => {\n            setType(\"SORT\");\n            setPopup(true);\n          }}\n        /> */}\n      </div>\n      {result}\n      {popup && (\n        <PopUp>\n          {type === \"FILTER\" && (\n            <div className=\"popup-module\">\n              {\n                <ReceiptsFilter\n                  defaultSearchParams={defaultSearchParams}\n                  onFilterChange={onFilterChange}\n                  searchParams={searchParams}\n                  type=\"mobile\"\n                  onClose={handlePopupClose}\n                />\n              }\n            </div>\n          )}\n          {type === \"SEARCH\" && (\n            <div className=\"popup-module\">\n              <SearchApplication\n                type=\"mobile\"\n                onClose={handlePopupClose}\n                onSearch={onSearch}\n                isFstpOperator={isFstpOperator}\n                searchParams={searchParams}\n                searchFields={searchFields}\n              />\n            </div>\n          )}\n        </PopUp>\n      )}\n    </React.Fragment>\n  );\n};\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { ApplicationCard } from \"./ApplicationCard\";\n\nconst GetDateCell = (value) => {\n  const date = new Date(value);\n  return <span className=\"sla-cell\">{date?.toLocaleDateString()}</span>\n};\nconst GetCell = (value) => <span className=\"sla-cell\">{value}</span>;\n\nconst ReceiptsMobileInbox = ({\n  data,\n  isLoading,\n  isSearch,\n  searchFields,\n  onFilterChange,\n  onSearch,\n  onSort,\n  parentRoute,\n  searchParams,\n  sortParams,\n  linkPrefix,\n  tableConfig,\n  filterComponent,\n  allLinks,\n  defaultSearchParams\n}) => {\n  \n  const { t } = useTranslation();\n  const getData = () => {\n    return data?.Payments?.map((original) => ({\n      [t(\"CR_COMMON_TABLE_COL_RECEIPT_NO\")]: original?.paymentDetails[0]?.receiptNumber,\n      [t(\"CR_COMMON_TABLE_COL_DATE\")]: GetDateCell(original?.transactionDate || \"\"),\n      [t(\"CR_COMMON_TABLE_CONSUMERCODE\")]: GetCell(original?.paymentDetails[0]?.bill?.consumerCode || \"\"),\n      [t(\"CR_COMMON_TABLE_COL_PAYEE_NAME\")]: GetCell(original?.payerName),\n      [t(\"CR_SERVICE_TYPE_LABEL\")]: GetCell(t(`BILLINGSERVICE_BUSINESSSERVICE_${original?.paymentDetails[0]?.businessService}`)),\n      [t(\"CR_COMMON_TABLE_COL_STATUS\")]: GetCell(t(`RC_${original?.paymentStatus}`)),\n    }));\n  };\n  const serviceRequestIdKey = (original) => {return `${searchParams?.businessServices}/${encodeURIComponent(original?.[t(\"CR_COMMON_TABLE_COL_RECEIPT_NO\")])}`};\n  return (\n    <div style={{ padding: 0 }}>\n      <div className=\"inbox-container\">\n        <div className=\"filters-container\">\n          {/* {!isSearch && <ApplicationLinks linkPrefix={parentRoute} allLinks={allLinks} isMobile={true} />} */}\n          <ApplicationCard\n            t={t}\n            data={getData()}\n            onFilterChange={onFilterChange}\n            isLoading={isLoading}\n            isSearch={isSearch}\n            onSearch={onSearch}\n            onSort={onSort}\n            defaultSearchParams={defaultSearchParams}\n            searchParams={searchParams}\n            searchFields={searchFields}\n            linkPrefix={linkPrefix}\n            sortParams={sortParams}\n            filterComponent={filterComponent}\n            serviceRequestIdKey={serviceRequestIdKey}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ReceiptsMobileInbox;\n","import { Header, Loader } from \"@egovernments/digit-ui-react-components\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport ReceiptsDesktopInbox from \"../components/inbox/ReceiptsDesktopInbox\";\nimport ReceiptsMobileInbox from \"../components/inbox/ReceiptsMobileInbox\";\n\nconst ReceiptInbox = ({ parentRoute, businessService = \"receipts\", initialStates = {}, filterComponent, isInbox }) => {\n  const tenantId = Digit.ULBService.getCurrentTenantId();\n  const isupdate = Digit.SessionStorage.get(\"isupdate\");\n  const { t } = useTranslation();\n  const [pageOffset, setPageOffset] = useState(initialStates.pageOffset || 0);\n  const [pageSize, setPageSize] = useState(initialStates.pageSize || 10);\n  const [sortParams, setSortParams] = useState(initialStates.sortParams || [{ id: \"createdTime\", desc: false }]);\n  const [totalRecords, setTotalRecords] = useState(0);\n  const [searchParams, setSearchParams] = useState(() => {\n    return initialStates.searchParams || {};\n  });\n  const { isLoading: countLoading, data: countData, ...rest1 } = Digit.Hooks.receipts.useReceiptsSearch({ ...searchParams, isCountRequest: true }, tenantId, [], isupdate);\n  let isMobile = window.Digit.Utils.browser.isMobile();\n\n  let paginationParams = isMobile\n    ? { limit: 100, offset: pageOffset, sortOrder: sortParams?.[0]?.desc ? \"DESC\" : \"ASC\" }\n    : { limit: pageSize, offset: pageOffset, sortOrder: sortParams?.[0]?.desc ? \"DESC\" : \"ASC\" };\n\n  const { isLoading: hookLoading, isError, error, data, ...rest } = Digit.Hooks.receipts.useReceiptsSearch(searchParams, tenantId, paginationParams, isupdate);\n  let isLoading = false;\n\n  useEffect(() => {\n    return () => {\n      rest?.revalidate();\n    }\n  }, [])\n  useEffect(() => { setTotalRecords(countData?.Count) }, [countData])\n  useEffect(() => {\n    setPageOffset(0);\n  }, [searchParams]);\n\n  const fetchNextPage = () => {\n    setPageOffset((prevState) => prevState + pageSize);\n  };\n\n  const fetchPrevPage = () => {\n    setPageOffset((prevState) => prevState - pageSize);\n  };\n  const fetchLastPage = () => {\n    setPageOffset((prevState) => countData?.Count && (Math.ceil(countData?.Count / 10) * 10 - pageSize));\n  };\n\n  const fetchFirstPage = () => {\n    setPageOffset((prevState) => 0);\n  };\n  const handleFilterChange = (filterParam, reset = false) => {\n    if (!reset) {\n      let keys_to_delete = filterParam.delete;\n      let _new = { ...searchParams, ...filterParam };\n      if (keys_to_delete) keys_to_delete.forEach((key) => delete _new[key]);\n      filterParam.delete;\n      delete _new.delete;\n      setSearchParams({ ..._new });\n    } else {\n      setSearchParams({ ...initialStates.searchParams });\n    }\n\n  };\n\n  const handleSort = useCallback((args) => {\n    if (args.length === 0) return;\n    setSortParams(args);\n  }, []);\n\n  const handlePageSizeChange = (e) => {\n    setPageSize(Number(e.target.value));\n  };\n\n  const getSearchFields = () => {\n    return [\n      // {\n      //   label: t(\"CR_SERVICE_CATEGORY_LABEL\"),\n      //   name: \"service\",\n      // },\n      {\n        label: t(\"CR_CONSUMER_NO_LABEL\"),\n        name: \"consumerCodes\",\n      },\n      {\n        label: t(\"CR_RECEPIT_NO_LABEL\"),\n        name: \"receiptNumbers\",\n      },\n      {\n        label: t(\"CR_MOBILE_NO_LABEL\"),\n        name: \"mobileNumber\",\n        maxlength: 10,\n        pattern: \"[6-9][0-9]{9}\",\n        title: t(\"ES_SEARCH_APPLICATION_MOBILE_INVALID\"),\n        componentInFront: \"+91\",\n      },\n    ];\n  };\n\n  if (isLoading) {\n    return <Loader />;\n  }\n\n  if (data?.length !== null) {\n    if (isMobile) {\n      return (\n        <ReceiptsMobileInbox\n          businessService={businessService}\n          data={data}\n          tableConfig={rest?.tableConfig}\n          isLoading={hookLoading}\n          defaultSearchParams={initialStates.searchParams}\n          isSearch={!isInbox}\n          onFilterChange={handleFilterChange}\n          searchFields={getSearchFields()}\n          onSearch={handleFilterChange}\n          onSort={handleSort}\n          onNextPage={fetchNextPage}\n          onPrevPage={fetchPrevPage}\n          currentPage={Math.floor(pageOffset / pageSize)}\n          pageSizeLimit={pageSize}\n          disableSort={false}\n          onPageSizeChange={handlePageSizeChange}\n          parentRoute={parentRoute}\n          searchParams={searchParams}\n          sortParams={sortParams}\n          totalRecords={totalRecords}\n          linkPrefix={'/digit-ui/employee/receipts/details/'}\n          filterComponent={filterComponent}\n        />\n      );\n    } else {\n      return (\n        <div>\n          {isInbox && <Header>{t(\"CR_SEARCH_COMMON_HEADER\")}</Header>}\n          <ReceiptsDesktopInbox\n            businessService={businessService}\n            data={data}\n            isLoading={hookLoading}\n            defaultSearchParams={initialStates.searchParams}\n            isSearch={!isInbox}\n            onFilterChange={handleFilterChange}\n            searchFields={getSearchFields()}\n            onSearch={handleFilterChange}\n            onSort={handleSort}\n            onNextPage={fetchNextPage}\n            onPrevPage={fetchPrevPage}\n            onLastPage={fetchLastPage}\n            onFirstPage={fetchFirstPage}\n            currentPage={Math.floor(pageOffset / pageSize)}\n            pageSizeLimit={pageSize}\n            disableSort={false}\n            onPageSizeChange={handlePageSizeChange}\n            parentRoute={parentRoute}\n            searchParams={searchParams}\n            sortParams={sortParams}\n            totalRecords={totalRecords}\n            filterComponent={filterComponent}\n          />\n        </div>\n      );\n    }\n  }\n};\n\nexport default ReceiptInbox;\n","import { EmployeeModuleCard, ReceiptIcon } from \"@egovernments/digit-ui-react-components\";\nimport React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { getDefaultReceiptService } from \"./utils\";\n\nconst ReceiptsCard = () => {\n  if (!Digit.Utils.receiptsAccess()) {\n    return null;\n  }\n  const tenantId = Digit.ULBService.getCurrentTenantId();\n  const { t } = useTranslation();\n  const searchParams = {\n    tenantId: tenantId,\n    businessServices: getDefaultReceiptService(),\n    isCountRequest: true\n  };\n  const { isLoading, isError, error, data, ...rest } = Digit.Hooks.receipts.useReceiptsSearch(searchParams, tenantId, [], false);\n\n  const  propsForModuleCard  = {\n    Icon: <ReceiptIcon />,\n    moduleName: t(\"ACTION_TEST_RECEIPTS\"),\n    kpis: [\n      {\n        count: isLoading ? \"-\" : data?.Count,\n        label: t(\"CR_TOTAL_RECEIPTS\"),\n        link: `/digit-ui/employee/receipts/inbox`\n      },\n    ],\n    links: [\n      {\n        count: isLoading ? \"-\" : data?.Count,\n        label: t(\"CR_SEARCH_COMMON_HEADER\"),\n        link: `/digit-ui/employee/receipts/inbox`\n      }\n    ]\n  }\n  return <EmployeeModuleCard {...propsForModuleCard} />\n};\n\nexport default ReceiptsCard;\n\n","import { PrivateRoute } from \"@egovernments/digit-ui-react-components\";\nimport React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useSelector } from \"react-redux\";\nimport { Link, Switch, useLocation, useRouteMatch } from \"react-router-dom\";\nimport Banner from \"./components/Banner\";\nimport ActionModal from \"./components/Modal\";\nimport ReceiptsFilter from \"./components/ReceiptsFilter\";\nimport ReceiptAcknowledgement from \"./pages/ReceiptAcknowledgement\";\nimport ReceiptDetails from \"./pages/ReceiptDetails\";\nimport ReceiptInbox from \"./pages/ReceiptInbox\";\nimport ReceiptsCard from \"./receiptHomeCard\";\nimport { getDefaultReceiptService } from \"./utils\";\n\nexport const ReceiptsModule = ({ stateCode, userType }) => {\n  const moduleCode = \"RECEIPTS\";\n  const state = useSelector((state) => state);\n  const language = state?.common?.selectedLanguage;\n  const { isLoading, data: store } = Digit.Services.useStore({ stateCode, moduleCode, language });\n  const mobileView = innerWidth <= 640;\n  const location = useLocation();\n  const { t } = useTranslation();\n  const tenantId = Digit.ULBService.getCurrentTenantId();\n  const inboxInitialState = {\n    searchParams: {\n      tenantId: tenantId,\n      businessServices: getDefaultReceiptService()\n    },\n  };\n  const { path, url } = useRouteMatch();\n\n  if (userType === \"employee\") {\n    return (\n      <Switch>\n        <React.Fragment>\n          <div className=\"ground-container\">\n            <p className=\"breadcrumb\" style={{ marginLeft: mobileView ? \"2vw\" : \"revert\" }}>\n              <Link to=\"/digit-ui/employee\" style={{ cursor: \"pointer\", color: \"#666\" }}>\n                {t(\"ES_COMMON_HOME\")}\n              </Link>{\" \"}\n              / <span>{location.pathname === \"/digit-ui/employee/receipts/inbox\" ? t(\"CR_COMMON_HEADER\") : t(\"CR_COMMON_HEADER\")}</span>\n            </p>\n            <PrivateRoute\n              path={`${path}/inbox`}\n              component={() => (\n                <ReceiptInbox\n                  parentRoute={path}\n                  businessService=\"receipts\"\n                  filterComponent=\"RECEIPTS_INBOX_FILTER\"\n                  initialStates={inboxInitialState}\n                  isInbox={true}\n                />\n              )}\n            />\n            <PrivateRoute path={`${path}/inprogress`} component={(props) => <h2>{t(\"CR_RECEIPTS_SCREENS_UNDER_CONSTRUCTION\")}</h2>} />\n            <PrivateRoute path={`${path}/response`} component={(props) => <ReceiptAcknowledgement {...props} parentRoute={path} />} />\n            <PrivateRoute path={`${path}/details/:service/:id`} component={() => <ReceiptDetails />} />\n          </div>\n        </React.Fragment>\n      </Switch>\n    );\n  } else return null;\n};\n\nconst componentsToRegister = {\n  ReceiptsModule,\n  ReceiptsCard,\n\n  ActionModal,\n  Banner,\n  RECEIPTS_INBOX_FILTER: (props) => <ReceiptsFilter {...props} />,\n};\n\nexport const initReceiptsComponents = () => {\n  Object.entries(componentsToRegister).forEach(([key, value]) => {\n    Digit.ComponentRegistryService.setComponent(key, value);\n  });\n};\n"],"names":["Banner","t","config","React","LabelFieldPair","CardLabel","color","texts","header","configCancelConfig","selectedReason","Reasons","selectReason","label","heading","submit","form","body","type","isMandatory","name","populators","Dropdown","disable","code","ReceiptCancelModal","action","closeModal","submitAction","applicationData","history","useHistory","useState","setConfig","setReasons","selecteReason","tenantIds","Digit","ULBService","getCurrentTenantId","tenant","split","Hooks","receipts","useReceiptsMDMS","isLoading","isError","data","rest","useEffect","Heading","props","e","Close","CloseBtn","onClick","dropdownData","replace","paymentWorkflow","additionalDetails","otherDetails","paymentId","Payments","id","reason","tenantId","key","businessService","paymentDetails","Loader","Modal","FormComposer","ActionModal","convertEpochToDate","dateEpoch","dateFromApi","Date","month","getMonth","day","getDate","year","getFullYear","stringReplaceAll","str","searcher","replaceWith","includes","checkForNotNull","value","undefined","convertDotValues","replaceAll","convertToLocale","convertedValue","RECEIPTS_DEFAULT_SERVICE","getDefaultReceiptService","getFinancialYears","from","to","fromDate","toDate","getYear","toLocaleDateString","ReceiptsFilter","searchParams","onFilterChange","onSearch","_searchParams","setSearchParams","useTranslation","defaultService","status","setStatus","service","setService","mdmsStatus","dropdownDataStatus","businessServices","join","onCheckBoxClick","splice","findIndex","x","push","clearAll","delete","Object","keys","onClose","border","padding","CloseSvg","map","sta","index","CheckBox","event","target","SubmitBar","ActionBar","ApplyFilterBar","flex","printReciept","consumerCode","Utils","downloadReceipt","GetMessage","isSuccess","isEmployee","GetActionMessage","BannerPicker","receiptNumber","ReceiptAcknowledgement","state","location","mutation","useReceiptsUpdate","useSessionStorage","mutationHappened","setMutationHappened","errorInfo","setErrorInfo","successData","setsuccessData","onError","error","variables","response","Errors","onSuccess","mutate","paymentWorkflows","DisplayText","SessionStorage","set","Math","floor","random","isIdle","Payment","Card","parentRoute","CardText","LinkButton","width","bill","Link","canCancelReceipt","Receipt","paymentStatus","instrumentStatus","ReceiptDetails","showModal","setShowModal","useParams","receiptId","isupdate","get","useReceiptsSearch","receiptNumbers","decodeURIComponent","cancelReceipt","revalidate","clearSuccessData","clearError","PaymentReceipt","length","fontFamily","Header","StatusTable","Row","whiteSpace","receiptDate","payerName","mobileNumber","billDetails","fromPeriod","toPeriod","totalAmountPaid","totalDue","paymentMode","transactionNumber","manualReceiptNumber","manualReceiptDate","InboxLinks","allLinks","headerText","links","setLinks","userRoles","UserService","getUser","info","roles","linksToShow","filter","some","GetLogo","AnnouncementIcon","link","text","hyperlink","ApplicationTable","columns","getCellProps","onNextPage","onPrevPage","currentPage","totalRecords","pageSizeLimit","onPageSizeChange","onLastPage","onFirstPage","Table","fieldComponents","date","DatePicker","MobileNumber","SearchApplication","searchFields","isInboxPage","useForm","defaultValues","register","handleSubmit","reset","watch","control","setError","clearErrors","formState","mobileView","innerWidth","forEach","pattern","maxLength","minLength","errorMessages","el","errors","RegExp","test","message","toUpperCase","onSubmitInput","field","clearSearch","resetValues","reduce","acc","_newParams","mobileViewStyles","margin","LinkLabel","display","marginLeft","justifyContent","input","Label","Controller","componentInFront","TextInput","Comp","onChange","dirtyFields","fontWeight","paddingLeft","marginTop","fontSize","textAlign","paddingTop","ReceiptsDesktopInbox","filterComponent","GetCell","GetDateCell","GetSlaCell","prefix","ComponentRegistryService","getComponent","FilterComponent","useMemo","disableSortBy","Cell","row","original","encodeURIComponent","transactionDate","result","cellInfo","style","maxWidth","column","onSort","disableSort","sortParams","isSearch","defaultSearchParams","ApplicationCard","serviceRequestIdKey","isFstpOperator","linkPrefix","removeParam","setType","popup","setPopup","params","setParams","_sortparams","setSortParams","DSO","hasAccess","handlePopupClose","DetailsCard","SearchAction","FilterAction","PopUp","ReceiptsMobileInbox","tableConfig","getData","ReceiptInbox","initialStates","isInbox","pageOffset","setPageOffset","pageSize","setPageSize","desc","setTotalRecords","isCountRequest","countLoading","countData","rest1","isMobile","window","browser","paginationParams","limit","offset","sortOrder","hookLoading","Count","fetchNextPage","prevState","fetchPrevPage","fetchLastPage","ceil","fetchFirstPage","handleFilterChange","filterParam","keys_to_delete","_new","handleSort","useCallback","args","handlePageSizeChange","Number","getSearchFields","maxlength","title","ReceiptsCard","receiptsAccess","propsForModuleCard","Icon","ReceiptIcon","moduleName","kpis","count","EmployeeModuleCard","ReceiptsModule","stateCode","userType","moduleCode","useSelector","language","common","selectedLanguage","Services","useStore","useLocation","inboxInitialState","useRouteMatch","path","Switch","cursor","pathname","PrivateRoute","componentsToRegister","RECEIPTS_INBOX_FILTER","initReceiptsComponents","entries","setComponent"],"mappings":"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"}