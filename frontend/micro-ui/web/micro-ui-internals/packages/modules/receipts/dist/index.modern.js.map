{"version":3,"file":"index.modern.js","sources":["../src/components/Banner.js","../src/components/Modal/CancelConfig.js","../src/components/ReceiptCancelModal.js","../src/components/Modal/index.js","../src/utils/index.js","../src/components/ReceiptsFilter.js","../src/pages/ReceiptAcknowledgement.js","../src/pages/ReceiptDetails.js","../src/components/inbox/ApplicationLinks.js","../src/components/inbox/ApplicationTable.js","../src/components/inbox/search.js","../src/components/inbox/ReceiptsDesktopInbox.js","../src/components/inbox/ApplicationCard.js","../src/components/inbox/ReceiptsMobileInbox.js","../src/pages/ReceiptInbox.js","../src/receiptHomeCard.js","../src/Module.js"],"sourcesContent":["import { CardLabel, LabelFieldPair } from \"@egovernments/digit-ui-react-components\";\nimport React from \"react\";\n\nconst Banner = ({ t, config }) => {\n    return (\n        <LabelFieldPair>\n            <CardLabel className=\"card-label-smaller\" style={{ color: \"white\" }}>.</CardLabel>\n            <span className=\"form-field\" style={{ color: \"gray\" }}>{t(config?.texts?.header)}</span>\n        </LabelFieldPair>)\n}\nexport default Banner;","import { Dropdown } from \"@egovernments/digit-ui-react-components\";\nimport React from \"react\";\n\nexport const configCancelConfig = ({ t, selectedReason, Reasons, selectReason }) => {\n    return {\n        label: {\n            heading: `CR_COMMON_HEADER`,\n            submit: `CR_CANCEL_RECEIPT_BUTTON`,\n        },\n        form: [\n            {\n                body: [\n                    {\n                        label: t(\"CR_RECEIPT_CANCELLATION_REASON_LABEL\"),\n                        type: \"dropdown\",\n                        isMandatory: true,\n                        name: \"reason\",\n                        populators: (\n                            <Dropdown isMandatory selected={selectedReason} optionKey=\"name\" option={Reasons} select={selectReason} t={t} />\n                        ),\n                    },\n                    {\n                        label: t(\"CR_MORE_DETAILS_LABEL\"),\n                        type: \"text\",\n                        populators: {\n                            name: \"otherDetails\",\n                        },\n                        // isMandatory:selectedReason?.code==\"OTHER\"?true:false,\n                        disable: selectedReason?.code == \"OTHER\" ? false : true,\n                    },\n                    {\n                        label: t(\"CR_ADDITIONAL_PENALTY\"),\n                        type: \"text\",\n                        populators: {\n                            name: \"penalty\",\n                            disable: true\n                        },\n                        disable: true\n                    }\n                ],\n            },\n        ],\n    };\n};","import { FormComposer, Loader, Modal } from \"@egovernments/digit-ui-react-components\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { configCancelConfig } from \"./Modal/CancelConfig\";\n\nconst ReceiptCancelModal = ({ t, action, tenantId, closeModal, submitAction, applicationData, billData }) => {\n  const history = useHistory();\n  const [config, setConfig] = useState({});\n  const [Reasons, setReasons] = useState([]);\n  const [selectedReason, selecteReason] = useState(\"\");\n  const tenantIds = Digit.ULBService.getCurrentTenantId() || '';\n  const tenant = tenantIds.split && tenantIds.split('.')[0] || '';\n  const { isLoading, isError, errors, data, ...rest } = Digit.Hooks.receipts.useReceiptsMDMS(\n    tenant,\n    \"CancelReceiptReason\"\n  );\n\n  useEffect(() => {\n    return setConfig(\n      configCancelConfig({\n        t,\n        selectedReason,\n        Reasons,\n        selectReason,\n      })\n    );\n  }, [Reasons, selectedReason]);\n\n  const Heading = (props) => {\n    return <h1 className=\"heading-m\">{props.label}</h1>;\n  };\n\n  function selectReason(e) {\n    selecteReason(e);\n  }\n  const Close = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#FFFFFF\">\n      <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n      <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\" />\n    </svg>\n  );\n\n  const CloseBtn = (props) => {\n    return (\n      <div className=\"icon-bg-secondary\" onClick={props.onClick}>\n        <Close />\n      </div>\n    );\n  };\n\n  useEffect(() => {\n    setReasons(data?.dropdownData);\n  }, [data]);\n\n\n  function submit(data) {\n    history.replace(\"/digit-ui/employee/receipts/response\", {\n      paymentWorkflow: {\n        action: \"CANCEL\",\n        additionalDetails: data.otherDetails,\n        paymentId: applicationData?.Payments[0]?.id,\n        reason: selectedReason.code,\n        tenantId: applicationData?.Payments[0]?.tenantId,\n      }, key: \"UPDATE\", action: \"CANCELLATION\", businessService: applicationData?.Payments[0]?.paymentDetails[0]?.businessService\n    });\n\n  }\n  if (isLoading) {\n    return <Loader></Loader>\n  }\n  return config?.form ? (\n    <Modal\n      headerBarMain={<Heading label={t(config?.label?.heading)} />}\n      headerBarEnd={<CloseBtn onClick={closeModal} />}\n      actionCancelOnSubmit={closeModal}\n      actionSaveLabel={t(config?.label?.submit)}\n      actionSaveOnSubmit={() => { }}\n      formId=\"modal-action\"\n      isDisabled={!selectedReason}\n    >\n      <FormComposer config={config?.form} noBoxShadow inline disabled={true} childrenAtTheBottom onSubmit={submit} formId=\"modal-action\" />\n    </Modal>\n  ) : (\n    <Loader />\n  );\n};\nexport default ReceiptCancelModal;\n","import React from \"react\";\nimport ReceiptCancelModal from \"../ReceiptCancelModal\";\n\nconst ActionModal = (props) => {\n  return <ReceiptCancelModal {...props} />;\n};\n\nexport default ActionModal;\n","/* method to get date from epoch */\nexport const convertEpochToDate = (dateEpoch) => {\n    // Returning NA in else case because new Date(null) returns Current date from calender\n    if (dateEpoch) {\n        const dateFromApi = new Date(dateEpoch);\n        let month = dateFromApi.getMonth() + 1;\n        let day = dateFromApi.getDate();\n        let year = dateFromApi.getFullYear();\n        month = (month > 9 ? \"\" : \"0\") + month;\n        day = (day > 9 ? \"\" : \"0\") + day;\n        return `${day}/${month}/${year}`;\n    } else {\n        return 'NA';\n    }\n};\nexport const stringReplaceAll = (str = \"\", searcher = \"\", replaceWith = \"\") => {\n    if (searcher == \"\") return str;\n    while (str.includes(searcher)) {\n        str = str.replace(searcher, replaceWith);\n    }\n    return str;\n};\n\n/*   method to check not null  if not returns false*/\nexport const checkForNotNull = (value = \"\") => {\n    return value && value != null && value != undefined && value != \"\" ? true : false;\n};\n\nexport const convertDotValues = (value = \"\") => {\n    return (\n        (checkForNotNull(value) && ((value.replaceAll && value.replaceAll(\".\", \"_\")) || (value.replace && stringReplaceAll(value, \".\", \"_\")))) || \"NA\"\n    );\n};\n\nexport const convertToLocale = (value = \"\", key = \"\") => {\n    let convertedValue = convertDotValues(value);\n    if (convertedValue == \"NA\") {\n        return \"PT_NA\";\n    }\n    return `${key}_${convertedValue}`;\n};\n\nconst RECEIPTS_DEFAULT_SERVICE = \"PT\";\n\nexport const getDefaultReceiptService = () => {\n    return RECEIPTS_DEFAULT_SERVICE;\n}\n\nexport const getFinancialYears = (from, to) => {\n    const fromDate = new Date(from);\n    const toDate = new Date(to);\n    if (toDate.getYear() - fromDate.getYear() != 0) {\n      return `FY${fromDate.getYear() + 1900}-${toDate.getYear() - 100}`;\n    }\n    return `${fromDate.toLocaleDateString()}-${toDate.toLocaleDateString()}`;\n  }","import { CheckBox, CloseSvg, Dropdown, Loader, SubmitBar,ApplyFilterBar,ActionBar } from \"@egovernments/digit-ui-react-components\";\nimport React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { getDefaultReceiptService } from \"../utils\";\n\nconst ReceiptsFilter = ({ searchParams, onFilterChange, onSearch, removeParam, ...props }) => {\n\n  const tenantId = Digit.ULBService.getCurrentTenantId() || '';\n  const tenant = tenantId.split && tenantId.split('.')[0] || '';\n  const [_searchParams, setSearchParams] = useState(() => searchParams);\n  const { t } = useTranslation();\n  const defaultService = getDefaultReceiptService();\n  const [status, setStatus] = useState([]);\n  const [service, setService] = useState({ name: `BILLINGSERVICE_BUSINESSSERVICE_${defaultService}`, code: defaultService });\n\n  const { data, isLoading, ...rest } = Digit.Hooks.receipts.useReceiptsMDMS(\n    tenant,\n    \"CancelReceiptReasonAndStatus\"\n  );\n\n  const mdmsStatus = data?.dropdownDataStatus || [];\n\n  useEffect(() => {\n    if (service?.code != _searchParams.businessServices) {\n      setSearchParams({ businessServices: service?.code });\n    }\n  }, [service]);\n\n  useEffect(() => {\n    if (status) {\n      setSearchParams({ status: status.join(',') });\n    }\n  }, [status]);\n\n  const onCheckBoxClick = (value) => {\n    if (status.includes(value)) {\n      status.splice(status.findIndex((x) => x == value), 1)\n    } else {\n      status.push(value)\n    }\n    setStatus([...status])\n  }\n\n  const clearAll = () => {\n    onFilterChange({ delete: Object.keys(searchParams) }, true);\n    setStatus([]);\n    setService({ name: `BILLINGSERVICE_BUSINESSSERVICE_${defaultService}`, code: defaultService });\n    props?.onClose?.();\n  };\n  if (isLoading) {\n    return <Loader />\n  }\n  return (\n    <React.Fragment>\n      <div className=\"filter\">\n        <div className=\"filter-card\">\n          <div className=\"heading\">\n            <div className=\"filter-label\">{t(\"COMMON_TABLE_FILTERS\")}:</div>\n            <div className=\"clearAll\" onClick={clearAll}>\n              {t(\"CR_COMMON_CLEAR_ALL\")}\n            </div>\n            {props.type === \"desktop\" && (\n              <span className=\"clear-search\" onClick={clearAll} style={{ border: \"1px solid #e0e0e0\", padding: \"6px\" }}>\n                <svg width=\"17\" height=\"17\" viewBox=\"0 0 16 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path\n                    d=\"M8 5V8L12 4L8 0V3C3.58 3 0 6.58 0 11C0 12.57 0.46 14.03 1.24 15.26L2.7 13.8C2.25 12.97 2 12.01 2 11C2 7.69 4.69 5 8 5ZM14.76 6.74L13.3 8.2C13.74 9.04 14 9.99 14 11C14 14.31 11.31 17 8 17V14L4 18L8 22V19C12.42 19 16 15.42 16 11C16 9.43 15.54 7.97 14.76 6.74Z\"\n                    fill=\"#505A5F\"\n                  />\n                </svg>\n              </span>\n            )}\n            {props.type === \"mobile\" && (\n              <span onClick={props.onClose}>\n                <CloseSvg />\n              </span>\n            )}\n          </div>\n          <div>\n            <div>\n              <div className=\"filter-label\">{t(\"CR_COMMON_TABLE_COL_STATUS\")}</div>\n              {mdmsStatus.map((sta, index) =>\n                <CheckBox\n                  key={index + \"service\"}\n                  label={t(sta?.name)}\n                  value={sta?.code}\n                  checked={status.includes(sta?.code)}\n                  onChange={(event) =>\n                    onCheckBoxClick(event.target.value)}\n                />\n              )}\n              <div>\n                <div className=\"filter-label\">{t(\"CR_SERVICE_CATEGORY_LABEL\")}</div>\n                <Dropdown t={t} option={data?.dropdownData || null} value={service} selected={service} select={setService} optionKey={\"name\"} />\n              </div>\n              {props.type !== \"mobile\" &&<div>\n                <SubmitBar\n                  // disabled={status?.length == mdmsStatus?.length&& service?.code == defaultService}\n                  onSubmit={() => {onFilterChange(_searchParams)\n                    props?.onClose?.()}}\n                  label={t(\"ACTION_TEST_APPLY\")}\n                />\n              </div>}\n              {props.type === \"mobile\" &&(  <ActionBar>\n                <ApplyFilterBar\n                  submit={false}\n                  labelLink={t(\"ES_COMMON_CLEAR_ALL\")}\n                  buttonLink={t(\"ACTION_TEST_APPLY\")}\n                  onSubmit={() => {onFilterChange(_searchParams)\n                    props?.onClose?.()}}\n                  onClear={() => {clearAll()\n                    props?.onClose?.()}}\n                  style={{ flex: 1 }}\n                />\n              </ActionBar>)}\n            </div>\n          </div>\n        </div>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default ReceiptsFilter;\n","\nimport { ActionBar, Banner, Card, CardText, LinkButton, Loader, SubmitBar } from \"@egovernments/digit-ui-react-components\";\nimport React, { useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Link } from \"react-router-dom\";\n\nexport const printReciept = async (businessService, consumerCode) => {\n  await Digit.Utils.downloadReceipt(consumerCode, businessService, 'consolidatedreceipt');\n};\n\nconst GetMessage = (type, action, isSuccess, isEmployee, t) => {\n  return t(`CR_APPLY_${isSuccess ? \"SUCCESS\" : \"FAILURE\"}_MESSAGE_MAIN`);\n};\n\nconst GetActionMessage = (action, isSuccess, isEmployee, t) => {\n  return GetMessage(\"ACTION\", action, isSuccess, isEmployee, t);\n};\n\nconst GetLabel = (action, isSuccess, isEmployee, t) => {\n  if (isSuccess && action == \"CREATE\") {\n    return GetMessage(\"LABEL\", action, isSuccess, isEmployee, t);\n  }\n};\n\nconst BannerPicker = (props) => {\n  return (\n    <Banner\n      message={(GetActionMessage(props.action, props.isSuccess, props.isEmployee, props.t))}\n      applicationNumber={props?.data?.Payments?.[0]?.paymentDetails[0].receiptNumber}\n      info={props.isSuccess ? props.t(\"CR_RECEIPT_NUMBER\") : \"\"}\n      successful={props.isSuccess}\n    />\n  );\n};\n\nconst ReceiptAcknowledgement = (props) => {\n  const { t } = useTranslation();\n  const tenantId = Digit.ULBService.getCurrentTenantId();\n  const { state } = props.location;\n  const mutation = Digit.Hooks.receipts.useReceiptsUpdate(tenantId, state?.businessService);\n  const [mutationHappened, setMutationHappened, clear] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_HAPPENED\", false);\n  const [errorInfo, setErrorInfo, clearError] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_ERROR_DATA\", false);\n  const [successData, setsuccessData, clearSuccessData] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_SUCCESS_DATA\", false);\n\n  useEffect(() => {\n    if (mutation.data) setsuccessData(mutation.data);\n  }, [mutation.data]);\n\n  const onError = (error, variables) => {\n    setErrorInfo(error?.response?.data?.Errors[0]?.code || 'ERROR');\n    setMutationHappened(true);\n  };\n\n  useEffect(() => {\n    const onSuccess = () => {\n      setMutationHappened(true);\n    };\n    if (state.key === \"UPDATE\" && !mutationHappened && !errorInfo) {\n      mutation.mutate(\n        {\n          paymentWorkflows: [state.paymentWorkflow]\n        },\n        {\n          onError,\n          onSuccess,\n        }\n      );\n    }\n  }, []);\n\n  const DisplayText = (action, isSuccess, isEmployee, t) => {\n    if (!isSuccess) {\n      return mutation?.error?.response?.data?.Errors[0].code || errorInfo\n    } else {\n      Digit.SessionStorage.set(\"isupdate\", Math.floor(100000 + Math.random() * 900000));\n      return t('CR_APPLY_FORWARD_SUCCESS');\n    }\n  };\n\n  if (mutation.isLoading || (mutation.isIdle && !mutationHappened)) {\n    return <Loader />;\n  }\n  const Payment = mutation?.data?.Payments[0] || successData?.Payments?.[0];\n  const isSuccess = !successData ? mutation?.isSuccess : true;\n  return (\n    <Card>\n      <BannerPicker\n        t={t}\n        data={mutation?.data || successData}\n        action={state.action}\n        isSuccess={isSuccess}\n        isLoading={(mutation.isIdle && !mutationHappened) || mutation?.isLoading}\n        isEmployee={props.parentRoute.includes(\"employee\")}\n      />\n      <CardText>{t(DisplayText(state.action, isSuccess, props.parentRoute.includes(\"employee\"), t), t)}</CardText>\n      {isSuccess && (\n        <CardText>\n          <LinkButton\n            label={\n              <div className=\"response-download-button\">\n                <span>\n                  <svg width=\"20\" height=\"18\" viewBox=\"0 0 20 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M17 5H3C1.34 5 0 6.34 0 8V14H4V18H16V14H20V8C20 6.34 18.66 5 17 5ZM14 16H6V11H14V16ZM17 9C16.45 9 16 8.55 16 8C16 7.45 16.45 7 17 7C17.55 7 18 7.45 18 8C18 8.55 17.55 9 17 9ZM16 0H4V4H16V0Z\" fill=\"#F47738\" />\n                  </svg>\n                </span>\n                <span className=\"download-button\">{t(\"COMMON_TABLE_PRINT\")}</span>\n              </div>\n            }\n            style={{ width: \"100px\" }}\n            onClick={() => { printReciept(Payment?.paymentDetails[0]?.businessService, Payment?.paymentDetails[0]?.bill?.consumerCode) }}\n          />\n        </CardText>)}\n      <ActionBar>\n        <Link to={`${props.parentRoute.includes(\"employee\") ? \"/digit-ui/employee\" : \"/digit-ui/citizen\"}`}>\n          <SubmitBar label={t(\"CORE_COMMON_GO_TO_HOME\")} />\n        </Link>\n      </ActionBar>\n    </Card>\n  );\n};\n\nexport default ReceiptAcknowledgement;\n","import { ActionBar, Card, Header, Loader, Row, StatusTable, SubmitBar } from \"@egovernments/digit-ui-react-components\";\nimport React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useParams } from \"react-router-dom\";\nimport ActionModal from \"../components/Modal\";\nimport { convertEpochToDate, convertToLocale, getFinancialYears } from \"../utils\";\n\nconst canCancelReceipt=(Receipt={})=>{\n  return Receipt?.paymentStatus !== \"CANCELLED\" && Receipt?.paymentStatus !== \"DEPOSITED\" && (Receipt?.instrumentStatus == \"APPROVED\" || Receipt?.instrumentStatus == \"REMITTED\");\n}\n\nconst ReceiptDetails = () => {\n\n  const [showModal, setShowModal] = useState(false);\n  const { t } = useTranslation();\n  const { id: receiptId, service: businessService } = useParams();\n  const tenantId = Digit.ULBService.getCurrentTenantId();\n  const isupdate = Digit.SessionStorage.get(\"isupdate\")\n  const { isLoading, isError, error, data, ...rest } = Digit.Hooks.receipts.useReceiptsSearch({ receiptNumbers: decodeURIComponent(receiptId), businessServices: businessService }, tenantId, {}, isupdate);\n\n  const cancelReceipt = () => {\n    setShowModal(true);\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n  };\n\n  const submitAction = (data) => { };\n  useEffect(() => {\n    return () => {\n      rest?.revalidate();\n    }\n  }, [])\n\n  const [mutationHappened, setMutationHappened, clear] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_HAPPENED\", false);\n  const [successData, setsuccessData, clearSuccessData] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_SUCCESS_DATA\", false);\n  const [errorInfo, setErrorInfo, clearError] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_ERROR_DATA\", false);\n  useEffect(() => {\n    setMutationHappened(false);\n    clearSuccessData();\n    clearError();\n  }, []);\n\n  if (isLoading) {\n    return <Loader />;\n  }\n  const PaymentReceipt = !isLoading && data?.Payments?.length > 0 ? data.Payments[0] : {};\n\n  return (\n    <React.Fragment>\n      <div style={{ width: \"30%\", fontFamily: \"calibri\", color: \"#FF0000\" }}>\n        <Header>{t(\"CR_RECEIPT_SUMMARY\")}</Header>\n      </div>\n      {!isLoading && data?.Payments?.length > 0 ? (\n        <div >\n          <Card>\n            <StatusTable>\n              <Row label={t(\"CR_RECEIPT_NUMBER\")} text={PaymentReceipt?.paymentDetails[0]?.receiptNumber || \"NA\"} textStyle={{ whiteSpace: \"pre\" }} />\n              <Row label={t(\"CR_RECEIPT_CONSUMER_NUMBER\")} text={PaymentReceipt?.paymentDetails[0]?.bill?.consumerCode || \"NA\"} textStyle={{ whiteSpace: \"pre\" }} />\n              <Row label={t(\"CR_RECEIPT_PAYMENT_DATE\")} text={convertEpochToDate(PaymentReceipt?.paymentDetails[0]?.receiptDate) || \"NA\"} />\n              <Row label={t(\"CR_RECEIPT_PAYER_NAME\")} text={PaymentReceipt?.payerName || \"NA\"} />\n              <Row label={t(\"CR_RECEIPT_PAYER_NUMBER\")} text={PaymentReceipt?.mobileNumber || \"NA\"} />\n              <Row label={t(\"CR_RECEIPT_SERVICE_TYPE\")} text={t(convertToLocale(PaymentReceipt?.paymentDetails[0]?.businessService, 'BILLINGSERVICE_BUSINESSSERVICE')) || \"NA\"} />\n              <Row label={t(\"CR_RECEIPT_BILL_PERIOD\")} text={getFinancialYears(PaymentReceipt?.paymentDetails[0]?.bill?.billDetails[0]?.fromPeriod,PaymentReceipt?.paymentDetails[0]?.bill?.billDetails[0]?.toPeriod) || \"NA\"} />\n              <Row label={t(\"CR_RECEIPT_AMOUNT\")} text={'₹' + PaymentReceipt?.totalAmountPaid || \"NA\"} />\n              <Row label={t(\"CR_RECEIPT_PENDING_AMOUNT\")} text={'₹' + PaymentReceipt?.totalDue || \"₹0\"} />\n              <Row label={t(\"CR_RECEIPT_PAYMENT_MODE\")} text={PaymentReceipt?.paymentMode ? t(`COMMON_MASTERS_PAYMENTMODE_${PaymentReceipt?.paymentMode}`) || \"NA\" : \"NA\"} />\n              <Row label={t(\"CR_RECEIPT_TXN_ID\")} text={PaymentReceipt?.transactionNumber || \"NA\"} />\n              <Row label={t(\"CR_RECEIPT_G8_RECEIPT_NO\")} text={PaymentReceipt?.paymentDetails[0]?.manualReceiptNumber || \"NA\"} />\n              <Row label={t(\"CR_RECEIPT_G8_RECEIPT_DATE\")} text={convertEpochToDate(PaymentReceipt?.paymentDetails[0]?.manualReceiptDate) || \"NA\"} />\n            </StatusTable>\n          </Card>\n        </div>\n      ) : null}\n      {showModal ? (\n        <ActionModal t={t} tenantId={tenantId} applicationData={data} closeModal={closeModal} submitAction={submitAction} />\n      ) : null}\n      <ActionBar>\n        {canCancelReceipt(PaymentReceipt) && <SubmitBar label={t(\"CR_CANCEL_RECEIPT_BUTTON\")} onSubmit={() => cancelReceipt()} />}\n      </ActionBar>\n    </React.Fragment>\n  );\n};\n\nexport default ReceiptDetails;\n","import { AnnouncementIcon, Card } from \"@egovernments/digit-ui-react-components\";\nimport React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Link } from \"react-router-dom\";\n\nconst InboxLinks = ({ parentRoute, businessService, allLinks, headerText }) => {\n  const { t } = useTranslation();\n  const [links, setLinks] = useState([]);\n  const { roles: userRoles } = Digit.UserService.getUser().info;\n  useEffect(() => {\n    let linksToShow = allLinks\n      .filter((e) => e.businessService === businessService)\n      .filter(({ roles }) => roles.some((e) => userRoles.map(({ code }) => code).includes(e)) || !roles.length);\n    setLinks(linksToShow);\n  }, []);\n\n  const GetLogo = () => (\n    <div className=\"header\">\n      <span className=\"logo\">\n        <AnnouncementIcon />\n      </span>{\" \"}\n      <span className=\"text\">{t(headerText)}</span>\n    </div>\n  );\n  return (\n    <Card className=\"employeeCard filter inboxLinks\">\n      <div className=\"complaint-links-container\">\n        {GetLogo()}\n        <div className=\"body\">\n          {links.map(({ link, text, hyperlink = false, accessTo = [] }, index) => {\n            return (\n              <span className=\"link\" key={index}>\n                {hyperlink ? <a href={link}>{t(text)}</a> : <Link to={link}>{t(text)}</Link>}\n              </span>\n            );\n          })}\n        </div>\n      </div>\n    </Card>\n  );\n};\n\nexport default InboxLinks;","import { Table } from \"@egovernments/digit-ui-react-components\";\nimport React from \"react\";\n\nconst ApplicationTable = ({ t, columns, data, getCellProps, onNextPage, onPrevPage, currentPage, totalRecords, pageSizeLimit, onPageSizeChange, onLastPage, onFirstPage }) => (\n  <Table\n    t={t}\n    data={data}\n    manualPagination={true}\n    columns={columns}\n    getCellProps={getCellProps}\n    onNextPage={onNextPage}\n    onPrevPage={onPrevPage}\n    currentPage={currentPage}\n    totalRecords={totalRecords}\n    onLastPage={onLastPage}\n    onFirstPage={onFirstPage}\n    onPageSizeChange={onPageSizeChange}\n    pageSizeLimit={pageSizeLimit}\n  />\n);\n\nexport default ApplicationTable;\n","import { ActionBar, CloseSvg, DatePicker, Label, LinkLabel, MobileNumber, SubmitBar, TextInput } from \"@egovernments/digit-ui-react-components\";\nimport React, { useEffect } from \"react\";\nimport { Controller, useForm } from \"react-hook-form\";\nimport { useTranslation } from \"react-i18next\";\n\nconst fieldComponents = {\n  date: DatePicker,\n  mobileNumber: MobileNumber,\n};\n\nconst SearchApplication = ({ onSearch, type, onClose, searchFields, searchParams, isInboxPage, defaultSearchParams, clearSearch: _clearSearch }) => {\n  const { t } = useTranslation();\n  const { register, handleSubmit, reset, watch, control, setError, clearErrors, formState } = useForm({\n    defaultValues: searchParams,\n  });\n\n  const form = watch();\n  const mobileView = innerWidth <= 640;\n\n\n  useEffect(() => {\n    searchFields.forEach(({ pattern, name, maxLength, minLength, errorMessages, ...el }) => {\n      const value = form[name];\n      const error = formState.errors[name];\n      if (pattern) {\n        if (!new RegExp(pattern).test(value) && !error)\n          setError(name, { type: \"pattern\", message: t(errorMessages?.pattern) || t(`PATTERN_${name.toUpperCase()}_FAILED`) });\n        else if (new RegExp(pattern).test(value) && error?.type === \"pattern\") clearErrors([name]);\n      }\n      if (minLength) {\n        if (value?.length < minLength && !error)\n          setError(name, { type: \"minLength\", message: t(errorMessages?.minLength || `MINLENGTH_${name.toUpperCase()}_FAILED`) });\n        else if (value?.length >= minLength && error?.type === \"minLength\") clearErrors([name]);\n      }\n      if (maxLength) {\n        if (value?.length > maxLength && !error)\n          setError(name, { type: \"maxLength\", message: t(errorMessages?.maxLength || `MAXLENGTH_${name.toUpperCase()}_FAILED`) });\n        else if (value?.length <= maxLength && error?.type === \"maxLength\") clearErrors([name]);\n      }\n    });\n  }, [form, formState, setError, clearErrors]);\n\n  const onSubmitInput = (data) => {\n    if (true) {\n      if (!data.mobileNumber) {\n        delete data.mobileNumber;\n      }\n      data.delete = [];\n      searchFields.forEach((field) => {\n        if (!data[field.name]) data.delete.push(field.name);\n      });\n      onSearch(data);\n      if (type === \"mobile\") {\n        onClose();\n      }\n    }\n  };\n\n  function clearSearch() {\n    const resetValues = searchFields.reduce((acc, field) => ({ ...acc, [field?.name]: \"\" }), {});\n    reset(resetValues);\n    const _newParams = { ...searchParams };\n    _newParams.delete = [];\n    searchFields.forEach((e) => {\n      _newParams.delete.push(e?.name);\n    });\n    onSearch({ ..._newParams }, true);\n    if (type === \"mobile\") {\n      onClose();\n    }\n  }\n\n  const clearAll = (mobileView) => {\n    const mobileViewStyles = mobileView ? { margin: 0 } : {};\n    return (\n      <LinkLabel style={{ display: \"inline\", ...mobileViewStyles }} onClick={clearSearch}>\n        {t(\"CR_RESET_BUTTON\")}\n      </LinkLabel>\n    );\n  };\n\n  return (\n    <form onSubmit={handleSubmit(onSubmitInput)}>\n      <React.Fragment>\n        <div className=\"search-container\" style={{ width: \"auto\", marginLeft: isInboxPage ? \"24px\" : \"revert\" }}>\n          <div className=\"search-complaint-container\">\n            {(type === \"mobile\" || mobileView) && (\n              <div className=\"complaint-header\" style={{ display: 'flex', justifyContent: \"space-between\" }}>\n                <h2>{t(\"ES_COMMON_SEARCH_BY\")}</h2>\n                <span onClick={onClose}>\n                  <CloseSvg />\n                </span>\n              </div>\n            )}\n            <div className=\"complaint-input-container\" style={{ width: \"100%\" }}>\n              {searchFields\n                ?.filter((e) => true)\n                ?.map((input, index) => (\n                  <div key={input.name} className=\"input-fields\">\n                    <span className={\"mobile-input\"}>\n                      <Label>{t(input.label)}</Label>\n                      {!input.type ? (\n                        <Controller\n                          render={(props) => {\n                            return <div className=\"field-container\">\n                              {input?.componentInFront ? (\n                                <span className=\"employee-card-input employee-card-input--front\" style={{ flex: \"none\" }}>\n                                  {input?.componentInFront}\n                                </span>\n                              ) : null}\n                              <TextInput {...input} inputRef={register} watch={watch} shouldUpdate={true} />\n                            </div>\n                          }}\n                          name={input.name}\n                          control={control}\n                          defaultValue={\"\"}\n                        />\n                      ) : (\n                        <Controller\n                          render={(props) => {\n                            const Comp = fieldComponents?.[input.type];\n                            return <Comp onChange={props.onChange} value={props.value} />;\n                          }}\n                          name={input.name}\n                          control={control}\n                          defaultValue={\"\"}\n                        />\n                      )}\n                    </span>\n                    {formState?.dirtyFields?.[input.name] ? (\n                      <span\n                        style={{ fontWeight: \"700\", color: \"rgba(212, 53, 28)\", paddingLeft: \"8px\", marginTop: \"-20px\", fontSize: \"12px\" }}\n                        className=\"inbox-search-form-error\"\n                      >\n                        {formState?.errors?.[input.name]?.message}\n                      </span>\n                    ) : null}\n                  </div>\n                ))}\n              {type === \"desktop\" && !mobileView && !isInboxPage && (\n                <div className=\"search-action-wrapper\">\n                  <SubmitBar\n                    className=\"submit-bar-search\"\n                    label={t(\"CR_SEARCH_BUTTON\")}\n                    // disabled={!!Object.keys(formState.errors).length || Object.keys(form).every((key) => !form?.[key])}\n                    submit\n                  />\n                  <div style={{ width: \"100%\", textAlign: \"right\", width: \"240px\", textAlign: \"right\", marginLeft: \"96px\", marginTop: \"8px\" }}>\n                    {clearAll()}\n                  </div>\n                </div>\n              )}\n            </div>\n            {isInboxPage && (\n              <div className=\"inbox-action-container\">\n                {type === \"desktop\" && !mobileView && (\n                  <span style={{ paddingTop: \"9px\" }} className=\"clear-search\">\n                    {clearAll()}\n                  </span>\n                )}\n                {type === \"desktop\" && !mobileView && (\n                  <SubmitBar\n                    style={{ marginTop: \"unset\" }}\n                    className=\"submit-bar-search\"\n                    label={t(\"CR_SEARCH_BUTTON\")}\n                    submit\n                  />\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n        {(type === \"mobile\" || mobileView) && (\n          <ActionBar className=\"clear-search-container\">\n            <button className=\"clear-search\" style={{ flex: 1 }}>\n              {clearAll(mobileView)}\n            </button>\n            <SubmitBar\n              label={t(\"CR_SEARCH_BUTTON\")} style={{ flex: 1 }} submit={true} />\n          </ActionBar>\n        )}\n      </React.Fragment>\n    </form>\n  );\n};\n\nexport default SearchApplication;","import { Card, Loader } from \"@egovernments/digit-ui-react-components\";\nimport React, { useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Link } from \"react-router-dom\";\nimport InboxLinks from \"./ApplicationLinks\";\nimport ApplicationTable from \"./ApplicationTable\";\nimport SearchApplication from \"./search\";\n\nconst ReceiptsDesktopInbox = ({ tableConfig, filterComponent, ...props }) => {\n  const { t } = useTranslation();\n  const tenantIds = Digit.SessionStorage.get(\"HRMS_TENANTS\");\n  const GetCell = (value) => <span className=\"cell-text\">{t(value)}</span>;\n  const GetDateCell = (value) => {\n    const date = new Date(value);\n    return <span className=\"cell-text\">{date?.toLocaleDateString()}</span>\n  };\n  const GetSlaCell = (value, t, prefix = '') => {\n    return value == \"CANCELLED\" ? <span className=\"sla-cell-error\">{t(`${prefix}${value}`) || \"\"}</span> : <span className=\"sla-cell-success\">{t(`${prefix}${value}`) || \"\"}</span>;\n  };\n  const data = props?.data?.Payments;\n  const [FilterComponent, setComp] = useState(() => Digit.ComponentRegistryService?.getComponent(filterComponent));\n  const columns = React.useMemo(() => {\n    return [\n      {\n        Header: t(\"CR_COMMON_TABLE_COL_RECEIPT_NO\"),\n        disableSortBy: true,\n        Cell: ({ row }) => {\n          return (\n            <span className=\"link\">\n              <Link to={`/digit-ui/employee/receipts/details/${row.original?.paymentDetails[0]?.businessService}/${encodeURIComponent(row.original?.paymentDetails[0]?.receiptNumber)}`}>{row.original?.paymentDetails[0]?.receiptNumber}</Link>\n            </span>\n          );\n        },\n      },\n      {\n        Header: t(\"CR_COMMON_TABLE_COL_DATE\"),\n        disableSortBy: true,\n        Cell: ({ row }) => {\n          return GetDateCell(row.original?.transactionDate);\n        },\n      },\n      {\n        Header: t(\"CR_COMMON_TABLE_CONSUMERCODE\"),\n        disableSortBy: true,\n        Cell: ({ row }) => {\n          return GetCell(`${row.original?.paymentDetails[0]?.bill?.consumerCode}`);\n        },\n      },\n      {\n        Header: t(\"CR_COMMON_TABLE_COL_PAYEE_NAME\"),\n        disableSortBy: true,\n        Cell: ({ row }) => {\n          return GetCell(`${row.original?.payerName}`);\n        },\n      },\n      {\n        Header: t(\"CR_SERVICE_TYPE_LABEL\"),\n        disableSortBy: true,\n        Cell: ({ row }) => {\n          return GetCell(`${t(\"BILLINGSERVICE_BUSINESSSERVICE_\" + row.original?.paymentDetails[0]?.businessService)}`);\n        },\n      },\n      {\n        Header: t(\"CR_COMMON_TABLE_COL_STATUS\"),\n        disableSortBy: true,\n        Cell: ({ row }) => {\n          return GetSlaCell(`${row.original?.paymentStatus}`, t, 'RC_');\n        },\n      },\n\n    ];\n  }, []);\n\n  let result;\n  if (props.isLoading) {\n    result = <Loader />;\n  } else if (data?.length === 0) {\n    result = (\n      <Card style={{ marginTop: 20 }}>\n        {t(\"CS_MYAPPLICATIONS_NO_APPLICATION\")\n          .split(\"\\\\n\")\n          .map((text, index) => (\n            <p key={index} style={{ textAlign: \"center\" }}>\n              {text}\n            </p>\n          ))}\n      </Card>\n    );\n  } else if (data?.length > 0) {\n    result = (\n      <ApplicationTable\n        t={t}\n        data={data}\n        columns={columns}\n        getCellProps={(cellInfo) => {\n          return {\n            style: {\n              maxWidth: cellInfo.column.Header === t(\"HR_EMP_ID_LABEL\") ? \"140px\" : \"\",\n              padding: \"20px 18px\",\n              fontSize: \"16px\",\n            },\n          };\n        }}\n        onPageSizeChange={props.onPageSizeChange}\n        currentPage={props.currentPage}\n        onNextPage={props.onNextPage}\n        onPrevPage={props.onPrevPage}\n        onLastPage={props.onLastPage}\n        onFirstPage={props.onFirstPage}\n        pageSizeLimit={props.pageSizeLimit}\n        onSort={props.onSort}\n        disableSort={props.disableSort}\n        onPageSizeChange={props.onPageSizeChange}\n        sortParams={props.sortParams}\n        totalRecords={props.totalRecords}\n      />\n    );\n  }\n\n  return (\n    <div className=\"inbox-container\">\n      {!props.isSearch && (\n        <div className=\"filters-container\">\n          <InboxLinks\n            parentRoute={props.parentRoute}\n            allLinks={[\n              {\n                text: \"CR_COMMON_DASHBOARD_HEADER\",\n                link: \"/digit-ui/employee/receipts/inprogress\",\n                businessService: \"receipts\",\n                roles: [\"CR_PT\"],\n              },\n              {\n                text: \"CR_COMMON_REPORTS_HEADER\",\n                link: \"/digit-ui/employee/receipts/inprogress\",\n                businessService: \"receipts\",\n                roles: [\"CR_PT\"],\n              }\n            ]}\n            headerText={t(\"ACTION_TEST_RECEIPTS\")}\n            businessService={props.businessService}\n          />\n          <div>\n            {\n              <FilterComponent\n                defaultSearchParams={props.defaultSearchParams}\n                onFilterChange={props.onFilterChange}\n                searchParams={props.searchParams}\n                type=\"desktop\"\n                tenantIds={tenantIds}\n              />\n            }\n          </div>\n        </div>\n      )}\n      <div style={{ flex: 1 }}>\n        <SearchApplication\n          defaultSearchParams={props.defaultSearchParams}\n          onSearch={props.onSearch}\n          type=\"desktop\"\n          tenantIds={tenantIds}\n          searchFields={props.searchFields}\n          isInboxPage={!props?.isSearch}\n          searchParams={props.searchParams}\n        />\n        <div className=\"result\" style={{ marginLeft: !props?.isSearch ? \"24px\" : \"\", flex: 1 }}>\n          {result}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ReceiptsDesktopInbox;\n","import { Card, DetailsCard, FilterAction, Loader, PopUp, SearchAction } from \"@egovernments/digit-ui-react-components\";\nimport React, { useEffect, useState } from \"react\";\nimport ReceiptsFilter from \"../ReceiptsFilter\";\nimport SearchApplication from \"./search\";\nexport const ApplicationCard = ({\n  t,\n  data,\n  onFilterChange,\n  onSearch,\n  onSort,\n  serviceRequestIdKey,\n  isFstpOperator,\n  isLoading,\n  isSearch,\n  searchParams,\n  searchFields,\n  sortParams,\n  linkPrefix,\n  removeParam,\n  defaultSearchParams\n}) => {\n\n  const [type, setType] = useState(isSearch ? \"SEARCH\" : \"\");\n  const [popup, setPopup] = useState(isSearch ? true : false);\n  const [params, setParams] = useState(searchParams);\n  const [_sortparams, setSortParams] = useState(sortParams);\n  const selectParams = (param) => {\n    setParams((o) => ({ ...o, ...param }));\n  };\n  const clearParam = () => {\n    setParams({});\n  };\n  const onSearchPara = (param) => {\n    onFilterChange({ ...params, ...param });\n    setType(\"\");\n    setPopup(false);\n  };\n\n  useEffect(() => {\n    if (type) setPopup(true);\n  }, [type]);\n  const DSO = Digit.UserService.hasAccess([\"FSM_DSO\"]) || false;\n  const handlePopupClose = () => {\n    setPopup(false);\n    setType(\"\");\n    setParams(searchParams);\n    setSortParams(sortParams);\n  };\n  const onSearchSortParams = (d) => {\n    setSortParams(d);\n    setPopup(false);\n    setType(\"\");\n    onSort(d);\n  };\n  if (isLoading) {\n    return <Loader />;\n  }\n\n\n  let result;\n  if (!data || data?.length === 0) {\n    result = (\n      <Card style={{ marginTop: 20 }}>\n        {t(\"CS_MYAPPLICATIONS_NO_APPLICATION\")\n          .split(\"\\\\n\")\n          .map((text, index) => (\n            <p key={index} style={{ textAlign: \"center\" }}>\n              {text}\n            </p>\n          ))}\n      </Card>\n    );\n  } else if (data && data?.length > 0) {\n    result = (\n      <DetailsCard\n        data={data}\n        serviceRequestIdKey={serviceRequestIdKey}\n        linkPrefix={linkPrefix ? linkPrefix : DSO ? \"/digit-ui/employee/fsm/application-details/\" : \"/digit-ui/employee/fsm/\"}\n      />\n    );\n  }\n\n  return (\n    <React.Fragment>\n      <div className=\"searchBox\">\n        {onSearch && (\n          <SearchAction\n            text=\"SEARCH\"\n            handleActionClick={() => {\n              setType(\"SEARCH\");\n              setPopup(true);\n            }}\n          />\n        )}\n        {!isSearch && onFilterChange && (\n          <FilterAction\n            text=\"FILTER\"\n            handleActionClick={() => {\n              setType(\"FILTER\");\n              setPopup(true);\n            }}\n          />\n        )}\n        {/* <FilterAction\n          text=\"SORT\"\n          handleActionClick={() => {\n            setType(\"SORT\");\n            setPopup(true);\n          }}\n        /> */}\n      </div>\n      {result}\n      {popup && (\n        <PopUp>\n          {type === \"FILTER\" && (\n            <div className=\"popup-module\">\n              {\n                <ReceiptsFilter\n                  defaultSearchParams={defaultSearchParams}\n                  onFilterChange={onFilterChange}\n                  searchParams={searchParams}\n                  type=\"mobile\"\n                  onClose={handlePopupClose}\n                />\n              }\n            </div>\n          )}\n          {type === \"SEARCH\" && (\n            <div className=\"popup-module\">\n              <SearchApplication\n                type=\"mobile\"\n                onClose={handlePopupClose}\n                onSearch={onSearch}\n                isFstpOperator={isFstpOperator}\n                searchParams={searchParams}\n                searchFields={searchFields}\n              />\n            </div>\n          )}\n        </PopUp>\n      )}\n    </React.Fragment>\n  );\n};\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { ApplicationCard } from \"./ApplicationCard\";\n\nconst GetDateCell = (value) => {\n  const date = new Date(value);\n  return <span className=\"sla-cell\">{date?.toLocaleDateString()}</span>\n};\nconst GetCell = (value) => <span className=\"sla-cell\">{value}</span>;\n\nconst ReceiptsMobileInbox = ({\n  data,\n  isLoading,\n  isSearch,\n  searchFields,\n  onFilterChange,\n  onSearch,\n  onSort,\n  parentRoute,\n  searchParams,\n  sortParams,\n  linkPrefix,\n  tableConfig,\n  filterComponent,\n  allLinks,\n  defaultSearchParams\n}) => {\n  \n  const { t } = useTranslation();\n  const getData = () => {\n    return data?.Payments?.map((original) => ({\n      [t(\"CR_COMMON_TABLE_COL_RECEIPT_NO\")]: original?.paymentDetails[0]?.receiptNumber,\n      [t(\"CR_COMMON_TABLE_COL_DATE\")]: GetDateCell(original?.transactionDate || \"\"),\n      [t(\"CR_COMMON_TABLE_CONSUMERCODE\")]: GetCell(original?.paymentDetails[0]?.bill?.consumerCode || \"\"),\n      [t(\"CR_COMMON_TABLE_COL_PAYEE_NAME\")]: GetCell(original?.payerName),\n      [t(\"CR_SERVICE_TYPE_LABEL\")]: GetCell(t(`BILLINGSERVICE_BUSINESSSERVICE_${original?.paymentDetails[0]?.businessService}`)),\n      [t(\"CR_COMMON_TABLE_COL_STATUS\")]: GetCell(t(`RC_${original?.paymentStatus}`)),\n    }));\n  };\n  const serviceRequestIdKey = (original) => {return `${searchParams?.businessServices}/${encodeURIComponent(original?.[t(\"CR_COMMON_TABLE_COL_RECEIPT_NO\")])}`};\n  return (\n    <div style={{ padding: 0 }}>\n      <div className=\"inbox-container\">\n        <div className=\"filters-container\">\n          {/* {!isSearch && <ApplicationLinks linkPrefix={parentRoute} allLinks={allLinks} isMobile={true} />} */}\n          <ApplicationCard\n            t={t}\n            data={getData()}\n            onFilterChange={onFilterChange}\n            isLoading={isLoading}\n            isSearch={isSearch}\n            onSearch={onSearch}\n            onSort={onSort}\n            defaultSearchParams={defaultSearchParams}\n            searchParams={searchParams}\n            searchFields={searchFields}\n            linkPrefix={linkPrefix}\n            sortParams={sortParams}\n            filterComponent={filterComponent}\n            serviceRequestIdKey={serviceRequestIdKey}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ReceiptsMobileInbox;\n","import { Header, Loader } from \"@egovernments/digit-ui-react-components\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport ReceiptsDesktopInbox from \"../components/inbox/ReceiptsDesktopInbox\";\nimport ReceiptsMobileInbox from \"../components/inbox/ReceiptsMobileInbox\";\n\nconst ReceiptInbox = ({ parentRoute, businessService = \"receipts\", initialStates = {}, filterComponent, isInbox }) => {\n  const tenantId = Digit.ULBService.getCurrentTenantId();\n  const isupdate = Digit.SessionStorage.get(\"isupdate\");\n  const { t } = useTranslation();\n  const [pageOffset, setPageOffset] = useState(initialStates.pageOffset || 0);\n  const [pageSize, setPageSize] = useState(initialStates.pageSize || 10);\n  const [sortParams, setSortParams] = useState(initialStates.sortParams || [{ id: \"createdTime\", desc: false }]);\n  const [totalRecords, setTotalRecords] = useState(0);\n  const [searchParams, setSearchParams] = useState(() => {\n    return initialStates.searchParams || {};\n  });\n  const { isLoading: countLoading, data: countData, ...rest1 } = Digit.Hooks.receipts.useReceiptsSearch({ ...searchParams, isCountRequest: true }, tenantId, [], isupdate);\n  let isMobile = window.Digit.Utils.browser.isMobile();\n\n  let paginationParams = isMobile\n    ? { limit: 100, offset: pageOffset, sortOrder: sortParams?.[0]?.desc ? \"DESC\" : \"ASC\" }\n    : { limit: pageSize, offset: pageOffset, sortOrder: sortParams?.[0]?.desc ? \"DESC\" : \"ASC\" };\n\n  const { isLoading: hookLoading, isError, error, data, ...rest } = Digit.Hooks.receipts.useReceiptsSearch(searchParams, tenantId, paginationParams, isupdate);\n  let isLoading = false;\n\n  useEffect(() => {\n    return () => {\n      rest?.revalidate();\n    }\n  }, [])\n  useEffect(() => { setTotalRecords(countData?.Count) }, [countData])\n  useEffect(() => {\n    setPageOffset(0);\n  }, [searchParams]);\n\n  const fetchNextPage = () => {\n    setPageOffset((prevState) => prevState + pageSize);\n  };\n\n  const fetchPrevPage = () => {\n    setPageOffset((prevState) => prevState - pageSize);\n  };\n  const fetchLastPage = () => {\n    setPageOffset((prevState) => countData?.Count && (Math.ceil(countData?.Count / 10) * 10 - pageSize));\n  };\n\n  const fetchFirstPage = () => {\n    setPageOffset((prevState) => 0);\n  };\n  const handleFilterChange = (filterParam, reset = false) => {\n    if (!reset) {\n      let keys_to_delete = filterParam.delete;\n      let _new = { ...searchParams, ...filterParam };\n      if (keys_to_delete) keys_to_delete.forEach((key) => delete _new[key]);\n      filterParam.delete;\n      delete _new.delete;\n      setSearchParams({ ..._new });\n    } else {\n      setSearchParams({ ...initialStates.searchParams });\n    }\n\n  };\n\n  const handleSort = useCallback((args) => {\n    if (args.length === 0) return;\n    setSortParams(args);\n  }, []);\n\n  const handlePageSizeChange = (e) => {\n    setPageSize(Number(e.target.value));\n  };\n\n  const getSearchFields = () => {\n    return [\n      // {\n      //   label: t(\"CR_SERVICE_CATEGORY_LABEL\"),\n      //   name: \"service\",\n      // },\n      {\n        label: t(\"CR_CONSUMER_NO_LABEL\"),\n        name: \"consumerCodes\",\n      },\n      {\n        label: t(\"CR_RECEPIT_NO_LABEL\"),\n        name: \"receiptNumbers\",\n      },\n      {\n        label: t(\"CR_MOBILE_NO_LABEL\"),\n        name: \"mobileNumber\",\n        maxlength: 10,\n        pattern: \"[6-9][0-9]{9}\",\n        title: t(\"ES_SEARCH_APPLICATION_MOBILE_INVALID\"),\n        componentInFront: \"+91\",\n      },\n    ];\n  };\n\n  if (isLoading) {\n    return <Loader />;\n  }\n\n  if (data?.length !== null) {\n    if (isMobile) {\n      return (\n        <ReceiptsMobileInbox\n          businessService={businessService}\n          data={data}\n          tableConfig={rest?.tableConfig}\n          isLoading={hookLoading}\n          defaultSearchParams={initialStates.searchParams}\n          isSearch={!isInbox}\n          onFilterChange={handleFilterChange}\n          searchFields={getSearchFields()}\n          onSearch={handleFilterChange}\n          onSort={handleSort}\n          onNextPage={fetchNextPage}\n          onPrevPage={fetchPrevPage}\n          currentPage={Math.floor(pageOffset / pageSize)}\n          pageSizeLimit={pageSize}\n          disableSort={false}\n          onPageSizeChange={handlePageSizeChange}\n          parentRoute={parentRoute}\n          searchParams={searchParams}\n          sortParams={sortParams}\n          totalRecords={totalRecords}\n          linkPrefix={'/digit-ui/employee/receipts/details/'}\n          filterComponent={filterComponent}\n        />\n      );\n    } else {\n      return (\n        <div>\n          {isInbox && <Header>{t(\"CR_SEARCH_COMMON_HEADER\")}</Header>}\n          <ReceiptsDesktopInbox\n            businessService={businessService}\n            data={data}\n            isLoading={hookLoading}\n            defaultSearchParams={initialStates.searchParams}\n            isSearch={!isInbox}\n            onFilterChange={handleFilterChange}\n            searchFields={getSearchFields()}\n            onSearch={handleFilterChange}\n            onSort={handleSort}\n            onNextPage={fetchNextPage}\n            onPrevPage={fetchPrevPage}\n            onLastPage={fetchLastPage}\n            onFirstPage={fetchFirstPage}\n            currentPage={Math.floor(pageOffset / pageSize)}\n            pageSizeLimit={pageSize}\n            disableSort={false}\n            onPageSizeChange={handlePageSizeChange}\n            parentRoute={parentRoute}\n            searchParams={searchParams}\n            sortParams={sortParams}\n            totalRecords={totalRecords}\n            filterComponent={filterComponent}\n          />\n        </div>\n      );\n    }\n  }\n};\n\nexport default ReceiptInbox;\n","import { EmployeeModuleCard, ReceiptIcon } from \"@egovernments/digit-ui-react-components\";\nimport React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { getDefaultReceiptService } from \"./utils\";\n\nconst ReceiptsCard = () => {\n  if (!Digit.Utils.receiptsAccess()) {\n    return null;\n  }\n  const tenantId = Digit.ULBService.getCurrentTenantId();\n  const { t } = useTranslation();\n  const searchParams = {\n    tenantId: tenantId,\n    businessServices: getDefaultReceiptService(),\n    isCountRequest: true\n  };\n  const { isLoading, isError, error, data, ...rest } = Digit.Hooks.receipts.useReceiptsSearch(searchParams, tenantId, [], false);\n\n  const  propsForModuleCard  = {\n    Icon: <ReceiptIcon />,\n    moduleName: t(\"ACTION_TEST_RECEIPTS\"),\n    kpis: [\n      {\n        count: isLoading ? \"-\" : data?.Count,\n        label: t(\"CR_TOTAL_RECEIPTS\"),\n        link: `/digit-ui/employee/receipts/inbox`\n      },\n    ],\n    links: [\n      {\n        count: isLoading ? \"-\" : data?.Count,\n        label: t(\"CR_SEARCH_COMMON_HEADER\"),\n        link: `/digit-ui/employee/receipts/inbox`\n      }\n    ]\n  }\n  return <EmployeeModuleCard {...propsForModuleCard} />\n};\n\nexport default ReceiptsCard;\n\n","import { PrivateRoute } from \"@egovernments/digit-ui-react-components\";\nimport React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useSelector } from \"react-redux\";\nimport { Link, Switch, useLocation, useRouteMatch } from \"react-router-dom\";\nimport Banner from \"./components/Banner\";\nimport ActionModal from \"./components/Modal\";\nimport ReceiptsFilter from \"./components/ReceiptsFilter\";\nimport ReceiptAcknowledgement from \"./pages/ReceiptAcknowledgement\";\nimport ReceiptDetails from \"./pages/ReceiptDetails\";\nimport ReceiptInbox from \"./pages/ReceiptInbox\";\nimport ReceiptsCard from \"./receiptHomeCard\";\nimport { getDefaultReceiptService } from \"./utils\";\n\nexport const ReceiptsModule = ({ stateCode, userType }) => {\n  const moduleCode = \"RECEIPTS\";\n  const state = useSelector((state) => state);\n  const language = state?.common?.selectedLanguage;\n  const { isLoading, data: store } = Digit.Services.useStore({ stateCode, moduleCode, language });\n  const mobileView = innerWidth <= 640;\n  const location = useLocation();\n  const { t } = useTranslation();\n  const tenantId = Digit.ULBService.getCurrentTenantId();\n  const inboxInitialState = {\n    searchParams: {\n      tenantId: tenantId,\n      businessServices: getDefaultReceiptService()\n    },\n  };\n  const { path, url } = useRouteMatch();\n\n  if (userType === \"employee\") {\n    return (\n      <Switch>\n        <React.Fragment>\n          <div className=\"ground-container\">\n            <p className=\"breadcrumb\" style={{ marginLeft: mobileView ? \"2vw\" : \"revert\" }}>\n              <Link to=\"/digit-ui/employee\" style={{ cursor: \"pointer\", color: \"#666\" }}>\n                {t(\"ES_COMMON_HOME\")}\n              </Link>{\" \"}\n              / <span>{location.pathname === \"/digit-ui/employee/receipts/inbox\" ? t(\"CR_COMMON_HEADER\") : t(\"CR_COMMON_HEADER\")}</span>\n            </p>\n            <PrivateRoute\n              path={`${path}/inbox`}\n              component={() => (\n                <ReceiptInbox\n                  parentRoute={path}\n                  businessService=\"receipts\"\n                  filterComponent=\"RECEIPTS_INBOX_FILTER\"\n                  initialStates={inboxInitialState}\n                  isInbox={true}\n                />\n              )}\n            />\n            <PrivateRoute path={`${path}/inprogress`} component={(props) => <h2>{t(\"CR_RECEIPTS_SCREENS_UNDER_CONSTRUCTION\")}</h2>} />\n            <PrivateRoute path={`${path}/response`} component={(props) => <ReceiptAcknowledgement {...props} parentRoute={path} />} />\n            <PrivateRoute path={`${path}/details/:service/:id`} component={() => <ReceiptDetails />} />\n          </div>\n        </React.Fragment>\n      </Switch>\n    );\n  } else return null;\n};\n\nconst componentsToRegister = {\n  ReceiptsModule,\n  ReceiptsCard,\n\n  ActionModal,\n  Banner,\n  RECEIPTS_INBOX_FILTER: (props) => <ReceiptsFilter {...props} />,\n};\n\nexport const initReceiptsComponents = () => {\n  Object.entries(componentsToRegister).forEach(([key, value]) => {\n    Digit.ComponentRegistryService.setComponent(key, value);\n  });\n};\n"],"names":["Banner","t","config","color","texts","header","configCancelConfig","selectedReason","Reasons","selectReason","label","heading","submit","form","body","type","isMandatory","name","populators","disable","code","ReceiptCancelModal","action","closeModal","submitAction","applicationData","history","useHistory","useState","setConfig","setReasons","selecteReason","tenantIds","Digit","ULBService","getCurrentTenantId","tenant","split","Hooks","receipts","useReceiptsMDMS","isLoading","isError","data","rest","useEffect","Heading","props","e","Close","CloseBtn","onClick","dropdownData","replace","paymentWorkflow","additionalDetails","otherDetails","paymentId","Payments","id","reason","tenantId","key","businessService","paymentDetails","ActionModal","convertEpochToDate","dateEpoch","dateFromApi","Date","month","getMonth","day","getDate","year","getFullYear","stringReplaceAll","str","searcher","replaceWith","includes","checkForNotNull","value","undefined","convertDotValues","replaceAll","convertToLocale","convertedValue","RECEIPTS_DEFAULT_SERVICE","getDefaultReceiptService","getFinancialYears","from","to","fromDate","toDate","getYear","toLocaleDateString","ReceiptsFilter","searchParams","onFilterChange","onSearch","_searchParams","setSearchParams","useTranslation","defaultService","status","setStatus","service","setService","mdmsStatus","dropdownDataStatus","businessServices","join","onCheckBoxClick","splice","findIndex","x","push","clearAll","delete","Object","keys","onClose","border","padding","map","sta","index","event","target","flex","printReciept","consumerCode","Utils","downloadReceipt","GetMessage","isSuccess","isEmployee","GetActionMessage","BannerPicker","receiptNumber","ReceiptAcknowledgement","state","location","mutation","useReceiptsUpdate","useSessionStorage","mutationHappened","setMutationHappened","errorInfo","setErrorInfo","successData","setsuccessData","onError","error","variables","response","Errors","onSuccess","mutate","paymentWorkflows","DisplayText","SessionStorage","set","Math","floor","random","isIdle","Payment","parentRoute","width","bill","canCancelReceipt","Receipt","paymentStatus","instrumentStatus","ReceiptDetails","showModal","setShowModal","useParams","receiptId","isupdate","get","useReceiptsSearch","receiptNumbers","decodeURIComponent","cancelReceipt","revalidate","clearSuccessData","clearError","PaymentReceipt","length","fontFamily","whiteSpace","receiptDate","payerName","mobileNumber","billDetails","fromPeriod","toPeriod","totalAmountPaid","totalDue","paymentMode","transactionNumber","manualReceiptNumber","manualReceiptDate","InboxLinks","allLinks","headerText","links","setLinks","userRoles","UserService","getUser","info","roles","linksToShow","filter","some","GetLogo","link","text","hyperlink","ApplicationTable","columns","getCellProps","onNextPage","onPrevPage","currentPage","totalRecords","pageSizeLimit","onPageSizeChange","onLastPage","onFirstPage","fieldComponents","date","DatePicker","MobileNumber","SearchApplication","searchFields","isInboxPage","useForm","defaultValues","register","handleSubmit","reset","watch","control","setError","clearErrors","formState","mobileView","innerWidth","forEach","pattern","maxLength","minLength","errorMessages","el","errors","RegExp","test","message","toUpperCase","onSubmitInput","field","clearSearch","resetValues","reduce","acc","_newParams","mobileViewStyles","margin","display","marginLeft","justifyContent","input","componentInFront","Comp","onChange","dirtyFields","fontWeight","paddingLeft","marginTop","fontSize","textAlign","paddingTop","ReceiptsDesktopInbox","filterComponent","GetCell","GetDateCell","GetSlaCell","prefix","ComponentRegistryService","getComponent","FilterComponent","React","useMemo","Header","disableSortBy","Cell","row","original","encodeURIComponent","transactionDate","result","cellInfo","style","maxWidth","column","onSort","disableSort","sortParams","isSearch","defaultSearchParams","ApplicationCard","serviceRequestIdKey","isFstpOperator","linkPrefix","removeParam","setType","popup","setPopup","params","setParams","_sortparams","setSortParams","DSO","hasAccess","handlePopupClose","ReceiptsMobileInbox","tableConfig","getData","ReceiptInbox","initialStates","isInbox","pageOffset","setPageOffset","pageSize","setPageSize","desc","setTotalRecords","isCountRequest","countLoading","countData","rest1","isMobile","window","browser","paginationParams","limit","offset","sortOrder","hookLoading","Count","fetchNextPage","prevState","fetchPrevPage","fetchLastPage","ceil","fetchFirstPage","handleFilterChange","filterParam","keys_to_delete","_new","handleSort","useCallback","args","handlePageSizeChange","Number","getSearchFields","maxlength","title","ReceiptsCard","receiptsAccess","propsForModuleCard","Icon","moduleName","kpis","count","ReceiptsModule","stateCode","userType","moduleCode","useSelector","language","common","selectedLanguage","Services","useStore","useLocation","inboxInitialState","useRouteMatch","path","cursor","pathname","componentsToRegister","RECEIPTS_INBOX_FILTER","initReceiptsComponents","entries","setComponent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGA,IAAMA,MAAM,GAAG,SAATA,MAAS,OAAmB;AAAA;;AAAA,MAAhBC,CAAgB,QAAhBA,CAAgB;AAAA,MAAbC,MAAa,QAAbA,MAAa;AAC9B,sBACI,oBAAC,cAAD,qBACI,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAC,oBAArB;AAA0C,IAAA,KAAK,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT;AAAjD,SADJ,eAEI;AAAM,IAAA,SAAS,EAAC,YAAhB;AAA6B,IAAA,KAAK,EAAE;AAAEA,MAAAA,KAAK,EAAE;AAAT;AAApC,KAAwDF,CAAC,CAACC,MAAD,aAACA,MAAD,wCAACA,MAAM,CAAEE,KAAT,kDAAC,cAAeC,MAAhB,CAAzD,CAFJ,CADJ;AAKH,CAND;;ACAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,OAAkD;AAAA,MAA/CL,CAA+C,QAA/CA,CAA+C;AAAA,MAA5CM,cAA4C,QAA5CA,cAA4C;AAAA,MAA5BC,OAA4B,QAA5BA,OAA4B;AAAA,MAAnBC,YAAmB,QAAnBA,YAAmB;AAChF,SAAO;AACHC,IAAAA,KAAK,EAAE;AACHC,MAAAA,OAAO,oBADJ;AAEHC,MAAAA,MAAM;AAFH,KADJ;AAKHC,IAAAA,IAAI,EAAE,CACF;AACIC,MAAAA,IAAI,EAAE,CACF;AACIJ,QAAAA,KAAK,EAAET,CAAC,CAAC,sCAAD,CADZ;AAEIc,QAAAA,IAAI,EAAE,UAFV;AAGIC,QAAAA,WAAW,EAAE,IAHjB;AAIIC,QAAAA,IAAI,EAAE,QAJV;AAKIC,QAAAA,UAAU,eACN,oBAAC,QAAD;AAAU,UAAA,WAAW,MAArB;AAAsB,UAAA,QAAQ,EAAEX,cAAhC;AAAgD,UAAA,SAAS,EAAC,MAA1D;AAAiE,UAAA,MAAM,EAAEC,OAAzE;AAAkF,UAAA,MAAM,EAAEC,YAA1F;AAAwG,UAAA,CAAC,EAAER;AAA3G;AANR,OADE,EAUF;AACIS,QAAAA,KAAK,EAAET,CAAC,CAAC,uBAAD,CADZ;AAEIc,QAAAA,IAAI,EAAE,MAFV;AAGIG,QAAAA,UAAU,EAAE;AACRD,UAAAA,IAAI,EAAE;AADE,SAHhB;AAOIE,QAAAA,OAAO,EAAE,CAAAZ,cAAc,SAAd,IAAAA,cAAc,WAAd,YAAAA,cAAc,CAAEa,IAAhB,KAAwB,OAAxB,GAAkC,KAAlC,GAA0C;AAPvD,OAVE,EAmBF;AACIV,QAAAA,KAAK,EAAET,CAAC,CAAC,uBAAD,CADZ;AAEIc,QAAAA,IAAI,EAAE,MAFV;AAGIG,QAAAA,UAAU,EAAE;AACRD,UAAAA,IAAI,EAAE,SADE;AAERE,UAAAA,OAAO,EAAE;AAFD,SAHhB;AAOIA,QAAAA,OAAO,EAAE;AAPb,OAnBE;AADV,KADE;AALH,GAAP;AAuCH,CAxCM;;ACEP,IAAME,kBAAkB,GAAG,SAArBA,kBAAqB,OAAkF;AAAA;;AAAA,MAA/EpB,CAA+E,QAA/EA,CAA+E;AAAA,MAA5EqB,AAAkBC,UAA0D,QAA1DA,UAA0D;AAAA,MAA9CC,AAAcC,eAAgC,QAAhCA,eAAgC;AAC3G,MAAMC,OAAO,GAAGC,UAAU,EAA1B;;AAD2G,kBAE/EC,QAAQ,CAAC,EAAD,CAFuE;AAAA,MAEpG1B,MAFoG;AAAA,MAE5F2B,SAF4F;;AAAA,mBAG7ED,QAAQ,CAAC,EAAD,CAHqE;AAAA,MAGpGpB,OAHoG;AAAA,MAG3FsB,UAH2F;;AAAA,mBAInEF,QAAQ,CAAC,EAAD,CAJ2D;AAAA,MAIpGrB,cAJoG;AAAA,MAIpFwB,aAJoF;;AAK3G,MAAMC,SAAS,GAAGC,KAAK,CAACC,UAAN,CAAiBC,kBAAjB,MAAyC,EAA3D;AACA,MAAMC,MAAM,GAAGJ,SAAS,CAACK,KAAV,IAAmBL,SAAS,CAACK,KAAV,CAAgB,GAAhB,EAAqB,CAArB,CAAnB,IAA8C,EAA7D;;AAN2G,8BAOrDJ,KAAK,CAACK,KAAN,CAAYC,QAAZ,CAAqBC,eAArB,CACpDJ,MADoD,EAEpD,qBAFoD,CAPqD;AAAA,MAOnGK,SAPmG,yBAOnGA,SAPmG;AAAA,MAOxFC,AAAiBC,IAPuE,yBAOvEA,IAPuE;AAAA,MAO9DC,IAP8D;;AAY3GC,EAAAA,SAAS,CAAC,YAAM;AACd,WAAOhB,SAAS,CACdvB,kBAAkB,CAAC;AACjBL,MAAAA,CAAC,EAADA,CADiB;AAEjBM,MAAAA,cAAc,EAAdA,cAFiB;AAGjBC,MAAAA,OAAO,EAAPA,OAHiB;AAIjBC,MAAAA,YAAY,EAAZA;AAJiB,KAAD,CADJ,CAAhB;AAQD,GATQ,EASN,CAACD,OAAD,EAAUD,cAAV,CATM,CAAT;;AAWA,MAAMuC,OAAO,GAAG,SAAVA,OAAU,CAACC,KAAD,EAAW;AACzB,wBAAO;AAAI,MAAA,SAAS,EAAC;AAAd,OAA2BA,KAAK,CAACrC,KAAjC,CAAP;AACD,GAFD;;AAIA,WAASD,YAAT,CAAsBuC,CAAtB,EAAyB;AACvBjB,IAAAA,aAAa,CAACiB,CAAD,CAAb;AACD;;AACD,MAAMC,KAAK,GAAG,SAARA,KAAQ;AAAA,wBACZ;AAAK,MAAA,KAAK,EAAC,4BAAX;AAAwC,MAAA,OAAO,EAAC,WAAhD;AAA4D,MAAA,IAAI,EAAC;AAAjE,oBACE;AAAM,MAAA,CAAC,EAAC,iBAAR;AAA0B,MAAA,IAAI,EAAC;AAA/B,MADF,eAEE;AAAM,MAAA,CAAC,EAAC;AAAR,MAFF,CADY;AAAA,GAAd;;AAOA,MAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACH,KAAD,EAAW;AAC1B,wBACE;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAmC,MAAA,OAAO,EAAEA,KAAK,CAACI;AAAlD,oBACE,oBAAC,KAAD,OADF,CADF;AAKD,GAND;;AAQAN,EAAAA,SAAS,CAAC,YAAM;AACdf,IAAAA,UAAU,CAACa,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAES,YAAP,CAAV;AACD,GAFQ,EAEN,CAACT,IAAD,CAFM,CAAT;;AAKA,WAAS/B,MAAT,CAAgB+B,IAAhB,EAAsB;AAAA;;AACpBjB,IAAAA,OAAO,CAAC2B,OAAR,CAAgB,sCAAhB,EAAwD;AACtDC,MAAAA,eAAe,EAAE;AACfhC,QAAAA,MAAM,EAAE,QADO;AAEfiC,QAAAA,iBAAiB,EAAEZ,IAAI,CAACa,YAFT;AAGfC,QAAAA,SAAS,EAAEhC,eAAF,aAAEA,eAAF,gDAAEA,eAAe,CAAEiC,QAAjB,CAA0B,CAA1B,CAAF,0DAAE,sBAA8BC,EAH1B;AAIfC,QAAAA,MAAM,EAAErD,cAAc,CAACa,IAJR;AAKfyC,QAAAA,QAAQ,EAAEpC,eAAF,aAAEA,eAAF,iDAAEA,eAAe,CAAEiC,QAAjB,CAA0B,CAA1B,CAAF,2DAAE,uBAA8BG;AALzB,OADqC;AAOnDC,MAAAA,GAAG,EAAE,QAP8C;AAOpCxC,MAAAA,MAAM,EAAE,cAP4B;AAOZyC,MAAAA,eAAe,EAAEtC,eAAF,aAAEA,eAAF,iDAAEA,eAAe,CAAEiC,QAAjB,CAA0B,CAA1B,CAAF,qFAAE,uBAA8BM,cAA9B,CAA6C,CAA7C,CAAF,2DAAE,uBAAiDD;AAPtD,KAAxD;AAUD;;AACD,MAAItB,SAAJ,EAAe;AACb,wBAAO,oBAAC,MAAD,OAAP;AACD;;AACD,SAAOvC,MAAM,SAAN,IAAAA,MAAM,WAAN,IAAAA,MAAM,CAAEW,IAAR,gBACL,oBAAC,KAAD;AACE,IAAA,aAAa,eAAE,oBAAC,OAAD;AAAS,MAAA,KAAK,EAAEZ,CAAC,CAACC,MAAD,aAACA,MAAD,wCAACA,MAAM,CAAEQ,KAAT,kDAAC,cAAeC,OAAhB;AAAjB,MADjB;AAEE,IAAA,YAAY,eAAE,oBAAC,QAAD;AAAU,MAAA,OAAO,EAAEY;AAAnB,MAFhB;AAGE,IAAA,oBAAoB,EAAEA,UAHxB;AAIE,IAAA,eAAe,EAAEtB,CAAC,CAACC,MAAD,aAACA,MAAD,yCAACA,MAAM,CAAEQ,KAAT,mDAAC,eAAeE,MAAhB,CAJpB;AAKE,IAAA,kBAAkB,EAAE,8BAAM,EAL5B;AAME,IAAA,MAAM,EAAC,cANT;AAOE,IAAA,UAAU,EAAE,CAACL;AAPf,kBASE,oBAAC,YAAD;AAAc,IAAA,MAAM,EAAEL,MAAF,aAAEA,MAAF,uBAAEA,MAAM,CAAEW,IAA9B;AAAoC,IAAA,WAAW,MAA/C;AAAgD,IAAA,MAAM,MAAtD;AAAuD,IAAA,QAAQ,EAAE,IAAjE;AAAuE,IAAA,mBAAmB,MAA1F;AAA2F,IAAA,QAAQ,EAAED,MAArG;AAA6G,IAAA,MAAM,EAAC;AAApH,IATF,CADK,gBAaL,oBAAC,MAAD,OAbF;AAeD,CAhFD;;ACFA,IAAMqD,WAAW,GAAG,SAAdA,WAAc,CAAClB,KAAD,EAAW;AAC7B,sBAAO,oBAAC,kBAAD,EAAwBA,KAAxB,CAAP;AACD,CAFD;;ACFO,IAAMmB,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,SAAD,EAAe;AAE7C,MAAIA,SAAJ,EAAe;AACX,QAAMC,WAAW,GAAG,IAAIC,IAAJ,CAASF,SAAT,CAApB;AACA,QAAIG,KAAK,GAAGF,WAAW,CAACG,QAAZ,KAAyB,CAArC;AACA,QAAIC,GAAG,GAAGJ,WAAW,CAACK,OAAZ,EAAV;AACA,QAAIC,IAAI,GAAGN,WAAW,CAACO,WAAZ,EAAX;AACAL,IAAAA,KAAK,GAAG,CAACA,KAAK,GAAG,CAAR,GAAY,EAAZ,GAAiB,GAAlB,IAAyBA,KAAjC;AACAE,IAAAA,GAAG,GAAG,CAACA,GAAG,GAAG,CAAN,GAAU,EAAV,GAAe,GAAhB,IAAuBA,GAA7B;AACA,WAAUA,GAAV,SAAiBF,KAAjB,SAA0BI,IAA1B;AACH,GARD,MAQO;AACH,WAAO,IAAP;AACH;AACJ,CAbM;AAcP,AAAO,IAAME,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,GAAD,EAAWC,QAAX,EAA0BC,WAA1B,EAA+C;AAAA,MAA9CF,GAA8C;AAA9CA,IAAAA,GAA8C,GAAxC,EAAwC;AAAA;;AAAA,MAApCC,QAAoC;AAApCA,IAAAA,QAAoC,GAAzB,EAAyB;AAAA;;AAAA,MAArBC,WAAqB;AAArBA,IAAAA,WAAqB,GAAP,EAAO;AAAA;;AAC3E,MAAID,QAAQ,IAAI,EAAhB,EAAoB,OAAOD,GAAP;;AACpB,SAAOA,GAAG,CAACG,QAAJ,CAAaF,QAAb,CAAP,EAA+B;AAC3BD,IAAAA,GAAG,GAAGA,GAAG,CAACxB,OAAJ,CAAYyB,QAAZ,EAAsBC,WAAtB,CAAN;AACH;;AACD,SAAOF,GAAP;AACH,CANM;AASP,AAAO,IAAMI,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAgB;AAAA,MAAfA,KAAe;AAAfA,IAAAA,KAAe,GAAP,EAAO;AAAA;;AAC3C,SAAOA,KAAK,IAAIA,KAAK,IAAI,IAAlB,IAA0BA,KAAK,IAAIC,SAAnC,IAAgDD,KAAK,IAAI,EAAzD,GAA8D,IAA9D,GAAqE,KAA5E;AACH,CAFM;AAIP,AAAO,IAAME,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACF,KAAD,EAAgB;AAAA,MAAfA,KAAe;AAAfA,IAAAA,KAAe,GAAP,EAAO;AAAA;;AAC5C,SACKD,eAAe,CAACC,KAAD,CAAf,KAA4BA,KAAK,CAACG,UAAN,IAAoBH,KAAK,CAACG,UAAN,CAAiB,GAAjB,EAAsB,GAAtB,CAArB,IAAqDH,KAAK,CAAC7B,OAAN,IAAiBuB,gBAAgB,CAACM,KAAD,EAAQ,GAAR,EAAa,GAAb,CAAjH,CAAD,IAA0I,IAD9I;AAGH,CAJM;AAMP,AAAO,IAAMI,eAAe,GAAG,SAAlBA,eAAkB,CAACJ,KAAD,EAAapB,GAAb,EAA0B;AAAA,MAAzBoB,KAAyB;AAAzBA,IAAAA,KAAyB,GAAjB,EAAiB;AAAA;;AAAA,MAAbpB,GAAa;AAAbA,IAAAA,GAAa,GAAP,EAAO;AAAA;;AACrD,MAAIyB,cAAc,GAAGH,gBAAgB,CAACF,KAAD,CAArC;;AACA,MAAIK,cAAc,IAAI,IAAtB,EAA4B;AACxB,WAAO,OAAP;AACH;;AACD,SAAUzB,GAAV,SAAiByB,cAAjB;AACH,CANM;AAQP,IAAMC,wBAAwB,GAAG,IAAjC;AAEA,AAAO,IAAMC,wBAAwB,GAAG,SAA3BA,wBAA2B,GAAM;AAC1C,SAAOD,wBAAP;AACH,CAFM;AAIP,AAAO,IAAME,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,IAAD,EAAOC,EAAP,EAAc;AAC3C,MAAMC,QAAQ,GAAG,IAAIxB,IAAJ,CAASsB,IAAT,CAAjB;AACA,MAAMG,MAAM,GAAG,IAAIzB,IAAJ,CAASuB,EAAT,CAAf;;AACA,MAAIE,MAAM,CAACC,OAAP,KAAmBF,QAAQ,CAACE,OAAT,EAAnB,IAAyC,CAA7C,EAAgD;AAC9C,mBAAYF,QAAQ,CAACE,OAAT,KAAqB,IAAjC,WAAyCD,MAAM,CAACC,OAAP,KAAmB,GAA5D;AACD;;AACD,SAAUF,QAAQ,CAACG,kBAAT,EAAV,SAA2CF,MAAM,CAACE,kBAAP,EAA3C;AACD,CAPI;;AC3CP,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,OAAuE;AAAA,MAApEC,YAAoE,QAApEA,YAAoE;AAAA,MAAtDC,cAAsD,QAAtDA,cAAsD;AAAA,MAAtCC,AAA0BrD,KAAY;;AAE5F,MAAMc,QAAQ,GAAG5B,KAAK,CAACC,UAAN,CAAiBC,kBAAjB,MAAyC,EAA1D;AACA,MAAMC,MAAM,GAAGyB,QAAQ,CAACxB,KAAT,IAAkBwB,QAAQ,CAACxB,KAAT,CAAe,GAAf,EAAoB,CAApB,CAAlB,IAA4C,EAA3D;;AAH4F,kBAInDT,QAAQ,CAAC;AAAA,WAAMsE,YAAN;AAAA,GAAD,CAJ2C;AAAA,MAIrFG,aAJqF;AAAA,MAItEC,eAJsE;;AAAA,wBAK9EC,cAAc,EALgE;AAAA,MAKpFtG,CALoF,mBAKpFA,CALoF;;AAM5F,MAAMuG,cAAc,GAAGf,wBAAwB,EAA/C;;AAN4F,mBAOhE7D,QAAQ,CAAC,EAAD,CAPwD;AAAA,MAOrF6E,MAPqF;AAAA,MAO7EC,SAP6E;;AAAA,mBAQ9D9E,QAAQ,CAAC;AAAEX,IAAAA,IAAI,sCAAoCuF,cAA1C;AAA4DpF,IAAAA,IAAI,EAAEoF;AAAlE,GAAD,CARsD;AAAA,MAQrFG,OARqF;AAAA,MAQ5EC,UAR4E;;AAAA,8BAUvD3E,KAAK,CAACK,KAAN,CAAYC,QAAZ,CAAqBC,eAArB,CACnCJ,MADmC,EAEnC,8BAFmC,CAVuD;AAAA,MAUpFO,IAVoF,yBAUpFA,IAVoF;AAAA,MAU9EF,SAV8E,yBAU9EA,SAV8E;AAAA,MAUhEG,IAVgE;;AAe5F,MAAMiE,UAAU,GAAG,CAAAlE,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEmE,kBAAN,KAA4B,EAA/C;AAEAjE,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI,CAAA8D,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEvF,IAAT,KAAiBiF,aAAa,CAACU,gBAAnC,EAAqD;AACnDT,MAAAA,eAAe,CAAC;AAAES,QAAAA,gBAAgB,EAAEJ,OAAF,aAAEA,OAAF,uBAAEA,OAAO,CAAEvF;AAA7B,OAAD,CAAf;AACD;AACF,GAJQ,EAIN,CAACuF,OAAD,CAJM,CAAT;AAMA9D,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI4D,MAAJ,EAAY;AACVH,MAAAA,eAAe,CAAC;AAAEG,QAAAA,MAAM,EAAEA,MAAM,CAACO,IAAP,CAAY,GAAZ;AAAV,OAAD,CAAf;AACD;AACF,GAJQ,EAIN,CAACP,MAAD,CAJM,CAAT;;AAMA,MAAMQ,eAAe,GAAG,SAAlBA,eAAkB,CAAC/B,KAAD,EAAW;AACjC,QAAIuB,MAAM,CAACzB,QAAP,CAAgBE,KAAhB,CAAJ,EAA4B;AAC1BuB,MAAAA,MAAM,CAACS,MAAP,CAAcT,MAAM,CAACU,SAAP,CAAiB,UAACC,CAAD;AAAA,eAAOA,CAAC,IAAIlC,KAAZ;AAAA,OAAjB,CAAd,EAAmD,CAAnD;AACD,KAFD,MAEO;AACLuB,MAAAA,MAAM,CAACY,IAAP,CAAYnC,KAAZ;AACD;;AACDwB,IAAAA,SAAS,WAAKD,MAAL,EAAT;AACD,GAPD;;AASA,MAAMa,QAAQ,GAAG,SAAXA,QAAW,GAAM;AAAA;;AACrBnB,IAAAA,cAAc,CAAC;AAAEoB,MAAAA,MAAM,EAAEC,MAAM,CAACC,IAAP,CAAYvB,YAAZ;AAAV,KAAD,EAAwC,IAAxC,CAAd;AACAQ,IAAAA,SAAS,CAAC,EAAD,CAAT;AACAE,IAAAA,UAAU,CAAC;AAAE3F,MAAAA,IAAI,sCAAoCuF,cAA1C;AAA4DpF,MAAAA,IAAI,EAAEoF;AAAlE,KAAD,CAAV;AACAzD,IAAAA,KAAK,SAAL,IAAAA,KAAK,WAAL,8BAAAA,KAAK,CAAE2E,OAAP,uEAAA3E,KAAK;AACN,GALD;;AAMA,MAAIN,SAAJ,EAAe;AACb,wBAAO,oBAAC,MAAD,OAAP;AACD;;AACD,sBACE,oBAAC,KAAD,CAAO,QAAP,qBACE;AAAK,IAAA,SAAS,EAAC;AAAf,kBACE;AAAK,IAAA,SAAS,EAAC;AAAf,kBACE;AAAK,IAAA,SAAS,EAAC;AAAf,kBACE;AAAK,IAAA,SAAS,EAAC;AAAf,KAA+BxC,CAAC,CAAC,sBAAD,CAAhC,MADF,eAEE;AAAK,IAAA,SAAS,EAAC,UAAf;AAA0B,IAAA,OAAO,EAAEqH;AAAnC,KACGrH,CAAC,CAAC,qBAAD,CADJ,CAFF,EAKG8C,KAAK,CAAChC,IAAN,KAAe,SAAf,iBACC;AAAM,IAAA,SAAS,EAAC,cAAhB;AAA+B,IAAA,OAAO,EAAEuG,QAAxC;AAAkD,IAAA,KAAK,EAAE;AAAEK,MAAAA,MAAM,EAAE,mBAAV;AAA+BC,MAAAA,OAAO,EAAE;AAAxC;AAAzD,kBACE;AAAK,IAAA,KAAK,EAAC,IAAX;AAAgB,IAAA,MAAM,EAAC,IAAvB;AAA4B,IAAA,OAAO,EAAC,WAApC;AAAgD,IAAA,IAAI,EAAC,MAArD;AAA4D,IAAA,KAAK,EAAC;AAAlE,kBACE;AACE,IAAA,CAAC,EAAC,mQADJ;AAEE,IAAA,IAAI,EAAC;AAFP,IADF,CADF,CANJ,EAeG7E,KAAK,CAAChC,IAAN,KAAe,QAAf,iBACC;AAAM,IAAA,OAAO,EAAEgC,KAAK,CAAC2E;AAArB,kBACE,oBAAC,QAAD,OADF,CAhBJ,CADF,eAsBE,8CACE,8CACE;AAAK,IAAA,SAAS,EAAC;AAAf,KAA+BzH,CAAC,CAAC,4BAAD,CAAhC,CADF,EAEG4G,UAAU,CAACgB,GAAX,CAAe,UAACC,GAAD,EAAMC,KAAN;AAAA,wBACd,oBAAC,QAAD;AACE,MAAA,GAAG,EAAEA,KAAK,GAAG,SADf;AAEE,MAAA,KAAK,EAAE9H,CAAC,CAAC6H,GAAD,aAACA,GAAD,uBAACA,GAAG,CAAE7G,IAAN,CAFV;AAGE,MAAA,KAAK,EAAE6G,GAAF,aAAEA,GAAF,uBAAEA,GAAG,CAAE1G,IAHd;AAIE,MAAA,OAAO,EAAEqF,MAAM,CAACzB,QAAP,CAAgB8C,GAAhB,aAAgBA,GAAhB,uBAAgBA,GAAG,CAAE1G,IAArB,CAJX;AAKE,MAAA,QAAQ,EAAE,kBAAC4G,KAAD;AAAA,eACRf,eAAe,CAACe,KAAK,CAACC,MAAN,CAAa/C,KAAd,CADP;AAAA;AALZ,MADc;AAAA,GAAf,CAFH,eAYE,8CACE;AAAK,IAAA,SAAS,EAAC;AAAf,KAA+BjF,CAAC,CAAC,2BAAD,CAAhC,CADF,eAEE,oBAAC,QAAD;AAAU,IAAA,CAAC,EAAEA,CAAb;AAAgB,IAAA,MAAM,EAAE,CAAA0C,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAES,YAAN,KAAsB,IAA9C;AAAoD,IAAA,KAAK,EAAEuD,OAA3D;AAAoE,IAAA,QAAQ,EAAEA,OAA9E;AAAuF,IAAA,MAAM,EAAEC,UAA/F;AAA2G,IAAA,SAAS,EAAE;AAAtH,IAFF,CAZF,EAgBG7D,KAAK,CAAChC,IAAN,KAAe,QAAf,iBAA0B,8CACzB,oBAAC,SAAD;AAEE,IAAA,QAAQ,EAAE,oBAAM;AAAA;;AAACoF,MAAAA,cAAc,CAACE,aAAD,CAAd;AACftD,MAAAA,KAAK,SAAL,IAAAA,KAAK,WAAL,+BAAAA,KAAK,CAAE2E,OAAP,yEAAA3E,KAAK;AAAc,KAHvB;AAIE,IAAA,KAAK,EAAE9C,CAAC,CAAC,mBAAD;AAJV,IADyB,CAhB7B,EAwBG8C,KAAK,CAAChC,IAAN,KAAe,QAAf,iBAA6B,oBAAC,SAAD,qBAC5B,oBAAC,cAAD;AACE,IAAA,MAAM,EAAE,KADV;AAEE,IAAA,SAAS,EAAEd,CAAC,CAAC,qBAAD,CAFd;AAGE,IAAA,UAAU,EAAEA,CAAC,CAAC,mBAAD,CAHf;AAIE,IAAA,QAAQ,EAAE,oBAAM;AAAA;;AAACkG,MAAAA,cAAc,CAACE,aAAD,CAAd;AACftD,MAAAA,KAAK,SAAL,IAAAA,KAAK,WAAL,+BAAAA,KAAK,CAAE2E,OAAP,yEAAA3E,KAAK;AAAc,KALvB;AAME,IAAA,OAAO,EAAE,mBAAM;AAAA;;AAACuE,MAAAA,QAAQ;AACtBvE,MAAAA,KAAK,SAAL,IAAAA,KAAK,WAAL,+BAAAA,KAAK,CAAE2E,OAAP,yEAAA3E,KAAK;AAAc,KAPvB;AAQE,IAAA,KAAK,EAAE;AAAEmF,MAAAA,IAAI,EAAE;AAAR;AART,IAD4B,CAxBhC,CADF,CAtBF,CADF,CADF,CADF;AAoED,CAnHD;;ACCO,IAAMC,YAAY,YAAZA,YAAY,CAAUpE,eAAV,EAA2BqE,YAA3B;AAAA,MAA4C;AAAA,2BAC7DnG,KAAK,CAACoG,KAAN,CAAYC,eAAZ,CAA4BF,YAA5B,EAA0CrE,eAA1C,EAA2D,qBAA3D,CAD6D;AAEpE,GAFwB;AAAA;AAAA;AAAA,CAAlB;;AAIP,IAAMwE,UAAU,GAAG,SAAbA,UAAa,CAACxH,IAAD,EAAOO,MAAP,EAAekH,SAAf,EAA0BC,UAA1B,EAAsCxI,CAAtC,EAA4C;AAC7D,SAAOA,CAAC,gBAAauI,SAAS,GAAG,SAAH,GAAe,SAArC,oBAAR;AACD,CAFD;;AAIA,IAAME,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACpH,MAAD,EAASkH,SAAT,EAAoBC,UAApB,EAAgCxI,CAAhC,EAAsC;AAC7D,SAAOsI,UAAU,CAAC,QAAD,EAAWjH,MAAX,EAAmBkH,SAAnB,EAA8BC,UAA9B,EAA0CxI,CAA1C,CAAjB;AACD,CAFD;;AAUA,IAAM0I,YAAY,GAAG,SAAfA,YAAe,CAAC5F,KAAD,EAAW;AAAA;;AAC9B,sBACE,oBAAC/C,QAAD;AACE,IAAA,OAAO,EAAG0I,gBAAgB,CAAC3F,KAAK,CAACzB,MAAP,EAAeyB,KAAK,CAACyF,SAArB,EAAgCzF,KAAK,CAAC0F,UAAtC,EAAkD1F,KAAK,CAAC9C,CAAxD,CAD5B;AAEE,IAAA,iBAAiB,EAAE8C,KAAF,aAAEA,KAAF,sCAAEA,KAAK,CAAEJ,IAAT,wEAAE,YAAae,QAAf,kFAAE,qBAAwB,CAAxB,CAAF,0DAAE,sBAA4BM,cAA5B,CAA2C,CAA3C,EAA8C4E,aAFnE;AAGE,IAAA,IAAI,EAAE7F,KAAK,CAACyF,SAAN,GAAkBzF,KAAK,CAAC9C,CAAN,CAAQ,mBAAR,CAAlB,GAAiD,EAHzD;AAIE,IAAA,UAAU,EAAE8C,KAAK,CAACyF;AAJpB,IADF;AAQD,CATD;;AAWA,IAAMK,sBAAsB,GAAG,SAAzBA,sBAAyB,CAAC9F,KAAD,EAAW;AAAA;;AAAA,wBAC1BwD,cAAc,EADY;AAAA,MAChCtG,CADgC,mBAChCA,CADgC;;AAExC,MAAM4D,QAAQ,GAAG5B,KAAK,CAACC,UAAN,CAAiBC,kBAAjB,EAAjB;AAFwC,MAGhC2G,KAHgC,GAGtB/F,KAAK,CAACgG,QAHgB,CAGhCD,KAHgC;AAIxC,MAAME,QAAQ,GAAG/G,KAAK,CAACK,KAAN,CAAYC,QAAZ,CAAqB0G,iBAArB,CAAuCpF,QAAvC,EAAiDiF,KAAjD,aAAiDA,KAAjD,uBAAiDA,KAAK,CAAE/E,eAAxD,CAAjB;;AAJwC,8BAKe9B,KAAK,CAACK,KAAN,CAAY4G,iBAAZ,CAA8B,oCAA9B,EAAoE,KAApE,CALf;AAAA,MAKjCC,gBALiC;AAAA,MAKfC,mBALe;;AAAA,+BAMMnH,KAAK,CAACK,KAAN,CAAY4G,iBAAZ,CAA8B,6BAA9B,EAA6D,KAA7D,CANN;AAAA,MAMjCG,SANiC;AAAA,MAMtBC,YANsB;;AAAA,+BAOgBrH,KAAK,CAACK,KAAN,CAAY4G,iBAAZ,CAA8B,wCAA9B,EAAwE,KAAxE,CAPhB;AAAA,MAOjCK,WAPiC;AAAA,MAOpBC,cAPoB;;AASxC3G,EAAAA,SAAS,CAAC,YAAM;AACd,QAAImG,QAAQ,CAACrG,IAAb,EAAmB6G,cAAc,CAACR,QAAQ,CAACrG,IAAV,CAAd;AACpB,GAFQ,EAEN,CAACqG,QAAQ,CAACrG,IAAV,CAFM,CAAT;;AAIA,MAAM8G,OAAO,GAAG,SAAVA,OAAU,CAACC,KAAD,EAAQC,SAAR,EAAsB;AAAA;;AACpCL,IAAAA,YAAY,CAAC,CAAAI,KAAK,SAAL,IAAAA,KAAK,WAAL,+BAAAA,KAAK,CAAEE,QAAP,4FAAiBjH,IAAjB,uGAAuBkH,MAAvB,CAA8B,CAA9B,iFAAkCzI,IAAlC,KAA0C,OAA3C,CAAZ;AACAgI,IAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACD,GAHD;;AAKAvG,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMiH,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtBV,MAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACD,KAFD;;AAGA,QAAIN,KAAK,CAAChF,GAAN,KAAc,QAAd,IAA0B,CAACqF,gBAA3B,IAA+C,CAACE,SAApD,EAA+D;AAC7DL,MAAAA,QAAQ,CAACe,MAAT,CACE;AACEC,QAAAA,gBAAgB,EAAE,CAAClB,KAAK,CAACxF,eAAP;AADpB,OADF,EAIE;AACEmG,QAAAA,OAAO,EAAPA,OADF;AAEEK,QAAAA,SAAS,EAATA;AAFF,OAJF;AASD;AACF,GAfQ,EAeN,EAfM,CAAT;;AAiBA,MAAMG,WAAW,GAAG,SAAdA,WAAc,CAAC3I,MAAD,EAASkH,SAAT,EAAoBC,UAApB,EAAgCxI,CAAhC,EAAsC;AACxD,QAAI,CAACuI,SAAL,EAAgB;AAAA;;AACd,aAAO,CAAAQ,QAAQ,SAAR,IAAAA,QAAQ,WAAR,+BAAAA,QAAQ,CAAEU,KAAV,6FAAiBE,QAAjB,0GAA2BjH,IAA3B,kFAAiCkH,MAAjC,CAAwC,CAAxC,EAA2CzI,IAA3C,KAAmDiI,SAA1D;AACD,KAFD,MAEO;AACLpH,MAAAA,KAAK,CAACiI,cAAN,CAAqBC,GAArB,CAAyB,UAAzB,EAAqCC,IAAI,CAACC,KAAL,CAAW,SAASD,IAAI,CAACE,MAAL,KAAgB,MAApC,CAArC;AACA,aAAOrK,CAAC,CAAC,0BAAD,CAAR;AACD;AACF,GAPD;;AASA,MAAI+I,QAAQ,CAACvG,SAAT,IAAuBuG,QAAQ,CAACuB,MAAT,IAAmB,CAACpB,gBAA/C,EAAkE;AAChE,wBAAO,oBAAC,MAAD,OAAP;AACD;;AACD,MAAMqB,OAAO,GAAG,CAAAxB,QAAQ,SAAR,IAAAA,QAAQ,WAAR,8BAAAA,QAAQ,CAAErG,IAAV,kEAAgBe,QAAhB,CAAyB,CAAzB,OAA+B6F,WAA/B,aAA+BA,WAA/B,gDAA+BA,WAAW,CAAE7F,QAA5C,0DAA+B,sBAAwB,CAAxB,CAA/B,CAAhB;AACA,MAAM8E,SAAS,GAAG,CAACe,WAAD,GAAeP,QAAf,aAAeA,QAAf,uBAAeA,QAAQ,CAAER,SAAzB,GAAqC,IAAvD;AACA,sBACE,oBAAC,IAAD,qBACE,oBAAC,YAAD;AACE,IAAA,CAAC,EAAEvI,CADL;AAEE,IAAA,IAAI,EAAE,CAAA+I,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAErG,IAAV,KAAkB4G,WAF1B;AAGE,IAAA,MAAM,EAAET,KAAK,CAACxH,MAHhB;AAIE,IAAA,SAAS,EAAEkH,SAJb;AAKE,IAAA,SAAS,EAAGQ,QAAQ,CAACuB,MAAT,IAAmB,CAACpB,gBAArB,KAA0CH,QAA1C,aAA0CA,QAA1C,uBAA0CA,QAAQ,CAAEvG,SAApD,CALb;AAME,IAAA,UAAU,EAAEM,KAAK,CAAC0H,WAAN,CAAkBzF,QAAlB,CAA2B,UAA3B;AANd,IADF,eASE,oBAAC,QAAD,QAAW/E,CAAC,CAACgK,WAAW,CAACnB,KAAK,CAACxH,MAAP,EAAekH,SAAf,EAA0BzF,KAAK,CAAC0H,WAAN,CAAkBzF,QAAlB,CAA2B,UAA3B,CAA1B,EAAkE/E,CAAlE,CAAZ,EAAkFA,CAAlF,CAAZ,CATF,EAUGuI,SAAS,iBACR,oBAAC,QAAD,qBACE,oBAAC,UAAD;AACE,IAAA,KAAK,eACH;AAAK,MAAA,SAAS,EAAC;AAAf,oBACE,+CACE;AAAK,MAAA,KAAK,EAAC,IAAX;AAAgB,MAAA,MAAM,EAAC,IAAvB;AAA4B,MAAA,OAAO,EAAC,WAApC;AAAgD,MAAA,IAAI,EAAC,MAArD;AAA4D,MAAA,KAAK,EAAC;AAAlE,oBACE;AAAM,MAAA,CAAC,EAAC,+LAAR;AAAwM,MAAA,IAAI,EAAC;AAA7M,MADF,CADF,CADF,eAME;AAAM,MAAA,SAAS,EAAC;AAAhB,OAAmCvI,CAAC,CAAC,oBAAD,CAApC,CANF,CAFJ;AAWE,IAAA,KAAK,EAAE;AAAEyK,MAAAA,KAAK,EAAE;AAAT,KAXT;AAYE,IAAA,OAAO,EAAE,mBAAM;AAAA;;AAAEvC,MAAAA,YAAY,CAACqC,OAAD,aAACA,OAAD,gDAACA,OAAO,CAAExG,cAAT,CAAwB,CAAxB,CAAD,0DAAC,sBAA4BD,eAA7B,EAA8CyG,OAA9C,aAA8CA,OAA9C,iDAA8CA,OAAO,CAAExG,cAAT,CAAwB,CAAxB,CAA9C,qFAA8C,uBAA4B2G,IAA1E,2DAA8C,uBAAkCvC,YAAhF,CAAZ;AAA2G;AAZ9H,IADF,CAXJ,eA2BE,oBAAC,SAAD,qBACE,oBAAC,IAAD;AAAM,IAAA,EAAE,QAAKrF,KAAK,CAAC0H,WAAN,CAAkBzF,QAAlB,CAA2B,UAA3B,IAAyC,oBAAzC,GAAgE,mBAArE;AAAR,kBACE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAE/E,CAAC,CAAC,wBAAD;AAAnB,IADF,CADF,CA3BF,CADF;AAmCD,CApFD;;AC5BA,IAAM2K,gBAAgB,GAAC,SAAjBA,gBAAiB,CAACC,OAAD,EAAc;AAAA;;AAAA,MAAbA,OAAa;AAAbA,IAAAA,OAAa,GAAL,EAAK;AAAA;;AACnC,SAAO,aAAAA,OAAO,UAAP,4CAASC,aAAT,MAA2B,WAA3B,IAA0C,cAAAD,OAAO,UAAP,8CAASC,aAAT,MAA2B,WAArE,KAAqF,cAAAD,OAAO,UAAP,8CAASE,gBAAT,KAA6B,UAA7B,IAA2C,cAAAF,OAAO,UAAP,8CAASE,gBAAT,KAA6B,UAA7J,CAAP;AACD,CAFD;;AAIA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAAA;;AAAA,kBAEOpJ,QAAQ,CAAC,KAAD,CAFf;AAAA,MAEpBqJ,SAFoB;AAAA,MAETC,YAFS;;AAAA,wBAGb3E,cAAc,EAHD;AAAA,MAGnBtG,CAHmB,mBAGnBA,CAHmB;;AAAA,mBAIyBkL,SAAS,EAJlC;AAAA,MAIfC,SAJe,cAInBzH,EAJmB;AAAA,MAIKI,eAJL,cAIJ4C,OAJI;;AAK3B,MAAM9C,QAAQ,GAAG5B,KAAK,CAACC,UAAN,CAAiBC,kBAAjB,EAAjB;AACA,MAAMkJ,QAAQ,GAAGpJ,KAAK,CAACiI,cAAN,CAAqBoB,GAArB,CAAyB,UAAzB,CAAjB;;AAN2B,8BAO0BrJ,KAAK,CAACK,KAAN,CAAYC,QAAZ,CAAqBgJ,iBAArB,CAAuC;AAAEC,IAAAA,cAAc,EAAEC,kBAAkB,CAACL,SAAD,CAApC;AAAiDrE,IAAAA,gBAAgB,EAAEhD;AAAnE,GAAvC,EAA6HF,QAA7H,EAAuI,EAAvI,EAA2IwH,QAA3I,CAP1B;AAAA,MAOnB5I,SAPmB,yBAOnBA,SAPmB;AAAA,MAORC,AAAgBC,IAPR,yBAOQA,IAPR;AAAA,MAOiBC,IAPjB;;AAS3B,MAAM8I,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1BR,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACD,GAFD;;AAIA,MAAM3J,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvB2J,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,GAFD;;AAIA,MAAM1J,YAAY,GAAG,SAAfA,YAAe,CAACmB,IAAD,EAAU,EAA/B;;AACAE,EAAAA,SAAS,CAAC,YAAM;AACd,WAAO,YAAM;AACXD,MAAAA,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAE+I,UAAN;AACD,KAFD;AAGD,GAJQ,EAIN,EAJM,CAAT;;AAlB2B,8BAwB4B1J,KAAK,CAACK,KAAN,CAAY4G,iBAAZ,CAA8B,oCAA9B,EAAoE,KAApE,CAxB5B;AAAA,MAwBpBC,AAAkBC,mBAxBE;;AAAA,+BAyB6BnH,KAAK,CAACK,KAAN,CAAY4G,iBAAZ,CAA8B,wCAA9B,EAAwE,KAAxE,CAzB7B;AAAA,MAyBpBK,AAA6BqC,gBAzBT;;AAAA,+BA0BmB3J,KAAK,CAACK,KAAN,CAAY4G,iBAAZ,CAA8B,6BAA9B,EAA6D,KAA7D,CA1BnB;AAAA,MA0BpBG,AAAyBwC,UA1BL;;AA2B3BhJ,EAAAA,SAAS,CAAC,YAAM;AACduG,IAAAA,mBAAmB,CAAC,KAAD,CAAnB;AACAwC,IAAAA,gBAAgB;AAChBC,IAAAA,UAAU;AACX,GAJQ,EAIN,EAJM,CAAT;;AAMA,MAAIpJ,SAAJ,EAAe;AACb,wBAAO,oBAAC,MAAD,OAAP;AACD;;AACD,MAAMqJ,cAAc,GAAG,CAACrJ,SAAD,IAAc,CAAAE,IAAI,SAAJ,IAAAA,IAAI,WAAJ,8BAAAA,IAAI,CAAEe,QAAN,kEAAgBqI,MAAhB,IAAyB,CAAvC,GAA2CpJ,IAAI,CAACe,QAAL,CAAc,CAAd,CAA3C,GAA8D,EAArF;AAEA,sBACE,oBAAC,KAAD,CAAO,QAAP,qBACE;AAAK,IAAA,KAAK,EAAE;AAAEgH,MAAAA,KAAK,EAAE,KAAT;AAAgBsB,MAAAA,UAAU,EAAE,SAA5B;AAAuC7L,MAAAA,KAAK,EAAE;AAA9C;AAAZ,kBACE,oBAAC,MAAD,QAASF,CAAC,CAAC,oBAAD,CAAV,CADF,CADF,EAIG,CAACwC,SAAD,IAAc,CAAAE,IAAI,SAAJ,IAAAA,IAAI,WAAJ,+BAAAA,IAAI,CAAEe,QAAN,oEAAgBqI,MAAhB,IAAyB,CAAvC,gBACC,8CACE,oBAAC,IAAD,qBACE,oBAAC,WAAD,qBACE,oBAAC,GAAD;AAAK,IAAA,KAAK,EAAE9L,CAAC,CAAC,mBAAD,CAAb;AAAoC,IAAA,IAAI,EAAE,CAAA6L,cAAc,SAAd,IAAAA,cAAc,WAAd,qCAAAA,cAAc,CAAE9H,cAAhB,CAA+B,CAA/B,iFAAmC4E,aAAnC,KAAoD,IAA9F;AAAoG,IAAA,SAAS,EAAE;AAAEqD,MAAAA,UAAU,EAAE;AAAd;AAA/G,IADF,eAEE,oBAAC,GAAD;AAAK,IAAA,KAAK,EAAEhM,CAAC,CAAC,4BAAD,CAAb;AAA6C,IAAA,IAAI,EAAE,CAAA6L,cAAc,SAAd,IAAAA,cAAc,WAAd,sCAAAA,cAAc,CAAE9H,cAAhB,CAA+B,CAA/B,6GAAmC2G,IAAnC,kFAAyCvC,YAAzC,KAAyD,IAA5G;AAAkH,IAAA,SAAS,EAAE;AAAE6D,MAAAA,UAAU,EAAE;AAAd;AAA7H,IAFF,eAGE,oBAAC,GAAD;AAAK,IAAA,KAAK,EAAEhM,CAAC,CAAC,yBAAD,CAAb;AAA0C,IAAA,IAAI,EAAEiE,kBAAkB,CAAC4H,cAAD,aAACA,cAAD,iDAACA,cAAc,CAAE9H,cAAhB,CAA+B,CAA/B,CAAD,2DAAC,uBAAmCkI,WAApC,CAAlB,IAAsE;AAAtH,IAHF,eAIE,oBAAC,GAAD;AAAK,IAAA,KAAK,EAAEjM,CAAC,CAAC,uBAAD,CAAb;AAAwC,IAAA,IAAI,EAAE,CAAA6L,cAAc,SAAd,IAAAA,cAAc,WAAd,YAAAA,cAAc,CAAEK,SAAhB,KAA6B;AAA3E,IAJF,eAKE,oBAAC,GAAD;AAAK,IAAA,KAAK,EAAElM,CAAC,CAAC,yBAAD,CAAb;AAA0C,IAAA,IAAI,EAAE,CAAA6L,cAAc,SAAd,IAAAA,cAAc,WAAd,YAAAA,cAAc,CAAEM,YAAhB,KAAgC;AAAhF,IALF,eAME,oBAAC,GAAD;AAAK,IAAA,KAAK,EAAEnM,CAAC,CAAC,yBAAD,CAAb;AAA0C,IAAA,IAAI,EAAEA,CAAC,CAACqF,eAAe,CAACwG,cAAD,aAACA,cAAD,iDAACA,cAAc,CAAE9H,cAAhB,CAA+B,CAA/B,CAAD,2DAAC,uBAAmCD,eAApC,EAAqD,gCAArD,CAAhB,CAAD,IAA4G;AAA5J,IANF,eAOE,oBAAC,GAAD;AAAK,IAAA,KAAK,EAAE9D,CAAC,CAAC,wBAAD,CAAb;AAAyC,IAAA,IAAI,EAAEyF,iBAAiB,CAACoG,cAAD,aAACA,cAAD,iDAACA,cAAc,CAAE9H,cAAhB,CAA+B,CAA/B,CAAD,qFAAC,uBAAmC2G,IAApC,qFAAC,uBAAyC0B,WAAzC,CAAqD,CAArD,CAAD,2DAAC,uBAAyDC,UAA1D,EAAqER,cAArE,aAAqEA,cAArE,iDAAqEA,cAAc,CAAE9H,cAAhB,CAA+B,CAA/B,CAArE,sFAAqE,uBAAmC2G,IAAxG,uFAAqE,wBAAyC0B,WAAzC,CAAqD,CAArD,CAArE,4DAAqE,wBAAyDE,QAA9H,CAAjB,IAA4J;AAA3M,IAPF,eAQE,oBAAC,GAAD;AAAK,IAAA,KAAK,EAAEtM,CAAC,CAAC,mBAAD,CAAb;AAAoC,IAAA,IAAI,EAAE,OAAM6L,cAAN,aAAMA,cAAN,uBAAMA,cAAc,CAAEU,eAAtB,KAAyC;AAAnF,IARF,eASE,oBAAC,GAAD;AAAK,IAAA,KAAK,EAAEvM,CAAC,CAAC,2BAAD,CAAb;AAA4C,IAAA,IAAI,EAAE,OAAM6L,cAAN,aAAMA,cAAN,uBAAMA,cAAc,CAAEW,QAAtB,KAAkC;AAApF,IATF,eAUE,oBAAC,GAAD;AAAK,IAAA,KAAK,EAAExM,CAAC,CAAC,yBAAD,CAAb;AAA0C,IAAA,IAAI,EAAE6L,cAAc,SAAd,IAAAA,cAAc,WAAd,IAAAA,cAAc,CAAEY,WAAhB,GAA8BzM,CAAC,kCAA+B6L,cAA/B,aAA+BA,cAA/B,uBAA+BA,cAAc,CAAEY,WAA/C,EAAD,IAAkE,IAAhG,GAAuG;AAAvJ,IAVF,eAWE,oBAAC,GAAD;AAAK,IAAA,KAAK,EAAEzM,CAAC,CAAC,mBAAD,CAAb;AAAoC,IAAA,IAAI,EAAE,CAAA6L,cAAc,SAAd,IAAAA,cAAc,WAAd,YAAAA,cAAc,CAAEa,iBAAhB,KAAqC;AAA/E,IAXF,eAYE,oBAAC,GAAD;AAAK,IAAA,KAAK,EAAE1M,CAAC,CAAC,0BAAD,CAAb;AAA2C,IAAA,IAAI,EAAE,CAAA6L,cAAc,SAAd,IAAAA,cAAc,WAAd,uCAAAA,cAAc,CAAE9H,cAAhB,CAA+B,CAA/B,qFAAmC4I,mBAAnC,KAA0D;AAA3G,IAZF,eAaE,oBAAC,GAAD;AAAK,IAAA,KAAK,EAAE3M,CAAC,CAAC,4BAAD,CAAb;AAA6C,IAAA,IAAI,EAAEiE,kBAAkB,CAAC4H,cAAD,aAACA,cAAD,kDAACA,cAAc,CAAE9H,cAAhB,CAA+B,CAA/B,CAAD,4DAAC,wBAAmC6I,iBAApC,CAAlB,IAA4E;AAA/H,IAbF,CADF,CADF,CADD,GAoBG,IAxBN,EAyBG5B,SAAS,gBACR,oBAAC,WAAD;AAAa,IAAA,CAAC,EAAEhL,CAAhB;AAAmB,IAAA,QAAQ,EAAE4D,QAA7B;AAAuC,IAAA,eAAe,EAAElB,IAAxD;AAA8D,IAAA,UAAU,EAAEpB,UAA1E;AAAsF,IAAA,YAAY,EAAEC;AAApG,IADQ,GAEN,IA3BN,eA4BE,oBAAC,SAAD,QACGoJ,gBAAgB,CAACkB,cAAD,CAAhB,iBAAoC,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAE7L,CAAC,CAAC,0BAAD,CAAnB;AAAiD,IAAA,QAAQ,EAAE;AAAA,aAAMyL,aAAa,EAAnB;AAAA;AAA3D,IADvC,CA5BF,CADF;AAkCD,CAxED;;ACNA,IAAMoB,UAAU,GAAG,SAAbA,UAAa,OAA4D;AAAA,MAA5C/I,eAA4C,QAA5CA,eAA4C;AAAA,MAA3BgJ,QAA2B,QAA3BA,QAA2B;AAAA,MAAjBC,UAAiB,QAAjBA,UAAiB;;AAAA,wBAC/DzG,cAAc,EADiD;AAAA,MACrEtG,CADqE,mBACrEA,CADqE;;AAAA,kBAEnD2B,QAAQ,CAAC,EAAD,CAF2C;AAAA,MAEtEqL,KAFsE;AAAA,MAE/DC,QAF+D;;AAAA,MAG9DC,SAH8D,GAGhDlL,KAAK,CAACmL,WAAN,CAAkBC,OAAlB,GAA4BC,IAHoB,CAGrEC,KAHqE;AAI7E1K,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI2K,WAAW,GAAGT,QAAQ,CACvBU,MADe,CACR,UAACzK,CAAD;AAAA,aAAOA,CAAC,CAACe,eAAF,KAAsBA,eAA7B;AAAA,KADQ,EAEf0J,MAFe,CAER;AAAA,UAAGF,KAAH,SAAGA,KAAH;AAAA,aAAeA,KAAK,CAACG,IAAN,CAAW,UAAC1K,CAAD;AAAA,eAAOmK,SAAS,CAACtF,GAAV,CAAc;AAAA,cAAGzG,IAAH,SAAGA,IAAH;AAAA,iBAAcA,IAAd;AAAA,SAAd,EAAkC4D,QAAlC,CAA2ChC,CAA3C,CAAP;AAAA,OAAX,KAAoE,CAACuK,KAAK,CAACxB,MAA1F;AAAA,KAFQ,CAAlB;AAGAmB,IAAAA,QAAQ,CAACM,WAAD,CAAR;AACD,GALQ,EAKN,EALM,CAAT;;AAOA,MAAMG,OAAO,GAAG,SAAVA,OAAU;AAAA,wBACd;AAAK,MAAA,SAAS,EAAC;AAAf,oBACE;AAAM,MAAA,SAAS,EAAC;AAAhB,oBACE,oBAAC,gBAAD,OADF,CADF,EAGU,GAHV,eAIE;AAAM,MAAA,SAAS,EAAC;AAAhB,OAAwB1N,CAAC,CAAC+M,UAAD,CAAzB,CAJF,CADc;AAAA,GAAhB;;AAQA,sBACE,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC;AAAhB,kBACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACGW,OAAO,EADV,eAEE;AAAK,IAAA,SAAS,EAAC;AAAf,KACGV,KAAK,CAACpF,GAAN,CAAU,iBAAmDE,KAAnD,EAA6D;AAAA,QAA1D6F,IAA0D,SAA1DA,IAA0D;AAAA,QAApDC,IAAoD,SAApDA,IAAoD;AAAA,gCAA9CC,SAA8C;AAAA,QAA9CA,SAA8C,gCAAlC,KAAkC;AACtE,wBACE;AAAM,MAAA,SAAS,EAAC,MAAhB;AAAuB,MAAA,GAAG,EAAE/F;AAA5B,OACG+F,SAAS,gBAAG;AAAG,MAAA,IAAI,EAAEF;AAAT,OAAgB3N,CAAC,CAAC4N,IAAD,CAAjB,CAAH,gBAAkC,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAED;AAAV,OAAiB3N,CAAC,CAAC4N,IAAD,CAAlB,CAD9C,CADF;AAKD,GANA,CADH,CAFF,CADF,CADF;AAgBD,CAnCD;;ACFA,IAAME,gBAAgB,GAAG,SAAnBA,gBAAmB;AAAA,MAAG9N,CAAH,QAAGA,CAAH;AAAA,MAAM+N,OAAN,QAAMA,OAAN;AAAA,MAAerL,IAAf,QAAeA,IAAf;AAAA,MAAqBsL,YAArB,QAAqBA,YAArB;AAAA,MAAmCC,UAAnC,QAAmCA,UAAnC;AAAA,MAA+CC,UAA/C,QAA+CA,UAA/C;AAAA,MAA2DC,WAA3D,QAA2DA,WAA3D;AAAA,MAAwEC,YAAxE,QAAwEA,YAAxE;AAAA,MAAsFC,aAAtF,QAAsFA,aAAtF;AAAA,MAAqGC,gBAArG,QAAqGA,gBAArG;AAAA,MAAuHC,UAAvH,QAAuHA,UAAvH;AAAA,MAAmIC,WAAnI,QAAmIA,WAAnI;AAAA,sBACvB,oBAAC,KAAD;AACE,IAAA,CAAC,EAAExO,CADL;AAEE,IAAA,IAAI,EAAE0C,IAFR;AAGE,IAAA,gBAAgB,EAAE,IAHpB;AAIE,IAAA,OAAO,EAAEqL,OAJX;AAKE,IAAA,YAAY,EAAEC,YALhB;AAME,IAAA,UAAU,EAAEC,UANd;AAOE,IAAA,UAAU,EAAEC,UAPd;AAQE,IAAA,WAAW,EAAEC,WARf;AASE,IAAA,YAAY,EAAEC,YAThB;AAUE,IAAA,UAAU,EAAEG,UAVd;AAWE,IAAA,WAAW,EAAEC,WAXf;AAYE,IAAA,gBAAgB,EAAEF,gBAZpB;AAaE,IAAA,aAAa,EAAED;AAbjB,IADuB;AAAA,CAAzB;;ACEA,IAAMI,eAAe,GAAG;AACtBC,EAAAA,IAAI,EAAEC,UADgB;AAEtBxC,EAAAA,YAAY,EAAEyC;AAFQ,CAAxB;;AAKA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,OAA0H;AAAA;;AAAA,MAAvH1I,QAAuH,QAAvHA,QAAuH;AAAA,MAA7GrF,IAA6G,QAA7GA,IAA6G;AAAA,MAAvG2G,OAAuG,QAAvGA,OAAuG;AAAA,MAA9FqH,YAA8F,QAA9FA,YAA8F;AAAA,MAAhF7I,YAAgF,QAAhFA,YAAgF;AAAA,MAAlE8I,WAAkE,QAAlEA,WAAkE;;AAAA,wBACpIzI,cAAc,EADsH;AAAA,MAC1ItG,CAD0I,mBAC1IA,CAD0I;;AAAA,iBAEtDgP,OAAO,CAAC;AAClGC,IAAAA,aAAa,EAAEhJ;AADmF,GAAD,CAF+C;AAAA,MAE1IiJ,QAF0I,YAE1IA,QAF0I;AAAA,MAEhIC,YAFgI,YAEhIA,YAFgI;AAAA,MAElHC,KAFkH,YAElHA,KAFkH;AAAA,MAE3GC,KAF2G,YAE3GA,KAF2G;AAAA,MAEpGC,OAFoG,YAEpGA,OAFoG;AAAA,MAE3FC,QAF2F,YAE3FA,QAF2F;AAAA,MAEjFC,WAFiF,YAEjFA,WAFiF;AAAA,MAEpEC,SAFoE,YAEpEA,SAFoE;;AAMlJ,MAAM7O,IAAI,GAAGyO,KAAK,EAAlB;AACA,MAAMK,UAAU,GAAGC,UAAU,IAAI,GAAjC;AAGA/M,EAAAA,SAAS,CAAC,YAAM;AACdkM,IAAAA,YAAY,CAACc,OAAb,CAAqB,iBAAmE;AAAA,UAAhEC,OAAgE,SAAhEA,OAAgE;AAAA,UAAvD7O,IAAuD,SAAvDA,IAAuD;AAAA,UAAjD8O,SAAiD,SAAjDA,SAAiD;AAAA,UAAtCC,SAAsC,SAAtCA,SAAsC;AAAA,UAA3BC,aAA2B,SAA3BA,aAA2B;AAAA,UAATC,EAAS;;AACtF,UAAMhL,KAAK,GAAGrE,IAAI,CAACI,IAAD,CAAlB;AACA,UAAMyI,KAAK,GAAGgG,SAAS,CAACS,MAAV,CAAiBlP,IAAjB,CAAd;;AACA,UAAI6O,OAAJ,EAAa;AACX,YAAI,CAAC,IAAIM,MAAJ,CAAWN,OAAX,EAAoBO,IAApB,CAAyBnL,KAAzB,CAAD,IAAoC,CAACwE,KAAzC,EACE8F,QAAQ,CAACvO,IAAD,EAAO;AAAEF,UAAAA,IAAI,EAAE,SAAR;AAAmBuP,UAAAA,OAAO,EAAErQ,CAAC,CAACgQ,aAAD,aAACA,aAAD,uBAACA,aAAa,CAAEH,OAAhB,CAAD,IAA6B7P,CAAC,cAAYgB,IAAI,CAACsP,WAAL,EAAZ;AAA1D,SAAP,CAAR,CADF,KAEK,IAAI,IAAIH,MAAJ,CAAWN,OAAX,EAAoBO,IAApB,CAAyBnL,KAAzB,KAAmC,CAAAwE,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAE3I,IAAP,MAAgB,SAAvD,EAAkE0O,WAAW,CAAC,CAACxO,IAAD,CAAD,CAAX;AACxE;;AACD,UAAI+O,SAAJ,EAAe;AACb,YAAI,CAAA9K,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAE6G,MAAP,IAAgBiE,SAAhB,IAA6B,CAACtG,KAAlC,EACE8F,QAAQ,CAACvO,IAAD,EAAO;AAAEF,UAAAA,IAAI,EAAE,WAAR;AAAqBuP,UAAAA,OAAO,EAAErQ,CAAC,CAAC,CAAAgQ,aAAa,SAAb,IAAAA,aAAa,WAAb,YAAAA,aAAa,CAAED,SAAf,oBAAyC/O,IAAI,CAACsP,WAAL,EAAzC,YAAD;AAA/B,SAAP,CAAR,CADF,KAEK,IAAI,CAAArL,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAE6G,MAAP,KAAiBiE,SAAjB,IAA8B,CAAAtG,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAE3I,IAAP,MAAgB,WAAlD,EAA+D0O,WAAW,CAAC,CAACxO,IAAD,CAAD,CAAX;AACrE;;AACD,UAAI8O,SAAJ,EAAe;AACb,YAAI,CAAA7K,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAE6G,MAAP,IAAgBgE,SAAhB,IAA6B,CAACrG,KAAlC,EACE8F,QAAQ,CAACvO,IAAD,EAAO;AAAEF,UAAAA,IAAI,EAAE,WAAR;AAAqBuP,UAAAA,OAAO,EAAErQ,CAAC,CAAC,CAAAgQ,aAAa,SAAb,IAAAA,aAAa,WAAb,YAAAA,aAAa,CAAEF,SAAf,oBAAyC9O,IAAI,CAACsP,WAAL,EAAzC,YAAD;AAA/B,SAAP,CAAR,CADF,KAEK,IAAI,CAAArL,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAE6G,MAAP,KAAiBgE,SAAjB,IAA8B,CAAArG,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAE3I,IAAP,MAAgB,WAAlD,EAA+D0O,WAAW,CAAC,CAACxO,IAAD,CAAD,CAAX;AACrE;AACF,KAlBD;AAmBD,GApBQ,EAoBN,CAACJ,IAAD,EAAO6O,SAAP,EAAkBF,QAAlB,EAA4BC,WAA5B,CApBM,CAAT;;AAsBA,MAAMe,aAAa,GAAG,SAAhBA,aAAgB,CAAC7N,IAAD,EAAU;AAC9B,IAAU;AACR,UAAI,CAACA,IAAI,CAACyJ,YAAV,EAAwB;AACtB,eAAOzJ,IAAI,CAACyJ,YAAZ;AACD;;AACDzJ,MAAAA,IAAI,CAAC4E,MAAL,GAAc,EAAd;AACAwH,MAAAA,YAAY,CAACc,OAAb,CAAqB,UAACY,KAAD,EAAW;AAC9B,YAAI,CAAC9N,IAAI,CAAC8N,KAAK,CAACxP,IAAP,CAAT,EAAuB0B,IAAI,CAAC4E,MAAL,CAAYF,IAAZ,CAAiBoJ,KAAK,CAACxP,IAAvB;AACxB,OAFD;AAGAmF,MAAAA,QAAQ,CAACzD,IAAD,CAAR;;AACA,UAAI5B,IAAI,KAAK,QAAb,EAAuB;AACrB2G,QAAAA,OAAO;AACR;AACF;AACF,GAdD;;AAgBA,WAASgJ,WAAT,GAAuB;AACrB,QAAMC,WAAW,GAAG5B,YAAY,CAAC6B,MAAb,CAAoB,UAACC,GAAD,EAAMJ,KAAN;AAAA;;AAAA,0BAAsBI,GAAtB,6BAA4BJ,KAA5B,aAA4BA,KAA5B,uBAA4BA,KAAK,CAAExP,IAAnC,IAA0C,EAA1C;AAAA,KAApB,EAAqE,EAArE,CAApB;AACAoO,IAAAA,KAAK,CAACsB,WAAD,CAAL;;AACA,QAAMG,UAAU,gBAAQ5K,YAAR,CAAhB;;AACA4K,IAAAA,UAAU,CAACvJ,MAAX,GAAoB,EAApB;AACAwH,IAAAA,YAAY,CAACc,OAAb,CAAqB,UAAC7M,CAAD,EAAO;AAC1B8N,MAAAA,UAAU,CAACvJ,MAAX,CAAkBF,IAAlB,CAAuBrE,CAAvB,aAAuBA,CAAvB,uBAAuBA,CAAC,CAAE/B,IAA1B;AACD,KAFD;AAGAmF,IAAAA,QAAQ,cAAM0K,UAAN,GAAoB,IAApB,CAAR;;AACA,QAAI/P,IAAI,KAAK,QAAb,EAAuB;AACrB2G,MAAAA,OAAO;AACR;AACF;;AAED,MAAMJ,QAAQ,GAAG,SAAXA,QAAW,CAACqI,UAAD,EAAgB;AAC/B,QAAMoB,gBAAgB,GAAGpB,UAAU,GAAG;AAAEqB,MAAAA,MAAM,EAAE;AAAV,KAAH,GAAmB,EAAtD;AACA,wBACE,oBAAC,SAAD;AAAW,MAAA,KAAK;AAAIC,QAAAA,OAAO,EAAE;AAAb,SAA0BF,gBAA1B,CAAhB;AAA8D,MAAA,OAAO,EAAEL;AAAvE,OACGzQ,CAAC,CAAC,iBAAD,CADJ,CADF;AAKD,GAPD;;AASA,sBACE;AAAM,IAAA,QAAQ,EAAEmP,YAAY,CAACoB,aAAD;AAA5B,kBACE,oBAAC,KAAD,CAAO,QAAP,qBACE;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAkC,IAAA,KAAK,EAAE;AAAE9F,MAAAA,KAAK,EAAE,MAAT;AAAiBwG,MAAAA,UAAU,EAAElC,WAAW,GAAG,MAAH,GAAY;AAApD;AAAzC,kBACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACG,CAACjO,IAAI,KAAK,QAAT,IAAqB4O,UAAtB,kBACC;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAkC,IAAA,KAAK,EAAE;AAAEsB,MAAAA,OAAO,EAAE,MAAX;AAAmBE,MAAAA,cAAc,EAAE;AAAnC;AAAzC,kBACE,gCAAKlR,CAAC,CAAC,qBAAD,CAAN,CADF,eAEE;AAAM,IAAA,OAAO,EAAEyH;AAAf,kBACE,oBAAC,QAAD,OADF,CAFF,CAFJ,eASE;AAAK,IAAA,SAAS,EAAC,2BAAf;AAA2C,IAAA,KAAK,EAAE;AAAEgD,MAAAA,KAAK,EAAE;AAAT;AAAlD,KACGqE,YADH,aACGA,YADH,+CACGA,YAAY,CACTtB,MADH,CACU,UAACzK,CAAD;AAAA,WAAO,IAAP;AAAA,GADV,CADH,yDACG,qBAEG6E,GAFH,CAEO,UAACuJ,KAAD,EAAQrJ,KAAR;AAAA;;AAAA,wBACJ;AAAK,MAAA,GAAG,EAAEqJ,KAAK,CAACnQ,IAAhB;AAAsB,MAAA,SAAS,EAAC;AAAhC,oBACE;AAAM,MAAA,SAAS,EAAE;AAAjB,oBACE,oBAAC,KAAD,QAAQhB,CAAC,CAACmR,KAAK,CAAC1Q,KAAP,CAAT,CADF,EAEG,CAAC0Q,KAAK,CAACrQ,IAAP,gBACC,oBAAC,UAAD;AACE,MAAA,MAAM,EAAE,gBAACgC,KAAD,EAAW;AACjB,4BAAO;AAAK,UAAA,SAAS,EAAC;AAAf,WACJqO,KAAK,SAAL,IAAAA,KAAK,WAAL,IAAAA,KAAK,CAAEC,gBAAP,gBACC;AAAM,UAAA,SAAS,EAAC,gDAAhB;AAAiE,UAAA,KAAK,EAAE;AAAEnJ,YAAAA,IAAI,EAAE;AAAR;AAAxE,WACGkJ,KADH,aACGA,KADH,uBACGA,KAAK,CAAEC,gBADV,CADD,GAIG,IALC,eAML,oBAAC,SAAD,eAAeD,KAAf;AAAsB,UAAA,QAAQ,EAAEjC,QAAhC;AAA0C,UAAA,KAAK,EAAEG,KAAjD;AAAwD,UAAA,YAAY,EAAE;AAAtE,WANK,CAAP;AAQD,OAVH;AAWE,MAAA,IAAI,EAAE8B,KAAK,CAACnQ,IAXd;AAYE,MAAA,OAAO,EAAEsO,OAZX;AAaE,MAAA,YAAY,EAAE;AAbhB,MADD,gBAiBC,oBAAC,UAAD;AACE,MAAA,MAAM,EAAE,gBAACxM,KAAD,EAAW;AACjB,YAAMuO,IAAI,GAAG5C,eAAH,aAAGA,eAAH,uBAAGA,eAAe,CAAG0C,KAAK,CAACrQ,IAAT,CAA5B;AACA,4BAAO,oBAAC,IAAD;AAAM,UAAA,QAAQ,EAAEgC,KAAK,CAACwO,QAAtB;AAAgC,UAAA,KAAK,EAAExO,KAAK,CAACmC;AAA7C,UAAP;AACD,OAJH;AAKE,MAAA,IAAI,EAAEkM,KAAK,CAACnQ,IALd;AAME,MAAA,OAAO,EAAEsO,OANX;AAOE,MAAA,YAAY,EAAE;AAPhB,MAnBJ,CADF,EA+BGG,SAAS,SAAT,IAAAA,SAAS,WAAT,6BAAAA,SAAS,CAAE8B,WAAX,wEAAyBJ,KAAK,CAACnQ,IAA/B,iBACC;AACE,MAAA,KAAK,EAAE;AAAEwQ,QAAAA,UAAU,EAAE,KAAd;AAAqBtR,QAAAA,KAAK,EAAE,mBAA5B;AAAiDuR,QAAAA,WAAW,EAAE,KAA9D;AAAqEC,QAAAA,SAAS,EAAE,OAAhF;AAAyFC,QAAAA,QAAQ,EAAE;AAAnG,OADT;AAEE,MAAA,SAAS,EAAC;AAFZ,OAIGlC,SAJH,aAIGA,SAJH,4CAIGA,SAAS,CAAES,MAJd,+EAIG,kBAAoBiB,KAAK,CAACnQ,IAA1B,CAJH,0DAIG,sBAAiCqP,OAJpC,CADD,GAOG,IAtCN,CADI;AAAA,GAFP,CADH,EA6CGvP,IAAI,KAAK,SAAT,IAAsB,CAAC4O,UAAvB,IAAqC,CAACX,WAAtC,iBACC;AAAK,IAAA,SAAS,EAAC;AAAf,kBACE,oBAAC,SAAD;AACE,IAAA,SAAS,EAAC,mBADZ;AAEE,IAAA,KAAK,EAAE/O,CAAC,CAAC,kBAAD,CAFV;AAIE,IAAA,MAAM;AAJR,IADF,eAOE;AAAK,IAAA,KAAK;AAAIyK,MAAAA,KAAK,EAAE,MAAX;AAAmBmH,MAAAA,SAAS,EAAE;AAA9B,wBAA8C,OAA9C,uBAAkE,OAAlE,QAA2EX,UAA3E,GAAuF,MAAvF,QAA+FS,SAA/F,GAA0G,KAA1G;AAAV,KACGrK,QAAQ,EADX,CAPF,CA9CJ,CATF,EAoEG0H,WAAW,iBACV;AAAK,IAAA,SAAS,EAAC;AAAf,KACGjO,IAAI,KAAK,SAAT,IAAsB,CAAC4O,UAAvB,iBACC;AAAM,IAAA,KAAK,EAAE;AAAEmC,MAAAA,UAAU,EAAE;AAAd,KAAb;AAAoC,IAAA,SAAS,EAAC;AAA9C,KACGxK,QAAQ,EADX,CAFJ,EAMGvG,IAAI,KAAK,SAAT,IAAsB,CAAC4O,UAAvB,iBACC,oBAAC,SAAD;AACE,IAAA,KAAK,EAAE;AAAEgC,MAAAA,SAAS,EAAE;AAAb,KADT;AAEE,IAAA,SAAS,EAAC,mBAFZ;AAGE,IAAA,KAAK,EAAE1R,CAAC,CAAC,kBAAD,CAHV;AAIE,IAAA,MAAM;AAJR,IAPJ,CArEJ,CADF,CADF,EAyFG,CAACc,IAAI,KAAK,QAAT,IAAqB4O,UAAtB,kBACC,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAC;AAArB,kBACE;AAAQ,IAAA,SAAS,EAAC,cAAlB;AAAiC,IAAA,KAAK,EAAE;AAAEzH,MAAAA,IAAI,EAAE;AAAR;AAAxC,KACGZ,QAAQ,CAACqI,UAAD,CADX,CADF,eAIE,oBAAC,SAAD;AACE,IAAA,KAAK,EAAE1P,CAAC,CAAC,kBAAD,CADV;AACgC,IAAA,KAAK,EAAE;AAAEiI,MAAAA,IAAI,EAAE;AAAR,KADvC;AACoD,IAAA,MAAM,EAAE;AAD5D,IAJF,CA1FJ,CADF,CADF;AAuGD,CA9KD;;ACFA,IAAM6J,oBAAoB,GAAG,SAAvBA,oBAAuB,OAAgD;AAAA;;AAAA,MAAhCC,eAAgC,QAAhCA,eAAgC;AAAA,MAAZjP,KAAY;;AAAA,wBAC7DwD,cAAc,EAD+C;AAAA,MACnEtG,CADmE,mBACnEA,CADmE;;AAE3E,MAAM+B,SAAS,GAAGC,KAAK,CAACiI,cAAN,CAAqBoB,GAArB,CAAyB,cAAzB,CAAlB;;AACA,MAAM2G,OAAO,GAAG,SAAVA,OAAU,CAAC/M,KAAD;AAAA,wBAAW;AAAM,MAAA,SAAS,EAAC;AAAhB,OAA6BjF,CAAC,CAACiF,KAAD,CAA9B,CAAX;AAAA,GAAhB;;AACA,MAAMgN,WAAW,GAAG,SAAdA,WAAc,CAAChN,KAAD,EAAW;AAC7B,QAAMyJ,IAAI,GAAG,IAAItK,IAAJ,CAASa,KAAT,CAAb;AACA,wBAAO;AAAM,MAAA,SAAS,EAAC;AAAhB,OAA6ByJ,IAA7B,aAA6BA,IAA7B,uBAA6BA,IAAI,CAAE3I,kBAAN,EAA7B,CAAP;AACD,GAHD;;AAIA,MAAMmM,UAAU,GAAG,SAAbA,UAAa,CAACjN,KAAD,EAAQjF,CAAR,EAAWmS,MAAX,EAA2B;AAAA,QAAhBA,MAAgB;AAAhBA,MAAAA,MAAgB,GAAP,EAAO;AAAA;;AAC5C,WAAOlN,KAAK,IAAI,WAAT,gBAAuB;AAAM,MAAA,SAAS,EAAC;AAAhB,OAAkCjF,CAAC,MAAImS,MAAJ,GAAalN,KAAb,CAAD,IAA0B,EAA5D,CAAvB,gBAAgG;AAAM,MAAA,SAAS,EAAC;AAAhB,OAAoCjF,CAAC,MAAImS,MAAJ,GAAalN,KAAb,CAAD,IAA0B,EAA9D,CAAvG;AACD,GAFD;;AAGA,MAAMvC,IAAI,GAAGI,KAAH,aAAGA,KAAH,sCAAGA,KAAK,CAAEJ,IAAV,gDAAG,YAAae,QAA1B;;AAX2E,kBAYxC9B,QAAQ,CAAC;AAAA;;AAAA,oCAAMK,KAAK,CAACoQ,wBAAZ,0DAAM,sBAAgCC,YAAhC,CAA6CN,eAA7C,CAAN;AAAA,GAAD,CAZgC;AAAA,MAYpEO,eAZoE;;AAa3E,MAAMvE,OAAO,GAAGwE,KAAK,CAACC,OAAN,CAAc,YAAM;AAClC,WAAO,CACL;AACEC,MAAAA,MAAM,EAAEzS,CAAC,CAAC,gCAAD,CADX;AAEE0S,MAAAA,aAAa,EAAE,IAFjB;AAGEC,MAAAA,IAAI,EAAE,qBAAa;AAAA;;AAAA,YAAVC,GAAU,SAAVA,GAAU;AACjB,4BACE;AAAM,UAAA,SAAS,EAAC;AAAhB,wBACE,oBAAC,IAAD;AAAM,UAAA,EAAE,6DAAyCA,GAAG,CAACC,QAA7C,2EAAyC,cAAc9O,cAAd,CAA6B,CAA7B,CAAzC,0DAAyC,sBAAiCD,eAA1E,UAA6FgP,kBAAkB,mBAACF,GAAG,CAACC,QAAL,4EAAC,eAAc9O,cAAd,CAA6B,CAA7B,CAAD,0DAAC,sBAAiC4E,aAAlC;AAAvH,6BAA4KiK,GAAG,CAACC,QAAhL,4EAA4K,eAAc9O,cAAd,CAA6B,CAA7B,CAA5K,0DAA4K,sBAAiC4E,aAA7M,CADF,CADF;AAKD;AATH,KADK,EAYL;AACE8J,MAAAA,MAAM,EAAEzS,CAAC,CAAC,0BAAD,CADX;AAEE0S,MAAAA,aAAa,EAAE,IAFjB;AAGEC,MAAAA,IAAI,EAAE,qBAAa;AAAA;;AAAA,YAAVC,GAAU,SAAVA,GAAU;AACjB,eAAOX,WAAW,mBAACW,GAAG,CAACC,QAAL,mDAAC,eAAcE,eAAf,CAAlB;AACD;AALH,KAZK,EAmBL;AACEN,MAAAA,MAAM,EAAEzS,CAAC,CAAC,8BAAD,CADX;AAEE0S,MAAAA,aAAa,EAAE,IAFjB;AAGEC,MAAAA,IAAI,EAAE,qBAAa;AAAA;;AAAA,YAAVC,GAAU,SAAVA,GAAU;AACjB,eAAOZ,OAAO,yBAAIY,GAAG,CAACC,QAAR,4EAAI,eAAc9O,cAAd,CAA6B,CAA7B,CAAJ,oFAAI,sBAAiC2G,IAArC,2DAAI,uBAAuCvC,YAA3C,EAAd;AACD;AALH,KAnBK,EA0BL;AACEsK,MAAAA,MAAM,EAAEzS,CAAC,CAAC,gCAAD,CADX;AAEE0S,MAAAA,aAAa,EAAE,IAFjB;AAGEC,MAAAA,IAAI,EAAE,qBAAa;AAAA;;AAAA,YAAVC,GAAU,SAAVA,GAAU;AACjB,eAAOZ,OAAO,yBAAIY,GAAG,CAACC,QAAR,mDAAI,eAAc3G,SAAlB,EAAd;AACD;AALH,KA1BK,EAiCL;AACEuG,MAAAA,MAAM,EAAEzS,CAAC,CAAC,uBAAD,CADX;AAEE0S,MAAAA,aAAa,EAAE,IAFjB;AAGEC,MAAAA,IAAI,EAAE,qBAAa;AAAA;;AAAA,YAAVC,GAAU,SAAVA,GAAU;AACjB,eAAOZ,OAAO,MAAIhS,CAAC,CAAC,uDAAoC4S,GAAG,CAACC,QAAxC,4EAAoC,eAAc9O,cAAd,CAA6B,CAA7B,CAApC,0DAAoC,sBAAiCD,eAArE,CAAD,CAAL,CAAd;AACD;AALH,KAjCK,EAwCL;AACE2O,MAAAA,MAAM,EAAEzS,CAAC,CAAC,4BAAD,CADX;AAEE0S,MAAAA,aAAa,EAAE,IAFjB;AAGEC,MAAAA,IAAI,EAAE,qBAAa;AAAA;;AAAA,YAAVC,GAAU,SAAVA,GAAU;AACjB,eAAOV,UAAU,yBAAIU,GAAG,CAACC,QAAR,mDAAI,eAAchI,aAAlB,GAAmC7K,CAAnC,EAAsC,KAAtC,CAAjB;AACD;AALH,KAxCK,CAAP;AAiDD,GAlDe,EAkDb,EAlDa,CAAhB;AAoDA,MAAIgT,MAAJ;;AACA,MAAIlQ,KAAK,CAACN,SAAV,EAAqB;AACnBwQ,IAAAA,MAAM,gBAAG,oBAAC,MAAD,OAAT;AACD,GAFD,MAEO,IAAI,CAAAtQ,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEoJ,MAAN,MAAiB,CAArB,EAAwB;AAC7BkH,IAAAA,MAAM,gBACJ,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAEtB,QAAAA,SAAS,EAAE;AAAb;AAAb,OACG1R,CAAC,CAAC,kCAAD,CAAD,CACEoC,KADF,CACQ,KADR,EAEEwF,GAFF,CAEM,UAACgG,IAAD,EAAO9F,KAAP;AAAA,0BACH;AAAG,QAAA,GAAG,EAAEA,KAAR;AAAe,QAAA,KAAK,EAAE;AAAE8J,UAAAA,SAAS,EAAE;AAAb;AAAtB,SACGhE,IADH,CADG;AAAA,KAFN,CADH,CADF;AAWD,GAZM,MAYA,IAAI,CAAAlL,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEoJ,MAAN,IAAe,CAAnB,EAAsB;AAAA;;AAC3BkH,IAAAA,MAAM,gBACJ,oBAAC,gBAAD;AACE,MAAA,CAAC,EAAEhT,CADL;AAEE,MAAA,IAAI,EAAE0C,IAFR;AAGE,MAAA,OAAO,EAAEqL,OAHX;AAIE,MAAA,YAAY,EAAE,sBAACkF,QAAD,EAAc;AAC1B,eAAO;AACLC,UAAAA,KAAK,EAAE;AACLC,YAAAA,QAAQ,EAAEF,QAAQ,CAACG,MAAT,CAAgBX,MAAhB,KAA2BzS,CAAC,CAAC,iBAAD,CAA5B,GAAkD,OAAlD,GAA4D,EADjE;AAEL2H,YAAAA,OAAO,EAAE,WAFJ;AAGLgK,YAAAA,QAAQ,EAAE;AAHL;AADF,SAAP;AAOD,OAZH;AAaE,MAAA,gBAAgB,EAAE7O,KAAK,CAACwL,gBAb1B;AAcE,MAAA,WAAW,EAAExL,KAAK,CAACqL,WAdrB;AAeE,MAAA,UAAU,EAAErL,KAAK,CAACmL,UAfpB;AAgBE,MAAA,UAAU,EAAEnL,KAAK,CAACoL,UAhBpB;AAiBE,MAAA,UAAU,EAAEpL,KAAK,CAACyL,UAjBpB;AAkBE,MAAA,WAAW,EAAEzL,KAAK,CAAC0L,WAlBrB;AAmBE,MAAA,aAAa,EAAE1L,KAAK,CAACuL,aAnBvB;AAoBE,MAAA,MAAM,EAAEvL,KAAK,CAACuQ,MApBhB;AAqBE,MAAA,WAAW,EAAEvQ,KAAK,CAACwQ;AArBrB,kDAsBoBxQ,KAAK,CAACwL,gBAtB1B,uBAuBE,UAvBF,GAuBcxL,KAAK,CAACyQ,UAvBpB,uBAwBE,YAxBF,GAwBgBzQ,KAAK,CAACsL,YAxBtB,wBADF;AA4BD;;AAED,sBACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACG,CAACtL,KAAK,CAAC0Q,QAAP,iBACC;AAAK,IAAA,SAAS,EAAC;AAAf,kBACE,oBAAC,UAAD;AACE,IAAA,WAAW,EAAE1Q,KAAK,CAAC0H,WADrB;AAEE,IAAA,QAAQ,EAAE,CACR;AACEoD,MAAAA,IAAI,EAAE,4BADR;AAEED,MAAAA,IAAI,EAAE,wCAFR;AAGE7J,MAAAA,eAAe,EAAE,UAHnB;AAIEwJ,MAAAA,KAAK,EAAE,CAAC,OAAD;AAJT,KADQ,EAOR;AACEM,MAAAA,IAAI,EAAE,0BADR;AAEED,MAAAA,IAAI,EAAE,wCAFR;AAGE7J,MAAAA,eAAe,EAAE,UAHnB;AAIEwJ,MAAAA,KAAK,EAAE,CAAC,OAAD;AAJT,KAPQ,CAFZ;AAgBE,IAAA,UAAU,EAAEtN,CAAC,CAAC,sBAAD,CAhBf;AAiBE,IAAA,eAAe,EAAE8C,KAAK,CAACgB;AAjBzB,IADF,eAoBE,8CAEI,oBAAC,eAAD;AACE,IAAA,mBAAmB,EAAEhB,KAAK,CAAC2Q,mBAD7B;AAEE,IAAA,cAAc,EAAE3Q,KAAK,CAACoD,cAFxB;AAGE,IAAA,YAAY,EAAEpD,KAAK,CAACmD,YAHtB;AAIE,IAAA,IAAI,EAAC,SAJP;AAKE,IAAA,SAAS,EAAElE;AALb,IAFJ,CApBF,CAFJ,eAmCE;AAAK,IAAA,KAAK,EAAE;AAAEkG,MAAAA,IAAI,EAAE;AAAR;AAAZ,kBACE,oBAAC,iBAAD;AACE,IAAA,mBAAmB,EAAEnF,KAAK,CAAC2Q,mBAD7B;AAEE,IAAA,QAAQ,EAAE3Q,KAAK,CAACqD,QAFlB;AAGE,IAAA,IAAI,EAAC,SAHP;AAIE,IAAA,SAAS,EAAEpE,SAJb;AAKE,IAAA,YAAY,EAAEe,KAAK,CAACgM,YALtB;AAME,IAAA,WAAW,EAAE,EAAChM,KAAD,aAACA,KAAD,eAACA,KAAK,CAAE0Q,QAAR,CANf;AAOE,IAAA,YAAY,EAAE1Q,KAAK,CAACmD;AAPtB,IADF,eAUE;AAAK,IAAA,SAAS,EAAC,QAAf;AAAwB,IAAA,KAAK,EAAE;AAAEgL,MAAAA,UAAU,EAAE,EAACnO,KAAD,aAACA,KAAD,eAACA,KAAK,CAAE0Q,QAAR,IAAmB,MAAnB,GAA4B,EAA1C;AAA8CvL,MAAAA,IAAI,EAAE;AAApD;AAA/B,KACG+K,MADH,CAVF,CAnCF,CADF;AAoDD,CAnKD;;ACJO,IAAMU,eAAe,GAAG,SAAlBA,eAAkB,OAgBzB;AAAA,MAfJ1T,CAeI,QAfJA,CAeI;AAAA,MAdJ0C,IAcI,QAdJA,IAcI;AAAA,MAbJwD,cAaI,QAbJA,cAaI;AAAA,MAZJC,QAYI,QAZJA,QAYI;AAAA,MAXJkN,AACAM,mBAUI,QAVJA,mBAUI;AAAA,MATJC,cASI,QATJA,cASI;AAAA,MARJpR,SAQI,QARJA,SAQI;AAAA,MAPJgR,QAOI,QAPJA,QAOI;AAAA,MANJvN,YAMI,QANJA,YAMI;AAAA,MALJ6I,YAKI,QALJA,YAKI;AAAA,MAJJyE,UAII,QAJJA,UAII;AAAA,MAHJM,UAGI,QAHJA,UAGI;AAAA,MAFJC,AACAL,mBACI,QADJA,mBACI;;AAAA,kBAEoB9R,QAAQ,CAAC6R,QAAQ,GAAG,QAAH,GAAc,EAAvB,CAF5B;AAAA,MAEG1S,IAFH;AAAA,MAESiT,OAFT;;AAAA,mBAGsBpS,QAAQ,CAAC6R,QAAQ,GAAG,IAAH,GAAU,KAAnB,CAH9B;AAAA,MAGGQ,KAHH;AAAA,MAGUC,QAHV;;AAAA,mBAIwBtS,QAAQ,CAACsE,YAAD,CAJhC;AAAA,MAIGiO,AAAQC,SAJX;;AAAA,mBAKiCxS,QAAQ,CAAC4R,UAAD,CALzC;AAAA,MAKGa,AAAaC,aALhB;;AAkBJzR,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI9B,IAAJ,EAAUmT,QAAQ,CAAC,IAAD,CAAR;AACX,GAFQ,EAEN,CAACnT,IAAD,CAFM,CAAT;AAGA,MAAMwT,GAAG,GAAGtS,KAAK,CAACmL,WAAN,CAAkBoH,SAAlB,CAA4B,CAAC,SAAD,CAA5B,KAA4C,KAAxD;;AACA,MAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC7BP,IAAAA,QAAQ,CAAC,KAAD,CAAR;AACAF,IAAAA,OAAO,CAAC,EAAD,CAAP;AACAI,IAAAA,SAAS,CAAClO,YAAD,CAAT;AACAoO,IAAAA,aAAa,CAACd,UAAD,CAAb;AACD,GALD;;AAYA,MAAI/Q,SAAJ,EAAe;AACb,wBAAO,oBAAC,MAAD,OAAP;AACD;;AAGD,MAAIwQ,MAAJ;;AACA,MAAI,CAACtQ,IAAD,IAAS,CAAAA,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEoJ,MAAN,MAAiB,CAA9B,EAAiC;AAC/BkH,IAAAA,MAAM,gBACJ,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAEtB,QAAAA,SAAS,EAAE;AAAb;AAAb,OACG1R,CAAC,CAAC,kCAAD,CAAD,CACEoC,KADF,CACQ,KADR,EAEEwF,GAFF,CAEM,UAACgG,IAAD,EAAO9F,KAAP;AAAA,0BACH;AAAG,QAAA,GAAG,EAAEA,KAAR;AAAe,QAAA,KAAK,EAAE;AAAE8J,UAAAA,SAAS,EAAE;AAAb;AAAtB,SACGhE,IADH,CADG;AAAA,KAFN,CADH,CADF;AAWD,GAZD,MAYO,IAAIlL,IAAI,IAAI,CAAAA,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEoJ,MAAN,IAAe,CAA3B,EAA8B;AACnCkH,IAAAA,MAAM,gBACJ,oBAAC,WAAD;AACE,MAAA,IAAI,EAAEtQ,IADR;AAEE,MAAA,mBAAmB,EAAEiR,mBAFvB;AAGE,MAAA,UAAU,EAAEE,UAAU,GAAGA,UAAH,GAAgBS,GAAG,GAAG,6CAAH,GAAmD;AAH9F,MADF;AAOD;;AAED,sBACE,oBAAC,KAAD,CAAO,QAAP,qBACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACGnO,QAAQ,iBACP,oBAAC,YAAD;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,iBAAiB,EAAE,6BAAM;AACvB4N,MAAAA,OAAO,CAAC,QAAD,CAAP;AACAE,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACD;AALH,IAFJ,EAUG,CAACT,QAAD,IAAatN,cAAb,iBACC,oBAAC,YAAD;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,iBAAiB,EAAE,6BAAM;AACvB6N,MAAAA,OAAO,CAAC,QAAD,CAAP;AACAE,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACD;AALH,IAXJ,CADF,EA4BGjB,MA5BH,EA6BGgB,KAAK,iBACJ,oBAAC,KAAD,QACGlT,IAAI,KAAK,QAAT,iBACC;AAAK,IAAA,SAAS,EAAC;AAAf,kBAEI,oBAAC,cAAD;AACE,IAAA,mBAAmB,EAAE2S,mBADvB;AAEE,IAAA,cAAc,EAAEvN,cAFlB;AAGE,IAAA,YAAY,EAAED,YAHhB;AAIE,IAAA,IAAI,EAAC,QAJP;AAKE,IAAA,OAAO,EAAEuO;AALX,IAFJ,CAFJ,EAcG1T,IAAI,KAAK,QAAT,iBACC;AAAK,IAAA,SAAS,EAAC;AAAf,kBACE,oBAAC,iBAAD;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,OAAO,EAAE0T,gBAFX;AAGE,IAAA,QAAQ,EAAErO,QAHZ;AAIE,IAAA,cAAc,EAAEyN,cAJlB;AAKE,IAAA,YAAY,EAAE3N,YALhB;AAME,IAAA,YAAY,EAAE6I;AANhB,IADF,CAfJ,CA9BJ,CADF;AA6DD,CA3IM;;ACAP,IAAMmD,WAAW,GAAG,SAAdA,WAAc,CAAChN,KAAD,EAAW;AAC7B,MAAMyJ,IAAI,GAAG,IAAItK,IAAJ,CAASa,KAAT,CAAb;AACA,sBAAO;AAAM,IAAA,SAAS,EAAC;AAAhB,KAA4ByJ,IAA5B,aAA4BA,IAA5B,uBAA4BA,IAAI,CAAE3I,kBAAN,EAA5B,CAAP;AACD,CAHD;;AAIA,IAAMiM,OAAO,GAAG,SAAVA,OAAU,CAAC/M,KAAD;AAAA,sBAAW;AAAM,IAAA,SAAS,EAAC;AAAhB,KAA4BA,KAA5B,CAAX;AAAA,CAAhB;;AAEA,IAAMwP,mBAAmB,GAAG,SAAtBA,mBAAsB,OAgBtB;AAAA,MAfJ/R,IAeI,QAfJA,IAeI;AAAA,MAdJF,SAcI,QAdJA,SAcI;AAAA,MAbJgR,QAaI,QAbJA,QAaI;AAAA,MAZJ1E,YAYI,QAZJA,YAYI;AAAA,MAXJ5I,cAWI,QAXJA,cAWI;AAAA,MAVJC,QAUI,QAVJA,QAUI;AAAA,MATJkN,MASI,QATJA,MASI;AAAA,MARJ7I,AACAvE,YAOI,QAPJA,YAOI;AAAA,MANJsN,UAMI,QANJA,UAMI;AAAA,MALJM,UAKI,QALJA,UAKI;AAAA,MAJJa,AACA3C,eAGI,QAHJA,eAGI;AAAA,MAFJjF,AACA2G,mBACI,QADJA,mBACI;;AAAA,wBAEUnN,cAAc,EAFxB;AAAA,MAEItG,CAFJ,mBAEIA,CAFJ;;AAGJ,MAAM2U,OAAO,GAAG,SAAVA,OAAU,GAAM;AAAA;;AACpB,WAAOjS,IAAP,aAAOA,IAAP,yCAAOA,IAAI,CAAEe,QAAb,mDAAO,eAAgBmE,GAAhB,CAAoB,UAACiL,QAAD;AAAA;;AAAA,+BACxB7S,CAAC,CAAC,gCAAD,CADuB,IACc6S,QADd,aACcA,QADd,gDACcA,QAAQ,CAAE9O,cAAV,CAAyB,CAAzB,CADd,0DACc,sBAA6B4E,aAD3C,QAExB3I,CAAC,CAAC,0BAAD,CAFuB,IAEQiS,WAAW,CAAC,CAAAY,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEE,eAAV,KAA6B,EAA9B,CAFnB,QAGxB/S,CAAC,CAAC,8BAAD,CAHuB,IAGYgS,OAAO,CAAC,CAAAa,QAAQ,SAAR,IAAAA,QAAQ,WAAR,sCAAAA,QAAQ,CAAE9O,cAAV,CAAyB,CAAzB,6GAA6B2G,IAA7B,kFAAmCvC,YAAnC,KAAmD,EAApD,CAHnB,QAIxBnI,CAAC,CAAC,gCAAD,CAJuB,IAIcgS,OAAO,CAACa,QAAD,aAACA,QAAD,uBAACA,QAAQ,CAAE3G,SAAX,CAJrB,QAKxBlM,CAAC,CAAC,uBAAD,CALuB,IAKKgS,OAAO,CAAChS,CAAC,sCAAmC6S,QAAnC,aAAmCA,QAAnC,iDAAmCA,QAAQ,CAAE9O,cAAV,CAAyB,CAAzB,CAAnC,2DAAmC,uBAA6BD,eAAhE,EAAF,CALZ,QAMxB9D,CAAC,CAAC,4BAAD,CANuB,IAMUgS,OAAO,CAAChS,CAAC,UAAO6S,QAAP,aAAOA,QAAP,uBAAOA,QAAQ,CAAEhI,aAAjB,EAAF,CANjB;AAAA,KAApB,CAAP;AAQD,GATD;;AAUA,MAAM8I,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACd,QAAD,EAAc;AAAC,YAAU5M,YAAV,aAAUA,YAAV,uBAAUA,YAAY,CAAEa,gBAAxB,UAA4CgM,kBAAkB,CAACD,QAAD,aAACA,QAAD,uBAACA,QAAQ,CAAG7S,CAAC,CAAC,gCAAD,CAAJ,CAAT,CAA9D;AAAkH,GAA7J;;AACA,sBACE;AAAK,IAAA,KAAK,EAAE;AAAE2H,MAAAA,OAAO,EAAE;AAAX;AAAZ,kBACE;AAAK,IAAA,SAAS,EAAC;AAAf,kBACE;AAAK,IAAA,SAAS,EAAC;AAAf,kBAEE,oBAAC,eAAD;AACE,IAAA,CAAC,EAAE3H,CADL;AAEE,IAAA,IAAI,EAAE2U,OAAO,EAFf;AAGE,IAAA,cAAc,EAAEzO,cAHlB;AAIE,IAAA,SAAS,EAAE1D,SAJb;AAKE,IAAA,QAAQ,EAAEgR,QALZ;AAME,IAAA,QAAQ,EAAErN,QANZ;AAOE,IAAA,MAAM,EAAEkN,MAPV;AAQE,IAAA,mBAAmB,EAAEI,mBARvB;AASE,IAAA,YAAY,EAAExN,YAThB;AAUE,IAAA,YAAY,EAAE6I,YAVhB;AAWE,IAAA,UAAU,EAAE+E,UAXd;AAYE,IAAA,UAAU,EAAEN,UAZd;AAaE,IAAA,eAAe,EAAExB,eAbnB;AAcE,IAAA,mBAAmB,EAAE4B;AAdvB,IAFF,CADF,CADF,CADF;AAyBD,CAvDD;;ACJA,IAAMiB,YAAY,GAAG,SAAfA,YAAe,OAAiG;AAAA;;AAAA,MAA9FpK,WAA8F,QAA9FA,WAA8F;AAAA,kCAAjF1G,eAAiF;AAAA,MAAjFA,eAAiF,qCAA/D,UAA+D;AAAA,gCAAnD+Q,aAAmD;AAAA,MAAnDA,aAAmD,mCAAnC,EAAmC;AAAA,MAA/B9C,eAA+B,QAA/BA,eAA+B;AAAA,MAAd+C,OAAc,QAAdA,OAAc;AACpH,MAAMlR,QAAQ,GAAG5B,KAAK,CAACC,UAAN,CAAiBC,kBAAjB,EAAjB;AACA,MAAMkJ,QAAQ,GAAGpJ,KAAK,CAACiI,cAAN,CAAqBoB,GAArB,CAAyB,UAAzB,CAAjB;;AAFoH,wBAGtG/E,cAAc,EAHwF;AAAA,MAG5GtG,CAH4G,mBAG5GA,CAH4G;;AAAA,kBAIhF2B,QAAQ,CAACkT,aAAa,CAACE,UAAd,IAA4B,CAA7B,CAJwE;AAAA,MAI7GA,UAJ6G;AAAA,MAIjGC,aAJiG;;AAAA,mBAKpFrT,QAAQ,CAACkT,aAAa,CAACI,QAAd,IAA0B,EAA3B,CAL4E;AAAA,MAK7GA,QAL6G;AAAA,MAKnGC,WALmG;;AAAA,mBAMhFvT,QAAQ,CAACkT,aAAa,CAACtB,UAAd,IAA4B,CAAC;AAAE7P,IAAAA,EAAE,EAAE,aAAN;AAAqByR,IAAAA,IAAI,EAAE;AAA3B,GAAD,CAA7B,CANwE;AAAA,MAM7G5B,UAN6G;AAAA,MAMjGc,aANiG;;AAAA,mBAO5E1S,QAAQ,CAAC,CAAD,CAPoE;AAAA,MAO7GyM,YAP6G;AAAA,MAO/FgH,eAP+F;;AAAA,mBAQ5EzT,QAAQ,CAAC,YAAM;AACrD,WAAOkT,aAAa,CAAC5O,YAAd,IAA8B,EAArC;AACD,GAF+C,CARoE;AAAA,MAQ7GA,YAR6G;AAAA,MAQ/FI,eAR+F;;AAAA,8BAWrDrE,KAAK,CAACK,KAAN,CAAYC,QAAZ,CAAqBgJ,iBAArB,cAA4CrF,YAA5C;AAA0DoP,IAAAA,cAAc,EAAE;AAA1E,MAAkFzR,QAAlF,EAA4F,EAA5F,EAAgGwH,QAAhG,CAXqD;AAAA,MAWjGkK,AAAoBC,SAX6E,yBAWnF7S,IAXmF;AAAA,MAW/D8S,KAX+D;;AAYpH,MAAIC,QAAQ,GAAGC,MAAM,CAAC1T,KAAP,CAAaoG,KAAb,CAAmBuN,OAAnB,CAA2BF,QAA3B,EAAf;AAEA,MAAIG,gBAAgB,GAAGH,QAAQ,GAC3B;AAAEI,IAAAA,KAAK,EAAE,GAAT;AAAcC,IAAAA,MAAM,EAAEf,UAAtB;AAAkCgB,IAAAA,SAAS,EAAExC,UAAU,SAAV,IAAAA,UAAU,WAAV,oBAAAA,UAAU,CAAG,CAAH,CAAV,sDAAiB4B,IAAjB,GAAwB,MAAxB,GAAiC;AAA9E,GAD2B,GAE3B;AAAEU,IAAAA,KAAK,EAAEZ,QAAT;AAAmBa,IAAAA,MAAM,EAAEf,UAA3B;AAAuCgB,IAAAA,SAAS,EAAExC,UAAU,SAAV,IAAAA,UAAU,WAAV,qBAAAA,UAAU,CAAG,CAAH,CAAV,wDAAiB4B,IAAjB,GAAwB,MAAxB,GAAiC;AAAnF,GAFJ;;AAdoH,+BAkBlDnT,KAAK,CAACK,KAAN,CAAYC,QAAZ,CAAqBgJ,iBAArB,CAAuCrF,YAAvC,EAAqDrC,QAArD,EAA+DgS,gBAA/D,EAAiFxK,QAAjF,CAlBkD;AAAA,MAkBjG4K,WAlBiG,0BAkB5GxT,SAlB4G;AAAA,MAkBpFC,AAAgBC,IAlBoE,0BAkBpEA,IAlBoE;AAAA,MAkB3DC,IAlB2D;AAqBpHC,EAAAA,SAAS,CAAC,YAAM;AACd,WAAO,YAAM;AACXD,MAAAA,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAE+I,UAAN;AACD,KAFD;AAGD,GAJQ,EAIN,EAJM,CAAT;AAKA9I,EAAAA,SAAS,CAAC,YAAM;AAAEwS,IAAAA,eAAe,CAACG,SAAD,aAACA,SAAD,uBAACA,SAAS,CAAEU,KAAZ,CAAf;AAAmC,GAA5C,EAA8C,CAACV,SAAD,CAA9C,CAAT;AACA3S,EAAAA,SAAS,CAAC,YAAM;AACdoS,IAAAA,aAAa,CAAC,CAAD,CAAb;AACD,GAFQ,EAEN,CAAC/O,YAAD,CAFM,CAAT;;AAIA,MAAMiQ,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1BlB,IAAAA,aAAa,CAAC,UAACmB,SAAD;AAAA,aAAeA,SAAS,GAAGlB,QAA3B;AAAA,KAAD,CAAb;AACD,GAFD;;AAIA,MAAMmB,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1BpB,IAAAA,aAAa,CAAC,UAACmB,SAAD;AAAA,aAAeA,SAAS,GAAGlB,QAA3B;AAAA,KAAD,CAAb;AACD,GAFD;;AAGA,MAAMoB,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1BrB,IAAAA,aAAa,CAAC,UAACmB,SAAD;AAAA,aAAe,CAAAZ,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAEU,KAAX,KAAqB9L,IAAI,CAACmM,IAAL,CAAU,CAAAf,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAEU,KAAX,IAAmB,EAA7B,IAAmC,EAAnC,GAAwChB,QAA5E;AAAA,KAAD,CAAb;AACD,GAFD;;AAIA,MAAMsB,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC3BvB,IAAAA,aAAa,CAAC,UAACmB,SAAD;AAAA,aAAe,CAAf;AAAA,KAAD,CAAb;AACD,GAFD;;AAGA,MAAMK,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,WAAD,EAAcrH,KAAd,EAAgC;AAAA,QAAlBA,KAAkB;AAAlBA,MAAAA,KAAkB,GAAV,KAAU;AAAA;;AACzD,QAAI,CAACA,KAAL,EAAY;AACV,UAAIsH,cAAc,GAAGD,WAAW,CAACnP,MAAjC;;AACA,UAAIqP,IAAI,gBAAQ1Q,YAAR,EAAyBwQ,WAAzB,CAAR;;AACA,UAAIC,cAAJ,EAAoBA,cAAc,CAAC9G,OAAf,CAAuB,UAAC/L,GAAD;AAAA,eAAS,OAAO8S,IAAI,CAAC9S,GAAD,CAApB;AAAA,OAAvB;AACpB4S,AACA,aAAOE,IAAI,CAACrP,MAAZ;AACAjB,MAAAA,eAAe,cAAMsQ,IAAN,EAAf;AACD,KAPD,MAOO;AACLtQ,MAAAA,eAAe,cAAMwO,aAAa,CAAC5O,YAApB,EAAf;AACD;AAEF,GAZD;;AAcA,MAAM2Q,UAAU,GAAGC,WAAW,CAAC,UAACC,IAAD,EAAU;AACvC,QAAIA,IAAI,CAAChL,MAAL,KAAgB,CAApB,EAAuB;AACvBuI,IAAAA,aAAa,CAACyC,IAAD,CAAb;AACD,GAH6B,EAG3B,EAH2B,CAA9B;;AAKA,MAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,CAAChU,CAAD,EAAO;AAClCmS,IAAAA,WAAW,CAAC8B,MAAM,CAACjU,CAAC,CAACiF,MAAF,CAAS/C,KAAV,CAAP,CAAX;AACD,GAFD;;AAIA,MAAMgS,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC5B,WAAO,CAKL;AACExW,MAAAA,KAAK,EAAET,CAAC,CAAC,sBAAD,CADV;AAEEgB,MAAAA,IAAI,EAAE;AAFR,KALK,EASL;AACEP,MAAAA,KAAK,EAAET,CAAC,CAAC,qBAAD,CADV;AAEEgB,MAAAA,IAAI,EAAE;AAFR,KATK,EAaL;AACEP,MAAAA,KAAK,EAAET,CAAC,CAAC,oBAAD,CADV;AAEEgB,MAAAA,IAAI,EAAE,cAFR;AAGEkW,MAAAA,SAAS,EAAE,EAHb;AAIErH,MAAAA,OAAO,EAAE,eAJX;AAKEsH,MAAAA,KAAK,EAAEnX,CAAC,CAAC,sCAAD,CALV;AAMEoR,MAAAA,gBAAgB,EAAE;AANpB,KAbK,CAAP;AAsBD,GAvBD;;AA6BA,MAAI,CAAA1O,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAEoJ,MAAN,MAAiB,IAArB,EAA2B;AACzB,QAAI2J,QAAJ,EAAc;AACZ,0BACE,oBAAC,mBAAD;AACE,QAAA,eAAe,EAAE3R,eADnB;AAEE,QAAA,IAAI,EAAEpB,IAFR;AAGE,QAAA,WAAW,EAAEC,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAE+R,WAHrB;AAIE,QAAA,SAAS,EAAEsB,WAJb;AAKE,QAAA,mBAAmB,EAAEnB,aAAa,CAAC5O,YALrC;AAME,QAAA,QAAQ,EAAE,CAAC6O,OANb;AAOE,QAAA,cAAc,EAAE0B,kBAPlB;AAQE,QAAA,YAAY,EAAES,eAAe,EAR/B;AASE,QAAA,QAAQ,EAAET,kBATZ;AAUE,QAAA,MAAM,EAAEI,UAVV;AAWE,QAAA,UAAU,EAAEV,aAXd;AAYE,QAAA,UAAU,EAAEE,aAZd;AAaE,QAAA,WAAW,EAAEjM,IAAI,CAACC,KAAL,CAAW2K,UAAU,GAAGE,QAAxB,CAbf;AAcE,QAAA,aAAa,EAAEA,QAdjB;AAeE,QAAA,WAAW,EAAE,KAff;AAgBE,QAAA,gBAAgB,EAAE8B,oBAhBpB;AAiBE,QAAA,WAAW,EAAEvM,WAjBf;AAkBE,QAAA,YAAY,EAAEvE,YAlBhB;AAmBE,QAAA,UAAU,EAAEsN,UAnBd;AAoBE,QAAA,YAAY,EAAEnF,YApBhB;AAqBE,QAAA,UAAU,EAAE,sCArBd;AAsBE,QAAA,eAAe,EAAE2D;AAtBnB,QADF;AA0BD,KA3BD,MA2BO;AACL,0BACE,iCACG+C,OAAO,iBAAI,oBAAC,MAAD,QAAS9U,CAAC,CAAC,yBAAD,CAAV,CADd,eAEE,oBAAC,oBAAD;AACE,QAAA,eAAe,EAAE8D,eADnB;AAEE,QAAA,IAAI,EAAEpB,IAFR;AAGE,QAAA,SAAS,EAAEsT,WAHb;AAIE,QAAA,mBAAmB,EAAEnB,aAAa,CAAC5O,YAJrC;AAKE,QAAA,QAAQ,EAAE,CAAC6O,OALb;AAME,QAAA,cAAc,EAAE0B,kBANlB;AAOE,QAAA,YAAY,EAAES,eAAe,EAP/B;AAQE,QAAA,QAAQ,EAAET,kBARZ;AASE,QAAA,MAAM,EAAEI,UATV;AAUE,QAAA,UAAU,EAAEV,aAVd;AAWE,QAAA,UAAU,EAAEE,aAXd;AAYE,QAAA,UAAU,EAAEC,aAZd;AAaE,QAAA,WAAW,EAAEE,cAbf;AAcE,QAAA,WAAW,EAAEpM,IAAI,CAACC,KAAL,CAAW2K,UAAU,GAAGE,QAAxB,CAdf;AAeE,QAAA,aAAa,EAAEA,QAfjB;AAgBE,QAAA,WAAW,EAAE,KAhBf;AAiBE,QAAA,gBAAgB,EAAE8B,oBAjBpB;AAkBE,QAAA,WAAW,EAAEvM,WAlBf;AAmBE,QAAA,YAAY,EAAEvE,YAnBhB;AAoBE,QAAA,UAAU,EAAEsN,UApBd;AAqBE,QAAA,YAAY,EAAEnF,YArBhB;AAsBE,QAAA,eAAe,EAAE2D;AAtBnB,QAFF,CADF;AA6BD;AACF;AACF,CA7JD;;ACDA,IAAMqF,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzB,MAAI,CAACpV,KAAK,CAACoG,KAAN,CAAYiP,cAAZ,EAAL,EAAmC;AACjC,WAAO,IAAP;AACD;;AACD,MAAMzT,QAAQ,GAAG5B,KAAK,CAACC,UAAN,CAAiBC,kBAAjB,EAAjB;;AAJyB,wBAKXoE,cAAc,EALH;AAAA,MAKjBtG,CALiB,mBAKjBA,CALiB;;AAMzB,MAAMiG,YAAY,GAAG;AACnBrC,IAAAA,QAAQ,EAAEA,QADS;AAEnBkD,IAAAA,gBAAgB,EAAEtB,wBAAwB,EAFvB;AAGnB6P,IAAAA,cAAc,EAAE;AAHG,GAArB;;AANyB,8BAW4BrT,KAAK,CAACK,KAAN,CAAYC,QAAZ,CAAqBgJ,iBAArB,CAAuCrF,YAAvC,EAAqDrC,QAArD,EAA+D,EAA/D,EAAmE,KAAnE,CAX5B;AAAA,MAWjBpB,SAXiB,yBAWjBA,SAXiB;AAAA,MAWNC,AAAgBC,IAXV,yBAWUA,IAXV;AAAA,MAWmBC,IAXnB;;AAazB,MAAO2U,kBAAkB,GAAI;AAC3BC,IAAAA,IAAI,eAAE,oBAAC,WAAD,OADqB;AAE3BC,IAAAA,UAAU,EAAExX,CAAC,CAAC,sBAAD,CAFc;AAG3ByX,IAAAA,IAAI,EAAE,CACJ;AACEC,MAAAA,KAAK,EAAElV,SAAS,GAAG,GAAH,GAASE,IAAT,aAASA,IAAT,uBAASA,IAAI,CAAEuT,KADjC;AAEExV,MAAAA,KAAK,EAAET,CAAC,CAAC,mBAAD,CAFV;AAGE2N,MAAAA,IAAI;AAHN,KADI,CAHqB;AAU3BX,IAAAA,KAAK,EAAE,CACL;AACE0K,MAAAA,KAAK,EAAElV,SAAS,GAAG,GAAH,GAASE,IAAT,aAASA,IAAT,uBAASA,IAAI,CAAEuT,KADjC;AAEExV,MAAAA,KAAK,EAAET,CAAC,CAAC,yBAAD,CAFV;AAGE2N,MAAAA,IAAI;AAHN,KADK;AAVoB,GAA7B;AAkBA,sBAAO,oBAAC,kBAAD,EAAwB2J,kBAAxB,CAAP;AACD,CAhCD;;ICSaK,cAAc,GAAG,SAAjBA,cAAiB,OAA6B;AAAA;;AAAA,MAA1BC,SAA0B,QAA1BA,SAA0B;AAAA,MAAfC,QAAe,QAAfA,QAAe;AACzD,MAAMC,UAAU,GAAG,UAAnB;AACA,MAAMjP,KAAK,GAAGkP,WAAW,CAAC,UAAClP,KAAD;AAAA,WAAWA,KAAX;AAAA,GAAD,CAAzB;AACA,MAAMmP,QAAQ,GAAGnP,KAAH,aAAGA,KAAH,wCAAGA,KAAK,CAAEoP,MAAV,kDAAG,cAAeC,gBAAhC;;AAHyD,8BAItBlW,KAAK,CAACmW,QAAN,CAAeC,QAAf,CAAwB;AAAER,IAAAA,SAAS,EAATA,SAAF;AAAaE,IAAAA,UAAU,EAAVA,UAAb;AAAyBE,IAAAA,QAAQ,EAARA;AAAzB,GAAxB,CAJsB;;AAKzD,MAAMtI,UAAU,GAAGC,UAAU,IAAI,GAAjC;AACA,MAAM7G,QAAQ,GAAGuP,WAAW,EAA5B;;AANyD,wBAO3C/R,cAAc,EAP6B;AAAA,MAOjDtG,CAPiD,mBAOjDA,CAPiD;;AAQzD,MAAM4D,QAAQ,GAAG5B,KAAK,CAACC,UAAN,CAAiBC,kBAAjB,EAAjB;AACA,MAAMoW,iBAAiB,GAAG;AACxBrS,IAAAA,YAAY,EAAE;AACZrC,MAAAA,QAAQ,EAAEA,QADE;AAEZkD,MAAAA,gBAAgB,EAAEtB,wBAAwB;AAF9B;AADU,GAA1B;;AATyD,uBAenC+S,aAAa,EAfsB;AAAA,MAejDC,IAfiD,kBAejDA,IAfiD;;AAiBzD,MAAIX,QAAQ,KAAK,UAAjB,EAA6B;AAC3B,wBACE,oBAAC,MAAD,qBACE,oBAAC,KAAD,CAAO,QAAP,qBACE;AAAK,MAAA,SAAS,EAAC;AAAf,oBACE;AAAG,MAAA,SAAS,EAAC,YAAb;AAA0B,MAAA,KAAK,EAAE;AAAE5G,QAAAA,UAAU,EAAEvB,UAAU,GAAG,KAAH,GAAW;AAAnC;AAAjC,oBACE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,oBAAT;AAA8B,MAAA,KAAK,EAAE;AAAE+I,QAAAA,MAAM,EAAE,SAAV;AAAqBvY,QAAAA,KAAK,EAAE;AAA5B;AAArC,OACGF,CAAC,CAAC,gBAAD,CADJ,CADF,EAGU,GAHV,qBAII,kCAAO8I,QAAQ,CAAC4P,QAAT,KAAsB,mCAAtB,GAA4D1Y,CAAC,CAAC,kBAAD,CAA7D,GAAoFA,CAAC,CAAC,kBAAD,CAA5F,CAJJ,CADF,eAOE,oBAAC,YAAD;AACE,MAAA,IAAI,EAAKwY,IAAL,WADN;AAEE,MAAA,SAAS,EAAE;AAAA,4BACT,oBAAC,YAAD;AACE,UAAA,WAAW,EAAEA,IADf;AAEE,UAAA,eAAe,EAAC,UAFlB;AAGE,UAAA,eAAe,EAAC,uBAHlB;AAIE,UAAA,aAAa,EAAEF,iBAJjB;AAKE,UAAA,OAAO,EAAE;AALX,UADS;AAAA;AAFb,MAPF,eAmBE,oBAAC,YAAD;AAAc,MAAA,IAAI,EAAKE,IAAL,gBAAlB;AAA0C,MAAA,SAAS,EAAE,mBAAC1V,KAAD;AAAA,4BAAW,gCAAK9C,CAAC,CAAC,wCAAD,CAAN,CAAX;AAAA;AAArD,MAnBF,eAoBE,oBAAC,YAAD;AAAc,MAAA,IAAI,EAAKwY,IAAL,cAAlB;AAAwC,MAAA,SAAS,EAAE,mBAAC1V,KAAD;AAAA,4BAAW,oBAAC,sBAAD,eAA4BA,KAA5B;AAAmC,UAAA,WAAW,EAAE0V;AAAhD,WAAX;AAAA;AAAnD,MApBF,eAqBE,oBAAC,YAAD;AAAc,MAAA,IAAI,EAAKA,IAAL,0BAAlB;AAAoD,MAAA,SAAS,EAAE;AAAA,4BAAM,oBAAC,cAAD,OAAN;AAAA;AAA/D,MArBF,CADF,CADF,CADF;AA6BD,GA9BD,MA8BO,OAAO,IAAP;AACR,CAhDM;AAkDP,IAAMG,oBAAoB,GAAG;AAC3BhB,EAAAA,cAAc,EAAdA,cAD2B;AAE3BP,EAAAA,YAAY,EAAZA,YAF2B;AAI3BpT,EAAAA,WAAW,EAAXA,WAJ2B;AAK3BjE,EAAAA,MAAM,EAANA,MAL2B;AAM3B6Y,EAAAA,qBAAqB,EAAE,+BAAC9V,KAAD;AAAA,wBAAW,oBAAC,cAAD,EAAoBA,KAApB,CAAX;AAAA;AANI,CAA7B;AASA,IAAa+V,sBAAsB,GAAG,SAAzBA,sBAAyB,GAAM;AAC1CtR,EAAAA,MAAM,CAACuR,OAAP,CAAeH,oBAAf,EAAqC/I,OAArC,CAA6C,iBAAkB;AAAA,QAAhB/L,GAAgB;AAAA,QAAXoB,KAAW;AAC7DjD,IAAAA,KAAK,CAACoQ,wBAAN,CAA+B2G,YAA/B,CAA4ClV,GAA5C,EAAiDoB,KAAjD;AACD,GAFD;AAGD,CAJM;;;;"}